(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function tm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Bd={exports:{}},Ai={},$d={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lr=Symbol.for("react.element"),nm=Symbol.for("react.portal"),om=Symbol.for("react.fragment"),rm=Symbol.for("react.strict_mode"),im=Symbol.for("react.profiler"),sm=Symbol.for("react.provider"),lm=Symbol.for("react.context"),am=Symbol.for("react.forward_ref"),um=Symbol.for("react.suspense"),cm=Symbol.for("react.memo"),dm=Symbol.for("react.lazy"),ja=Symbol.iterator;function fm(e){return e===null||typeof e!="object"?null:(e=ja&&e[ja]||e["@@iterator"],typeof e=="function"?e:null)}var Jd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wd=Object.assign,Od={};function uo(e,t,n){this.props=e,this.context=t,this.refs=Od,this.updater=n||Jd}uo.prototype.isReactComponent={};uo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};uo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Yd(){}Yd.prototype=uo.prototype;function Pl(e,t,n){this.props=e,this.context=t,this.refs=Od,this.updater=n||Jd}var Rl=Pl.prototype=new Yd;Rl.constructor=Pl;Wd(Rl,uo.prototype);Rl.isPureReactComponent=!0;var eu=Array.isArray,Kd=Object.prototype.hasOwnProperty,Ml={current:null},Xd={key:!0,ref:!0,__self:!0,__source:!0};function Qd(e,t,n){var o,r={},i=null,l=null;if(t!=null)for(o in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Kd.call(t,o)&&!Xd.hasOwnProperty(o)&&(r[o]=t[o]);var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}if(e&&e.defaultProps)for(o in u=e.defaultProps,u)r[o]===void 0&&(r[o]=u[o]);return{$$typeof:lr,type:e,key:i,ref:l,props:r,_owner:Ml.current}}function pm(e,t){return{$$typeof:lr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Dl(e){return typeof e=="object"&&e!==null&&e.$$typeof===lr}function hm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var tu=/\/+/g;function Ki(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hm(""+e.key):t.toString(36)}function Lr(e,t,n,o,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case lr:case nm:l=!0}}if(l)return l=e,r=r(l),e=o===""?"."+Ki(l,0):o,eu(r)?(n="",e!=null&&(n=e.replace(tu,"$&/")+"/"),Lr(r,t,n,"",function(d){return d})):r!=null&&(Dl(r)&&(r=pm(r,n+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(tu,"$&/")+"/")+e)),t.push(r)),1;if(l=0,o=o===""?".":o+":",eu(e))for(var u=0;u<e.length;u++){i=e[u];var c=o+Ki(i,u);l+=Lr(i,t,n,c,r)}else if(c=fm(e),typeof c=="function")for(e=c.call(e),u=0;!(i=e.next()).done;)i=i.value,c=o+Ki(i,u++),l+=Lr(i,t,n,c,r);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function gr(e,t,n){if(e==null)return e;var o=[],r=0;return Lr(e,o,"","",function(i){return t.call(n,i,r++)}),o}function mm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qe={current:null},Fr={transition:null},gm={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:Fr,ReactCurrentOwner:Ml};function Zd(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:gr,forEach:function(e,t,n){gr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return gr(e,function(){t++}),t},toArray:function(e){return gr(e,function(t){return t})||[]},only:function(e){if(!Dl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=uo;ne.Fragment=om;ne.Profiler=im;ne.PureComponent=Pl;ne.StrictMode=rm;ne.Suspense=um;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gm;ne.act=Zd;ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=Wd({},e.props),r=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=Ml.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)Kd.call(t,c)&&!Xd.hasOwnProperty(c)&&(o[c]=t[c]===void 0&&u!==void 0?u[c]:t[c])}var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:lr,type:e.type,key:r,ref:i,props:o,_owner:l}};ne.createContext=function(e){return e={$$typeof:lm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:sm,_context:e},e.Consumer=e};ne.createElement=Qd;ne.createFactory=function(e){var t=Qd.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:am,render:e}};ne.isValidElement=Dl;ne.lazy=function(e){return{$$typeof:dm,_payload:{_status:-1,_result:e},_init:mm}};ne.memo=function(e,t){return{$$typeof:cm,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=Fr.transition;Fr.transition={};try{e()}finally{Fr.transition=t}};ne.unstable_act=Zd;ne.useCallback=function(e,t){return Qe.current.useCallback(e,t)};ne.useContext=function(e){return Qe.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return Qe.current.useDeferredValue(e)};ne.useEffect=function(e,t){return Qe.current.useEffect(e,t)};ne.useId=function(){return Qe.current.useId()};ne.useImperativeHandle=function(e,t,n){return Qe.current.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return Qe.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return Qe.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return Qe.current.useMemo(e,t)};ne.useReducer=function(e,t,n){return Qe.current.useReducer(e,t,n)};ne.useRef=function(e){return Qe.current.useRef(e)};ne.useState=function(e){return Qe.current.useState(e)};ne.useSyncExternalStore=function(e,t,n){return Qe.current.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return Qe.current.useTransition()};ne.version="18.3.1";$d.exports=ne;var F=$d.exports;const ym=tm(F);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm=F,xm=Symbol.for("react.element"),Cm=Symbol.for("react.fragment"),Em=Object.prototype.hasOwnProperty,Sm=vm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tm={key:!0,ref:!0,__self:!0,__source:!0};function jd(e,t,n){var o,r={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(o in t)Em.call(t,o)&&!Tm.hasOwnProperty(o)&&(r[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)r[o]===void 0&&(r[o]=t[o]);return{$$typeof:xm,type:e,key:i,ref:l,props:r,_owner:Sm.current}}Ai.Fragment=Cm;Ai.jsx=jd;Ai.jsxs=jd;Bd.exports=Ai;var m=Bd.exports,Es={},ef={exports:{}},ut={},tf={exports:{}},nf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,G){var U=k.length;k.push(G);e:for(;0<U;){var K=U-1>>>1,Z=k[K];if(0<r(Z,G))k[K]=G,k[U]=Z,U=K;else break e}}function n(k){return k.length===0?null:k[0]}function o(k){if(k.length===0)return null;var G=k[0],U=k.pop();if(U!==G){k[0]=U;e:for(var K=0,Z=k.length,fe=Z>>>1;K<fe;){var ue=2*(K+1)-1,ce=k[ue],$=ue+1,oe=k[$];if(0>r(ce,U))$<Z&&0>r(oe,ce)?(k[K]=oe,k[$]=U,K=$):(k[K]=ce,k[ue]=U,K=ue);else if($<Z&&0>r(oe,U))k[K]=oe,k[$]=U,K=$;else break e}}return G}function r(k,G){var U=k.sortIndex-G.sortIndex;return U!==0?U:k.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var c=[],d=[],f=1,h=null,p=3,v=!1,E=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(k){for(var G=n(d);G!==null;){if(G.callback===null)o(d);else if(G.startTime<=k)o(d),G.sortIndex=G.expirationTime,t(c,G);else break;G=n(d)}}function C(k){if(S=!1,g(k),!E)if(n(c)!==null)E=!0,J(_);else{var G=n(d);G!==null&&B(C,G.startTime-k)}}function _(k,G){E=!1,S&&(S=!1,x(R),R=-1),v=!0;var U=p;try{for(g(G),h=n(c);h!==null&&(!(h.expirationTime>G)||k&&!O());){var K=h.callback;if(typeof K=="function"){h.callback=null,p=h.priorityLevel;var Z=K(h.expirationTime<=G);G=e.unstable_now(),typeof Z=="function"?h.callback=Z:h===n(c)&&o(c),g(G)}else o(c);h=n(c)}if(h!==null)var fe=!0;else{var ue=n(d);ue!==null&&B(C,ue.startTime-G),fe=!1}return fe}finally{h=null,p=U,v=!1}}var I=!1,w=null,R=-1,P=5,M=-1;function O(){return!(e.unstable_now()-M<P)}function Q(){if(w!==null){var k=e.unstable_now();M=k;var G=!0;try{G=w(!0,k)}finally{G?j():(I=!1,w=null)}}else I=!1}var j;if(typeof y=="function")j=function(){y(Q)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,H=ke.port2;ke.port1.onmessage=Q,j=function(){H.postMessage(null)}}else j=function(){A(Q,0)};function J(k){w=k,I||(I=!0,j())}function B(k,G){R=A(function(){k(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){E||v||(E=!0,J(_))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(k){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var U=p;p=G;try{return k()}finally{p=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,G){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var U=p;p=k;try{return G()}finally{p=U}},e.unstable_scheduleCallback=function(k,G,U){var K=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?K+U:K):U=K,k){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=U+Z,k={id:f++,callback:G,priorityLevel:k,startTime:U,expirationTime:Z,sortIndex:-1},U>K?(k.sortIndex=U,t(d,k),n(c)===null&&k===n(d)&&(S?(x(R),R=-1):S=!0,B(C,U-K))):(k.sortIndex=Z,t(c,k),E||v||(E=!0,J(_))),k},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(k){var G=p;return function(){var U=p;p=G;try{return k.apply(this,arguments)}finally{p=U}}}})(nf);tf.exports=nf;var _m=tf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm=F,at=_m;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var of=new Set,$o={};function kn(e,t){no(e,t),no(e+"Capture",t)}function no(e,t){for($o[e]=t,e=0;e<t.length;e++)of.add(t[e])}var Gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ss=Object.prototype.hasOwnProperty,Im=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nu={},ou={};function Am(e){return Ss.call(ou,e)?!0:Ss.call(nu,e)?!1:Im.test(e)?ou[e]=!0:(nu[e]=!0,!1)}function km(e,t,n,o){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Nm(e,t,n,o){if(t===null||typeof t>"u"||km(e,t,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ze(e,t,n,o,r,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qe[e]=new Ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qe[t]=new Ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qe[e]=new Ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qe[e]=new Ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qe[e]=new Ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qe[e]=new Ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qe[e]=new Ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qe[e]=new Ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qe[e]=new Ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ll=/[\-:]([a-z])/g;function Fl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ll,Fl);qe[t]=new Ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ll,Fl);qe[t]=new Ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ll,Fl);qe[t]=new Ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qe[e]=new Ze(e,1,!1,e.toLowerCase(),null,!1,!1)});qe.xlinkHref=new Ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qe[e]=new Ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ul(e,t,n,o){var r=qe.hasOwnProperty(t)?qe[t]:null;(r!==null?r.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Nm(t,n,r,o)&&(n=null),o||r===null?Am(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,o=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}var $t=wm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yr=Symbol.for("react.element"),Ln=Symbol.for("react.portal"),Fn=Symbol.for("react.fragment"),Vl=Symbol.for("react.strict_mode"),Ts=Symbol.for("react.profiler"),rf=Symbol.for("react.provider"),sf=Symbol.for("react.context"),Hl=Symbol.for("react.forward_ref"),_s=Symbol.for("react.suspense"),ws=Symbol.for("react.suspense_list"),Gl=Symbol.for("react.memo"),Yt=Symbol.for("react.lazy"),lf=Symbol.for("react.offscreen"),ru=Symbol.iterator;function xo(e){return e===null||typeof e!="object"?null:(e=ru&&e[ru]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,Xi;function ko(e){if(Xi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xi=t&&t[1]||""}return`
`+Xi+e}var Qi=!1;function Zi(e,t){if(!e||Qi)return"";Qi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var o=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){o=d}e.call(t.prototype)}else{try{throw Error()}catch(d){o=d}e()}}catch(d){if(d&&o&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),i=o.stack.split(`
`),l=r.length-1,u=i.length-1;1<=l&&0<=u&&r[l]!==i[u];)u--;for(;1<=l&&0<=u;l--,u--)if(r[l]!==i[u]){if(l!==1||u!==1)do if(l--,u--,0>u||r[l]!==i[u]){var c=`
`+r[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=u);break}}}finally{Qi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ko(e):""}function Pm(e){switch(e.tag){case 5:return ko(e.type);case 16:return ko("Lazy");case 13:return ko("Suspense");case 19:return ko("SuspenseList");case 0:case 2:case 15:return e=Zi(e.type,!1),e;case 11:return e=Zi(e.type.render,!1),e;case 1:return e=Zi(e.type,!0),e;default:return""}}function Is(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fn:return"Fragment";case Ln:return"Portal";case Ts:return"Profiler";case Vl:return"StrictMode";case _s:return"Suspense";case ws:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case sf:return(e.displayName||"Context")+".Consumer";case rf:return(e._context.displayName||"Context")+".Provider";case Hl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gl:return t=e.displayName||null,t!==null?t:Is(e.type)||"Memo";case Yt:t=e._payload,e=e._init;try{return Is(e(t))}catch{}}return null}function Rm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Is(t);case 8:return t===Vl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function cn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function af(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Mm(e){var t=af(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(l){o=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(l){o=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vr(e){e._valueTracker||(e._valueTracker=Mm(e))}function uf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=af(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function Kr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function As(e,t){var n=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function iu(e,t){var n=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;n=cn(t.value!=null?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function cf(e,t){t=t.checked,t!=null&&Ul(e,"checked",t,!1)}function ks(e,t){cf(e,t);var n=cn(t.value),o=t.type;if(n!=null)o==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ns(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ns(e,t.type,cn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function su(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ns(e,t,n){(t!=="number"||Kr(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var No=Array.isArray;function On(e,t,n,o){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&o&&(e[n].defaultSelected=!0)}else{for(n=""+cn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,o&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Ps(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(No(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:cn(n)}}function df(e,t){var n=cn(t.value),o=cn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),o!=null&&(e.defaultValue=""+o)}function au(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ff(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rs(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ff(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xr,pf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,o,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xr=xr||document.createElement("div"),xr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Lo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dm=["Webkit","ms","Moz","O"];Object.keys(Lo).forEach(function(e){Dm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Lo[t]=Lo[e]})});function hf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Lo.hasOwnProperty(e)&&Lo[e]?(""+t).trim():t+"px"}function mf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=n.indexOf("--")===0,r=hf(n,t[n],o);n==="float"&&(n="cssFloat"),o?e.setProperty(n,r):e[n]=r}}var Lm=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ms(e,t){if(t){if(Lm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Ds(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ls=null;function zl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fs=null,Yn=null,Kn=null;function uu(e){if(e=cr(e)){if(typeof Fs!="function")throw Error(L(280));var t=e.stateNode;t&&(t=Mi(t),Fs(e.stateNode,e.type,t))}}function gf(e){Yn?Kn?Kn.push(e):Kn=[e]:Yn=e}function yf(){if(Yn){var e=Yn,t=Kn;if(Kn=Yn=null,uu(e),t)for(e=0;e<t.length;e++)uu(t[e])}}function vf(e,t){return e(t)}function xf(){}var ji=!1;function Cf(e,t,n){if(ji)return e(t,n);ji=!0;try{return vf(e,t,n)}finally{ji=!1,(Yn!==null||Kn!==null)&&(xf(),yf())}}function Wo(e,t){var n=e.stateNode;if(n===null)return null;var o=Mi(n);if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var Us=!1;if(Gt)try{var Co={};Object.defineProperty(Co,"passive",{get:function(){Us=!0}}),window.addEventListener("test",Co,Co),window.removeEventListener("test",Co,Co)}catch{Us=!1}function Fm(e,t,n,o,r,i,l,u,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(f){this.onError(f)}}var Fo=!1,Xr=null,Qr=!1,Vs=null,Um={onError:function(e){Fo=!0,Xr=e}};function Vm(e,t,n,o,r,i,l,u,c){Fo=!1,Xr=null,Fm.apply(Um,arguments)}function Hm(e,t,n,o,r,i,l,u,c){if(Vm.apply(this,arguments),Fo){if(Fo){var d=Xr;Fo=!1,Xr=null}else throw Error(L(198));Qr||(Qr=!0,Vs=d)}}function Nn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ef(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cu(e){if(Nn(e)!==e)throw Error(L(188))}function Gm(e){var t=e.alternate;if(!t){if(t=Nn(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,o=t;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(o=r.return,o!==null){n=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return cu(r),e;if(i===o)return cu(r),t;i=i.sibling}throw Error(L(188))}if(n.return!==o.return)n=r,o=i;else{for(var l=!1,u=r.child;u;){if(u===n){l=!0,n=r,o=i;break}if(u===o){l=!0,o=r,n=i;break}u=u.sibling}if(!l){for(u=i.child;u;){if(u===n){l=!0,n=i,o=r;break}if(u===o){l=!0,o=i,n=r;break}u=u.sibling}if(!l)throw Error(L(189))}}if(n.alternate!==o)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function Sf(e){return e=Gm(e),e!==null?Tf(e):null}function Tf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Tf(e);if(t!==null)return t;e=e.sibling}return null}var _f=at.unstable_scheduleCallback,du=at.unstable_cancelCallback,zm=at.unstable_shouldYield,qm=at.unstable_requestPaint,Pe=at.unstable_now,bm=at.unstable_getCurrentPriorityLevel,ql=at.unstable_ImmediatePriority,wf=at.unstable_UserBlockingPriority,Zr=at.unstable_NormalPriority,Bm=at.unstable_LowPriority,If=at.unstable_IdlePriority,ki=null,Rt=null;function $m(e){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(ki,e,void 0,(e.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:Om,Jm=Math.log,Wm=Math.LN2;function Om(e){return e>>>=0,e===0?32:31-(Jm(e)/Wm|0)|0}var Cr=64,Er=4194304;function Po(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jr(e,t){var n=e.pendingLanes;if(n===0)return 0;var o=0,r=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var u=l&~r;u!==0?o=Po(u):(i&=l,i!==0&&(o=Po(i)))}else l=n&~r,l!==0?o=Po(l):i!==0&&(o=Po(i));if(o===0)return 0;if(t!==0&&t!==o&&!(t&r)&&(r=o&-o,i=t&-t,r>=i||r===16&&(i&4194240)!==0))return t;if(o&4&&(o|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)n=31-_t(t),r=1<<n,o|=e[n],t&=~r;return o}function Ym(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Km(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-_t(i),u=1<<l,c=r[l];c===-1?(!(u&n)||u&o)&&(r[l]=Ym(u,t)):c<=t&&(e.expiredLanes|=u),i&=~u}}function Hs(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Af(){var e=Cr;return Cr<<=1,!(Cr&4194240)&&(Cr=64),e}function es(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ar(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_t(t),e[t]=n}function Xm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-_t(n),i=1<<r;t[r]=0,o[r]=-1,e[r]=-1,n&=~i}}function bl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-_t(n),r=1<<o;r&t|e[o]&t&&(e[o]|=t),n&=~r}}var ae=0;function kf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Nf,Bl,Pf,Rf,Mf,Gs=!1,Sr=[],tn=null,nn=null,on=null,Oo=new Map,Yo=new Map,Xt=[],Qm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fu(e,t){switch(e){case"focusin":case"focusout":tn=null;break;case"dragenter":case"dragleave":nn=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":Oo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yo.delete(t.pointerId)}}function Eo(e,t,n,o,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},t!==null&&(t=cr(t),t!==null&&Bl(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Zm(e,t,n,o,r){switch(t){case"focusin":return tn=Eo(tn,e,t,n,o,r),!0;case"dragenter":return nn=Eo(nn,e,t,n,o,r),!0;case"mouseover":return on=Eo(on,e,t,n,o,r),!0;case"pointerover":var i=r.pointerId;return Oo.set(i,Eo(Oo.get(i)||null,e,t,n,o,r)),!0;case"gotpointercapture":return i=r.pointerId,Yo.set(i,Eo(Yo.get(i)||null,e,t,n,o,r)),!0}return!1}function Df(e){var t=vn(e.target);if(t!==null){var n=Nn(t);if(n!==null){if(t=n.tag,t===13){if(t=Ef(n),t!==null){e.blockedOn=t,Mf(e.priority,function(){Pf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ur(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=zs(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);Ls=o,n.target.dispatchEvent(o),Ls=null}else return t=cr(n),t!==null&&Bl(t),e.blockedOn=n,!1;t.shift()}return!0}function pu(e,t,n){Ur(e)&&n.delete(t)}function jm(){Gs=!1,tn!==null&&Ur(tn)&&(tn=null),nn!==null&&Ur(nn)&&(nn=null),on!==null&&Ur(on)&&(on=null),Oo.forEach(pu),Yo.forEach(pu)}function So(e,t){e.blockedOn===t&&(e.blockedOn=null,Gs||(Gs=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,jm)))}function Ko(e){function t(r){return So(r,e)}if(0<Sr.length){So(Sr[0],e);for(var n=1;n<Sr.length;n++){var o=Sr[n];o.blockedOn===e&&(o.blockedOn=null)}}for(tn!==null&&So(tn,e),nn!==null&&So(nn,e),on!==null&&So(on,e),Oo.forEach(t),Yo.forEach(t),n=0;n<Xt.length;n++)o=Xt[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<Xt.length&&(n=Xt[0],n.blockedOn===null);)Df(n),n.blockedOn===null&&Xt.shift()}var Xn=$t.ReactCurrentBatchConfig,ei=!0;function eg(e,t,n,o){var r=ae,i=Xn.transition;Xn.transition=null;try{ae=1,$l(e,t,n,o)}finally{ae=r,Xn.transition=i}}function tg(e,t,n,o){var r=ae,i=Xn.transition;Xn.transition=null;try{ae=4,$l(e,t,n,o)}finally{ae=r,Xn.transition=i}}function $l(e,t,n,o){if(ei){var r=zs(e,t,n,o);if(r===null)cs(e,t,o,ti,n),fu(e,o);else if(Zm(r,e,t,n,o))o.stopPropagation();else if(fu(e,o),t&4&&-1<Qm.indexOf(e)){for(;r!==null;){var i=cr(r);if(i!==null&&Nf(i),i=zs(e,t,n,o),i===null&&cs(e,t,o,ti,n),i===r)break;r=i}r!==null&&o.stopPropagation()}else cs(e,t,o,null,n)}}var ti=null;function zs(e,t,n,o){if(ti=null,e=zl(o),e=vn(e),e!==null)if(t=Nn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ef(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ti=e,null}function Lf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bm()){case ql:return 1;case wf:return 4;case Zr:case Bm:return 16;case If:return 536870912;default:return 16}default:return 16}}var Zt=null,Jl=null,Vr=null;function Ff(){if(Vr)return Vr;var e,t=Jl,n=t.length,o,r="value"in Zt?Zt.value:Zt.textContent,i=r.length;for(e=0;e<n&&t[e]===r[e];e++);var l=n-e;for(o=1;o<=l&&t[n-o]===r[i-o];o++);return Vr=r.slice(e,1<o?1-o:void 0)}function Hr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Tr(){return!0}function hu(){return!1}function ct(e){function t(n,o,r,i,l){this._reactName=n,this._targetInst=r,this.type=o,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Tr:hu,this.isPropagationStopped=hu,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Tr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Tr)},persist:function(){},isPersistent:Tr}),t}var co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wl=ct(co),ur=we({},co,{view:0,detail:0}),ng=ct(ur),ts,ns,To,Ni=we({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ol,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==To&&(To&&e.type==="mousemove"?(ts=e.screenX-To.screenX,ns=e.screenY-To.screenY):ns=ts=0,To=e),ts)},movementY:function(e){return"movementY"in e?e.movementY:ns}}),mu=ct(Ni),og=we({},Ni,{dataTransfer:0}),rg=ct(og),ig=we({},ur,{relatedTarget:0}),os=ct(ig),sg=we({},co,{animationName:0,elapsedTime:0,pseudoElement:0}),lg=ct(sg),ag=we({},co,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ug=ct(ag),cg=we({},co,{data:0}),gu=ct(cg),dg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pg[e])?!!t[e]:!1}function Ol(){return hg}var mg=we({},ur,{key:function(e){if(e.key){var t=dg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ol,charCode:function(e){return e.type==="keypress"?Hr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gg=ct(mg),yg=we({},Ni,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yu=ct(yg),vg=we({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ol}),xg=ct(vg),Cg=we({},co,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eg=ct(Cg),Sg=we({},Ni,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tg=ct(Sg),_g=[9,13,27,32],Yl=Gt&&"CompositionEvent"in window,Uo=null;Gt&&"documentMode"in document&&(Uo=document.documentMode);var wg=Gt&&"TextEvent"in window&&!Uo,Uf=Gt&&(!Yl||Uo&&8<Uo&&11>=Uo),vu=" ",xu=!1;function Vf(e,t){switch(e){case"keyup":return _g.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Un=!1;function Ig(e,t){switch(e){case"compositionend":return Hf(t);case"keypress":return t.which!==32?null:(xu=!0,vu);case"textInput":return e=t.data,e===vu&&xu?null:e;default:return null}}function Ag(e,t){if(Un)return e==="compositionend"||!Yl&&Vf(e,t)?(e=Ff(),Vr=Jl=Zt=null,Un=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Uf&&t.locale!=="ko"?null:t.data;default:return null}}var kg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kg[e.type]:t==="textarea"}function Gf(e,t,n,o){gf(o),t=ni(t,"onChange"),0<t.length&&(n=new Wl("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var Vo=null,Xo=null;function Ng(e){Xf(e,0)}function Pi(e){var t=Gn(e);if(uf(t))return e}function Pg(e,t){if(e==="change")return t}var zf=!1;if(Gt){var rs;if(Gt){var is="oninput"in document;if(!is){var Eu=document.createElement("div");Eu.setAttribute("oninput","return;"),is=typeof Eu.oninput=="function"}rs=is}else rs=!1;zf=rs&&(!document.documentMode||9<document.documentMode)}function Su(){Vo&&(Vo.detachEvent("onpropertychange",qf),Xo=Vo=null)}function qf(e){if(e.propertyName==="value"&&Pi(Xo)){var t=[];Gf(t,Xo,e,zl(e)),Cf(Ng,t)}}function Rg(e,t,n){e==="focusin"?(Su(),Vo=t,Xo=n,Vo.attachEvent("onpropertychange",qf)):e==="focusout"&&Su()}function Mg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pi(Xo)}function Dg(e,t){if(e==="click")return Pi(t)}function Lg(e,t){if(e==="input"||e==="change")return Pi(t)}function Fg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var It=typeof Object.is=="function"?Object.is:Fg;function Qo(e,t){if(It(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!Ss.call(t,r)||!It(e[r],t[r]))return!1}return!0}function Tu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _u(e,t){var n=Tu(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Tu(n)}}function bf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bf(){for(var e=window,t=Kr();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Kr(e.document)}return t}function Kl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ug(e){var t=Bf(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&bf(n.ownerDocument.documentElement,n)){if(o!==null&&Kl(n)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,i=Math.min(o.start,r);o=o.end===void 0?i:Math.min(o.end,r),!e.extend&&i>o&&(r=o,o=i,i=r),r=_u(n,i);var l=_u(n,o);r&&l&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),i>o?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Vg=Gt&&"documentMode"in document&&11>=document.documentMode,Vn=null,qs=null,Ho=null,bs=!1;function wu(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bs||Vn==null||Vn!==Kr(o)||(o=Vn,"selectionStart"in o&&Kl(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ho&&Qo(Ho,o)||(Ho=o,o=ni(qs,"onSelect"),0<o.length&&(t=new Wl("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=Vn)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Hn={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},ss={},$f={};Gt&&($f=document.createElement("div").style,"AnimationEvent"in window||(delete Hn.animationend.animation,delete Hn.animationiteration.animation,delete Hn.animationstart.animation),"TransitionEvent"in window||delete Hn.transitionend.transition);function Ri(e){if(ss[e])return ss[e];if(!Hn[e])return e;var t=Hn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in $f)return ss[e]=t[n];return e}var Jf=Ri("animationend"),Wf=Ri("animationiteration"),Of=Ri("animationstart"),Yf=Ri("transitionend"),Kf=new Map,Iu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fn(e,t){Kf.set(e,t),kn(t,[e])}for(var ls=0;ls<Iu.length;ls++){var as=Iu[ls],Hg=as.toLowerCase(),Gg=as[0].toUpperCase()+as.slice(1);fn(Hg,"on"+Gg)}fn(Jf,"onAnimationEnd");fn(Wf,"onAnimationIteration");fn(Of,"onAnimationStart");fn("dblclick","onDoubleClick");fn("focusin","onFocus");fn("focusout","onBlur");fn(Yf,"onTransitionEnd");no("onMouseEnter",["mouseout","mouseover"]);no("onMouseLeave",["mouseout","mouseover"]);no("onPointerEnter",["pointerout","pointerover"]);no("onPointerLeave",["pointerout","pointerover"]);kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kn("onBeforeInput",["compositionend","keypress","textInput","paste"]);kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ro));function Au(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,Hm(o,t,void 0,e),e.currentTarget=null}function Xf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],r=o.event;o=o.listeners;e:{var i=void 0;if(t)for(var l=o.length-1;0<=l;l--){var u=o[l],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==i&&r.isPropagationStopped())break e;Au(r,u,d),i=c}else for(l=0;l<o.length;l++){if(u=o[l],c=u.instance,d=u.currentTarget,u=u.listener,c!==i&&r.isPropagationStopped())break e;Au(r,u,d),i=c}}}if(Qr)throw e=Vs,Qr=!1,Vs=null,e}function ge(e,t){var n=t[Os];n===void 0&&(n=t[Os]=new Set);var o=e+"__bubble";n.has(o)||(Qf(t,e,2,!1),n.add(o))}function us(e,t,n){var o=0;t&&(o|=4),Qf(n,e,o,t)}var wr="_reactListening"+Math.random().toString(36).slice(2);function Zo(e){if(!e[wr]){e[wr]=!0,of.forEach(function(n){n!=="selectionchange"&&(zg.has(n)||us(n,!1,e),us(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wr]||(t[wr]=!0,us("selectionchange",!1,t))}}function Qf(e,t,n,o){switch(Lf(t)){case 1:var r=eg;break;case 4:r=tg;break;default:r=$l}n=r.bind(null,t,n,e),r=void 0,!Us||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),o?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function cs(e,t,n,o,r){var i=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var l=o.tag;if(l===3||l===4){var u=o.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(l===4)for(l=o.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;l=l.return}for(;u!==null;){if(l=vn(u),l===null)return;if(c=l.tag,c===5||c===6){o=i=l;continue e}u=u.parentNode}}o=o.return}Cf(function(){var d=i,f=zl(n),h=[];e:{var p=Kf.get(e);if(p!==void 0){var v=Wl,E=e;switch(e){case"keypress":if(Hr(n)===0)break e;case"keydown":case"keyup":v=gg;break;case"focusin":E="focus",v=os;break;case"focusout":E="blur",v=os;break;case"beforeblur":case"afterblur":v=os;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=mu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=rg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=xg;break;case Jf:case Wf:case Of:v=lg;break;case Yf:v=Eg;break;case"scroll":v=ng;break;case"wheel":v=Tg;break;case"copy":case"cut":case"paste":v=ug;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=yu}var S=(t&4)!==0,A=!S&&e==="scroll",x=S?p!==null?p+"Capture":null:p;S=[];for(var y=d,g;y!==null;){g=y;var C=g.stateNode;if(g.tag===5&&C!==null&&(g=C,x!==null&&(C=Wo(y,x),C!=null&&S.push(jo(y,C,g)))),A)break;y=y.return}0<S.length&&(p=new v(p,E,null,n,f),h.push({event:p,listeners:S}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",p&&n!==Ls&&(E=n.relatedTarget||n.fromElement)&&(vn(E)||E[zt]))break e;if((v||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,v?(E=n.relatedTarget||n.toElement,v=d,E=E?vn(E):null,E!==null&&(A=Nn(E),E!==A||E.tag!==5&&E.tag!==6)&&(E=null)):(v=null,E=d),v!==E)){if(S=mu,C="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(S=yu,C="onPointerLeave",x="onPointerEnter",y="pointer"),A=v==null?p:Gn(v),g=E==null?p:Gn(E),p=new S(C,y+"leave",v,n,f),p.target=A,p.relatedTarget=g,C=null,vn(f)===d&&(S=new S(x,y+"enter",E,n,f),S.target=g,S.relatedTarget=A,C=S),A=C,v&&E)t:{for(S=v,x=E,y=0,g=S;g;g=Dn(g))y++;for(g=0,C=x;C;C=Dn(C))g++;for(;0<y-g;)S=Dn(S),y--;for(;0<g-y;)x=Dn(x),g--;for(;y--;){if(S===x||x!==null&&S===x.alternate)break t;S=Dn(S),x=Dn(x)}S=null}else S=null;v!==null&&ku(h,p,v,S,!1),E!==null&&A!==null&&ku(h,A,E,S,!0)}}e:{if(p=d?Gn(d):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var _=Pg;else if(Cu(p))if(zf)_=Lg;else{_=Mg;var I=Rg}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(_=Dg);if(_&&(_=_(e,d))){Gf(h,_,n,f);break e}I&&I(e,p,d),e==="focusout"&&(I=p._wrapperState)&&I.controlled&&p.type==="number"&&Ns(p,"number",p.value)}switch(I=d?Gn(d):window,e){case"focusin":(Cu(I)||I.contentEditable==="true")&&(Vn=I,qs=d,Ho=null);break;case"focusout":Ho=qs=Vn=null;break;case"mousedown":bs=!0;break;case"contextmenu":case"mouseup":case"dragend":bs=!1,wu(h,n,f);break;case"selectionchange":if(Vg)break;case"keydown":case"keyup":wu(h,n,f)}var w;if(Yl)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Un?Vf(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Uf&&n.locale!=="ko"&&(Un||R!=="onCompositionStart"?R==="onCompositionEnd"&&Un&&(w=Ff()):(Zt=f,Jl="value"in Zt?Zt.value:Zt.textContent,Un=!0)),I=ni(d,R),0<I.length&&(R=new gu(R,e,null,n,f),h.push({event:R,listeners:I}),w?R.data=w:(w=Hf(n),w!==null&&(R.data=w)))),(w=wg?Ig(e,n):Ag(e,n))&&(d=ni(d,"onBeforeInput"),0<d.length&&(f=new gu("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:d}),f.data=w))}Xf(h,t)})}function jo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ni(e,t){for(var n=t+"Capture",o=[];e!==null;){var r=e,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Wo(e,n),i!=null&&o.unshift(jo(e,i,r)),i=Wo(e,t),i!=null&&o.push(jo(e,i,r))),e=e.return}return o}function Dn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ku(e,t,n,o,r){for(var i=t._reactName,l=[];n!==null&&n!==o;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===o)break;u.tag===5&&d!==null&&(u=d,r?(c=Wo(n,i),c!=null&&l.unshift(jo(n,c,u))):r||(c=Wo(n,i),c!=null&&l.push(jo(n,c,u)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var qg=/\r\n?/g,bg=/\u0000|\uFFFD/g;function Nu(e){return(typeof e=="string"?e:""+e).replace(qg,`
`).replace(bg,"")}function Ir(e,t,n){if(t=Nu(t),Nu(e)!==t&&n)throw Error(L(425))}function oi(){}var Bs=null,$s=null;function Js(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ws=typeof setTimeout=="function"?setTimeout:void 0,Bg=typeof clearTimeout=="function"?clearTimeout:void 0,Pu=typeof Promise=="function"?Promise:void 0,$g=typeof queueMicrotask=="function"?queueMicrotask:typeof Pu<"u"?function(e){return Pu.resolve(null).then(e).catch(Jg)}:Ws;function Jg(e){setTimeout(function(){throw e})}function ds(e,t){var n=t,o=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(o===0){e.removeChild(r),Ko(t);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=r}while(n);Ko(t)}function rn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ru(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),Pt="__reactFiber$"+fo,er="__reactProps$"+fo,zt="__reactContainer$"+fo,Os="__reactEvents$"+fo,Wg="__reactListeners$"+fo,Og="__reactHandles$"+fo;function vn(e){var t=e[Pt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[zt]||n[Pt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ru(e);e!==null;){if(n=e[Pt])return n;e=Ru(e)}return t}e=n,n=e.parentNode}return null}function cr(e){return e=e[Pt]||e[zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function Mi(e){return e[er]||null}var Ys=[],zn=-1;function pn(e){return{current:e}}function xe(e){0>zn||(e.current=Ys[zn],Ys[zn]=null,zn--)}function he(e,t){zn++,Ys[zn]=e.current,e.current=t}var dn={},Ye=pn(dn),tt=pn(!1),Tn=dn;function oo(e,t){var n=e.type.contextTypes;if(!n)return dn;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=t[i];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function nt(e){return e=e.childContextTypes,e!=null}function ri(){xe(tt),xe(Ye)}function Mu(e,t,n){if(Ye.current!==dn)throw Error(L(168));he(Ye,t),he(tt,n)}function Zf(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var r in o)if(!(r in t))throw Error(L(108,Rm(e)||"Unknown",r));return we({},n,o)}function ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dn,Tn=Ye.current,he(Ye,e),he(tt,tt.current),!0}function Du(e,t,n){var o=e.stateNode;if(!o)throw Error(L(169));n?(e=Zf(e,t,Tn),o.__reactInternalMemoizedMergedChildContext=e,xe(tt),xe(Ye),he(Ye,e)):xe(tt),he(tt,n)}var Ft=null,Di=!1,fs=!1;function jf(e){Ft===null?Ft=[e]:Ft.push(e)}function Yg(e){Di=!0,jf(e)}function hn(){if(!fs&&Ft!==null){fs=!0;var e=0,t=ae;try{var n=Ft;for(ae=1;e<n.length;e++){var o=n[e];do o=o(!0);while(o!==null)}Ft=null,Di=!1}catch(r){throw Ft!==null&&(Ft=Ft.slice(e+1)),_f(ql,hn),r}finally{ae=t,fs=!1}}return null}var qn=[],bn=0,si=null,li=0,ft=[],pt=0,_n=null,Ut=1,Vt="";function gn(e,t){qn[bn++]=li,qn[bn++]=si,si=e,li=t}function ep(e,t,n){ft[pt++]=Ut,ft[pt++]=Vt,ft[pt++]=_n,_n=e;var o=Ut;e=Vt;var r=32-_t(o)-1;o&=~(1<<r),n+=1;var i=32-_t(t)+r;if(30<i){var l=r-r%5;i=(o&(1<<l)-1).toString(32),o>>=l,r-=l,Ut=1<<32-_t(t)+r|n<<r|o,Vt=i+e}else Ut=1<<i|n<<r|o,Vt=e}function Xl(e){e.return!==null&&(gn(e,1),ep(e,1,0))}function Ql(e){for(;e===si;)si=qn[--bn],qn[bn]=null,li=qn[--bn],qn[bn]=null;for(;e===_n;)_n=ft[--pt],ft[pt]=null,Vt=ft[--pt],ft[pt]=null,Ut=ft[--pt],ft[pt]=null}var lt=null,st=null,Se=!1,Tt=null;function tp(e,t){var n=ht(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Lu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,st=rn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,st=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=_n!==null?{id:Ut,overflow:Vt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ht(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,lt=e,st=null,!0):!1;default:return!1}}function Ks(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xs(e){if(Se){var t=st;if(t){var n=t;if(!Lu(e,t)){if(Ks(e))throw Error(L(418));t=rn(n.nextSibling);var o=lt;t&&Lu(e,t)?tp(o,n):(e.flags=e.flags&-4097|2,Se=!1,lt=e)}}else{if(Ks(e))throw Error(L(418));e.flags=e.flags&-4097|2,Se=!1,lt=e}}}function Fu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function Ar(e){if(e!==lt)return!1;if(!Se)return Fu(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Js(e.type,e.memoizedProps)),t&&(t=st)){if(Ks(e))throw np(),Error(L(418));for(;t;)tp(e,t),t=rn(t.nextSibling)}if(Fu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){st=rn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}st=null}}else st=lt?rn(e.stateNode.nextSibling):null;return!0}function np(){for(var e=st;e;)e=rn(e.nextSibling)}function ro(){st=lt=null,Se=!1}function Zl(e){Tt===null?Tt=[e]:Tt.push(e)}var Kg=$t.ReactCurrentBatchConfig;function _o(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var o=n.stateNode}if(!o)throw Error(L(147,e));var r=o,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var u=r.refs;l===null?delete u[i]:u[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function kr(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Uu(e){var t=e._init;return t(e._payload)}function op(e){function t(x,y){if(e){var g=x.deletions;g===null?(x.deletions=[y],x.flags|=16):g.push(y)}}function n(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function o(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function r(x,y){return x=un(x,y),x.index=0,x.sibling=null,x}function i(x,y,g){return x.index=g,e?(g=x.alternate,g!==null?(g=g.index,g<y?(x.flags|=2,y):g):(x.flags|=2,y)):(x.flags|=1048576,y)}function l(x){return e&&x.alternate===null&&(x.flags|=2),x}function u(x,y,g,C){return y===null||y.tag!==6?(y=xs(g,x.mode,C),y.return=x,y):(y=r(y,g),y.return=x,y)}function c(x,y,g,C){var _=g.type;return _===Fn?f(x,y,g.props.children,C,g.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Yt&&Uu(_)===y.type)?(C=r(y,g.props),C.ref=_o(x,y,g),C.return=x,C):(C=Jr(g.type,g.key,g.props,null,x.mode,C),C.ref=_o(x,y,g),C.return=x,C)}function d(x,y,g,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==g.containerInfo||y.stateNode.implementation!==g.implementation?(y=Cs(g,x.mode,C),y.return=x,y):(y=r(y,g.children||[]),y.return=x,y)}function f(x,y,g,C,_){return y===null||y.tag!==7?(y=Sn(g,x.mode,C,_),y.return=x,y):(y=r(y,g),y.return=x,y)}function h(x,y,g){if(typeof y=="string"&&y!==""||typeof y=="number")return y=xs(""+y,x.mode,g),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case yr:return g=Jr(y.type,y.key,y.props,null,x.mode,g),g.ref=_o(x,null,y),g.return=x,g;case Ln:return y=Cs(y,x.mode,g),y.return=x,y;case Yt:var C=y._init;return h(x,C(y._payload),g)}if(No(y)||xo(y))return y=Sn(y,x.mode,g,null),y.return=x,y;kr(x,y)}return null}function p(x,y,g,C){var _=y!==null?y.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return _!==null?null:u(x,y,""+g,C);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case yr:return g.key===_?c(x,y,g,C):null;case Ln:return g.key===_?d(x,y,g,C):null;case Yt:return _=g._init,p(x,y,_(g._payload),C)}if(No(g)||xo(g))return _!==null?null:f(x,y,g,C,null);kr(x,g)}return null}function v(x,y,g,C,_){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(g)||null,u(y,x,""+C,_);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case yr:return x=x.get(C.key===null?g:C.key)||null,c(y,x,C,_);case Ln:return x=x.get(C.key===null?g:C.key)||null,d(y,x,C,_);case Yt:var I=C._init;return v(x,y,g,I(C._payload),_)}if(No(C)||xo(C))return x=x.get(g)||null,f(y,x,C,_,null);kr(y,C)}return null}function E(x,y,g,C){for(var _=null,I=null,w=y,R=y=0,P=null;w!==null&&R<g.length;R++){w.index>R?(P=w,w=null):P=w.sibling;var M=p(x,w,g[R],C);if(M===null){w===null&&(w=P);break}e&&w&&M.alternate===null&&t(x,w),y=i(M,y,R),I===null?_=M:I.sibling=M,I=M,w=P}if(R===g.length)return n(x,w),Se&&gn(x,R),_;if(w===null){for(;R<g.length;R++)w=h(x,g[R],C),w!==null&&(y=i(w,y,R),I===null?_=w:I.sibling=w,I=w);return Se&&gn(x,R),_}for(w=o(x,w);R<g.length;R++)P=v(w,x,R,g[R],C),P!==null&&(e&&P.alternate!==null&&w.delete(P.key===null?R:P.key),y=i(P,y,R),I===null?_=P:I.sibling=P,I=P);return e&&w.forEach(function(O){return t(x,O)}),Se&&gn(x,R),_}function S(x,y,g,C){var _=xo(g);if(typeof _!="function")throw Error(L(150));if(g=_.call(g),g==null)throw Error(L(151));for(var I=_=null,w=y,R=y=0,P=null,M=g.next();w!==null&&!M.done;R++,M=g.next()){w.index>R?(P=w,w=null):P=w.sibling;var O=p(x,w,M.value,C);if(O===null){w===null&&(w=P);break}e&&w&&O.alternate===null&&t(x,w),y=i(O,y,R),I===null?_=O:I.sibling=O,I=O,w=P}if(M.done)return n(x,w),Se&&gn(x,R),_;if(w===null){for(;!M.done;R++,M=g.next())M=h(x,M.value,C),M!==null&&(y=i(M,y,R),I===null?_=M:I.sibling=M,I=M);return Se&&gn(x,R),_}for(w=o(x,w);!M.done;R++,M=g.next())M=v(w,x,R,M.value,C),M!==null&&(e&&M.alternate!==null&&w.delete(M.key===null?R:M.key),y=i(M,y,R),I===null?_=M:I.sibling=M,I=M);return e&&w.forEach(function(Q){return t(x,Q)}),Se&&gn(x,R),_}function A(x,y,g,C){if(typeof g=="object"&&g!==null&&g.type===Fn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case yr:e:{for(var _=g.key,I=y;I!==null;){if(I.key===_){if(_=g.type,_===Fn){if(I.tag===7){n(x,I.sibling),y=r(I,g.props.children),y.return=x,x=y;break e}}else if(I.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Yt&&Uu(_)===I.type){n(x,I.sibling),y=r(I,g.props),y.ref=_o(x,I,g),y.return=x,x=y;break e}n(x,I);break}else t(x,I);I=I.sibling}g.type===Fn?(y=Sn(g.props.children,x.mode,C,g.key),y.return=x,x=y):(C=Jr(g.type,g.key,g.props,null,x.mode,C),C.ref=_o(x,y,g),C.return=x,x=C)}return l(x);case Ln:e:{for(I=g.key;y!==null;){if(y.key===I)if(y.tag===4&&y.stateNode.containerInfo===g.containerInfo&&y.stateNode.implementation===g.implementation){n(x,y.sibling),y=r(y,g.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else t(x,y);y=y.sibling}y=Cs(g,x.mode,C),y.return=x,x=y}return l(x);case Yt:return I=g._init,A(x,y,I(g._payload),C)}if(No(g))return E(x,y,g,C);if(xo(g))return S(x,y,g,C);kr(x,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,y!==null&&y.tag===6?(n(x,y.sibling),y=r(y,g),y.return=x,x=y):(n(x,y),y=xs(g,x.mode,C),y.return=x,x=y),l(x)):n(x,y)}return A}var io=op(!0),rp=op(!1),ai=pn(null),ui=null,Bn=null,jl=null;function ea(){jl=Bn=ui=null}function ta(e){var t=ai.current;xe(ai),e._currentValue=t}function Qs(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function Qn(e,t){ui=e,jl=Bn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(et=!0),e.firstContext=null)}function yt(e){var t=e._currentValue;if(jl!==e)if(e={context:e,memoizedValue:t,next:null},Bn===null){if(ui===null)throw Error(L(308));Bn=e,ui.dependencies={lanes:0,firstContext:e}}else Bn=Bn.next=e;return t}var xn=null;function na(e){xn===null?xn=[e]:xn.push(e)}function ip(e,t,n,o){var r=t.interleaved;return r===null?(n.next=n,na(t)):(n.next=r.next,r.next=n),t.interleaved=n,qt(e,o)}function qt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Kt=!1;function oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ht(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sn(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,ie&2){var r=o.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),o.pending=t,qt(e,n)}return r=o.interleaved,r===null?(t.next=t,na(o)):(t.next=r.next,r.next=t),o.interleaved=t,qt(e,n)}function Gr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,bl(e,n)}}function Vu(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?r=i=t:i=i.next=t}else r=i=t;n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,effects:o.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ci(e,t,n,o){var r=e.updateQueue;Kt=!1;var i=r.firstBaseUpdate,l=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var c=u,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var f=e.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==l&&(u===null?f.firstBaseUpdate=d:u.next=d,f.lastBaseUpdate=c))}if(i!==null){var h=r.baseState;l=0,f=d=c=null,u=i;do{var p=u.lane,v=u.eventTime;if((o&p)===p){f!==null&&(f=f.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var E=e,S=u;switch(p=t,v=n,S.tag){case 1:if(E=S.payload,typeof E=="function"){h=E.call(v,h,p);break e}h=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=S.payload,p=typeof E=="function"?E.call(v,h,p):E,p==null)break e;h=we({},h,p);break e;case 2:Kt=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,p=r.effects,p===null?r.effects=[u]:p.push(u))}else v={eventTime:v,lane:p,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(d=f=v,c=h):f=f.next=v,l|=p;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;p=u,u=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(f===null&&(c=h),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=f,t=r.shared.interleaved,t!==null){r=t;do l|=r.lane,r=r.next;while(r!==t)}else i===null&&(r.shared.lanes=0);In|=l,e.lanes=l,e.memoizedState=h}}function Hu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],r=o.callback;if(r!==null){if(o.callback=null,o=n,typeof r!="function")throw Error(L(191,r));r.call(o)}}}var dr={},Mt=pn(dr),tr=pn(dr),nr=pn(dr);function Cn(e){if(e===dr)throw Error(L(174));return e}function ra(e,t){switch(he(nr,t),he(tr,e),he(Mt,dr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Rs(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Rs(t,e)}xe(Mt),he(Mt,t)}function so(){xe(Mt),xe(tr),xe(nr)}function lp(e){Cn(nr.current);var t=Cn(Mt.current),n=Rs(t,e.type);t!==n&&(he(tr,e),he(Mt,n))}function ia(e){tr.current===e&&(xe(Mt),xe(tr))}var Te=pn(0);function di(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ps=[];function sa(){for(var e=0;e<ps.length;e++)ps[e]._workInProgressVersionPrimary=null;ps.length=0}var zr=$t.ReactCurrentDispatcher,hs=$t.ReactCurrentBatchConfig,wn=0,_e=null,De=null,Ue=null,fi=!1,Go=!1,or=0,Xg=0;function $e(){throw Error(L(321))}function la(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!It(e[n],t[n]))return!1;return!0}function aa(e,t,n,o,r,i){if(wn=i,_e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zr.current=e===null||e.memoizedState===null?ey:ty,e=n(o,r),Go){i=0;do{if(Go=!1,or=0,25<=i)throw Error(L(301));i+=1,Ue=De=null,t.updateQueue=null,zr.current=ny,e=n(o,r)}while(Go)}if(zr.current=pi,t=De!==null&&De.next!==null,wn=0,Ue=De=_e=null,fi=!1,t)throw Error(L(300));return e}function ua(){var e=or!==0;return or=0,e}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?_e.memoizedState=Ue=e:Ue=Ue.next=e,Ue}function vt(){if(De===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Ue===null?_e.memoizedState:Ue.next;if(t!==null)Ue=t,De=e;else{if(e===null)throw Error(L(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Ue===null?_e.memoizedState=Ue=e:Ue=Ue.next=e}return Ue}function rr(e,t){return typeof t=="function"?t(e):t}function ms(e){var t=vt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var o=De,r=o.baseQueue,i=n.pending;if(i!==null){if(r!==null){var l=r.next;r.next=i.next,i.next=l}o.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,o=o.baseState;var u=l=null,c=null,d=i;do{var f=d.lane;if((wn&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),o=d.hasEagerState?d.eagerState:e(o,d.action);else{var h={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=h,l=o):c=c.next=h,_e.lanes|=f,In|=f}d=d.next}while(d!==null&&d!==i);c===null?l=o:c.next=u,It(o,t.memoizedState)||(et=!0),t.memoizedState=o,t.baseState=l,t.baseQueue=c,n.lastRenderedState=o}if(e=n.interleaved,e!==null){r=e;do i=r.lane,_e.lanes|=i,In|=i,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function gs(e){var t=vt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var o=n.dispatch,r=n.pending,i=t.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do i=e(i,l.action),l=l.next;while(l!==r);It(i,t.memoizedState)||(et=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,o]}function ap(){}function up(e,t){var n=_e,o=vt(),r=t(),i=!It(o.memoizedState,r);if(i&&(o.memoizedState=r,et=!0),o=o.queue,ca(fp.bind(null,n,o,e),[e]),o.getSnapshot!==t||i||Ue!==null&&Ue.memoizedState.tag&1){if(n.flags|=2048,ir(9,dp.bind(null,n,o,r,t),void 0,null),Ve===null)throw Error(L(349));wn&30||cp(n,t,r)}return r}function cp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function dp(e,t,n,o){t.value=n,t.getSnapshot=o,pp(t)&&hp(e)}function fp(e,t,n){return n(function(){pp(t)&&hp(e)})}function pp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!It(e,n)}catch{return!0}}function hp(e){var t=qt(e,1);t!==null&&wt(t,e,1,-1)}function Gu(e){var t=Nt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:e},t.queue=e,e=e.dispatch=jg.bind(null,_e,e),[t.memoizedState,e]}function ir(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function mp(){return vt().memoizedState}function qr(e,t,n,o){var r=Nt();_e.flags|=e,r.memoizedState=ir(1|t,n,void 0,o===void 0?null:o)}function Li(e,t,n,o){var r=vt();o=o===void 0?null:o;var i=void 0;if(De!==null){var l=De.memoizedState;if(i=l.destroy,o!==null&&la(o,l.deps)){r.memoizedState=ir(t,n,i,o);return}}_e.flags|=e,r.memoizedState=ir(1|t,n,i,o)}function zu(e,t){return qr(8390656,8,e,t)}function ca(e,t){return Li(2048,8,e,t)}function gp(e,t){return Li(4,2,e,t)}function yp(e,t){return Li(4,4,e,t)}function vp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xp(e,t,n){return n=n!=null?n.concat([e]):null,Li(4,4,vp.bind(null,t,e),n)}function da(){}function Cp(e,t){var n=vt();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&la(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function Ep(e,t){var n=vt();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&la(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function Sp(e,t,n){return wn&21?(It(n,t)||(n=Af(),_e.lanes|=n,In|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,et=!0),e.memoizedState=n)}function Qg(e,t){var n=ae;ae=n!==0&&4>n?n:4,e(!0);var o=hs.transition;hs.transition={};try{e(!1),t()}finally{ae=n,hs.transition=o}}function Tp(){return vt().memoizedState}function Zg(e,t,n){var o=an(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},_p(e))wp(t,n);else if(n=ip(e,t,n,o),n!==null){var r=Xe();wt(n,e,o,r),Ip(n,t,o)}}function jg(e,t,n){var o=an(e),r={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(_p(e))wp(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,u=i(l,n);if(r.hasEagerState=!0,r.eagerState=u,It(u,l)){var c=t.interleaved;c===null?(r.next=r,na(t)):(r.next=c.next,c.next=r),t.interleaved=r;return}}catch{}finally{}n=ip(e,t,r,o),n!==null&&(r=Xe(),wt(n,e,o,r),Ip(n,t,o))}}function _p(e){var t=e.alternate;return e===_e||t!==null&&t===_e}function wp(e,t){Go=fi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ip(e,t,n){if(n&4194240){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,bl(e,n)}}var pi={readContext:yt,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useInsertionEffect:$e,useLayoutEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useMutableSource:$e,useSyncExternalStore:$e,useId:$e,unstable_isNewReconciler:!1},ey={readContext:yt,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:zu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,qr(4194308,4,vp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qr(4194308,4,e,t)},useInsertionEffect:function(e,t){return qr(4,2,e,t)},useMemo:function(e,t){var n=Nt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=Nt();return t=n!==void 0?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Zg.bind(null,_e,e),[o.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:Gu,useDebugValue:da,useDeferredValue:function(e){return Nt().memoizedState=e},useTransition:function(){var e=Gu(!1),t=e[0];return e=Qg.bind(null,e[1]),Nt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=_e,r=Nt();if(Se){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),Ve===null)throw Error(L(349));wn&30||cp(o,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,zu(fp.bind(null,o,i,e),[e]),o.flags|=2048,ir(9,dp.bind(null,o,i,n,t),void 0,null),n},useId:function(){var e=Nt(),t=Ve.identifierPrefix;if(Se){var n=Vt,o=Ut;n=(o&~(1<<32-_t(o)-1)).toString(32)+n,t=":"+t+"R"+n,n=or++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Xg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ty={readContext:yt,useCallback:Cp,useContext:yt,useEffect:ca,useImperativeHandle:xp,useInsertionEffect:gp,useLayoutEffect:yp,useMemo:Ep,useReducer:ms,useRef:mp,useState:function(){return ms(rr)},useDebugValue:da,useDeferredValue:function(e){var t=vt();return Sp(t,De.memoizedState,e)},useTransition:function(){var e=ms(rr)[0],t=vt().memoizedState;return[e,t]},useMutableSource:ap,useSyncExternalStore:up,useId:Tp,unstable_isNewReconciler:!1},ny={readContext:yt,useCallback:Cp,useContext:yt,useEffect:ca,useImperativeHandle:xp,useInsertionEffect:gp,useLayoutEffect:yp,useMemo:Ep,useReducer:gs,useRef:mp,useState:function(){return gs(rr)},useDebugValue:da,useDeferredValue:function(e){var t=vt();return De===null?t.memoizedState=e:Sp(t,De.memoizedState,e)},useTransition:function(){var e=gs(rr)[0],t=vt().memoizedState;return[e,t]},useMutableSource:ap,useSyncExternalStore:up,useId:Tp,unstable_isNewReconciler:!1};function Et(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Zs(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:we({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Fi={isMounted:function(e){return(e=e._reactInternals)?Nn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=Xe(),r=an(e),i=Ht(o,r);i.payload=t,n!=null&&(i.callback=n),t=sn(e,i,r),t!==null&&(wt(t,e,r,o),Gr(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=Xe(),r=an(e),i=Ht(o,r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=sn(e,i,r),t!==null&&(wt(t,e,r,o),Gr(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xe(),o=an(e),r=Ht(n,o);r.tag=2,t!=null&&(r.callback=t),t=sn(e,r,o),t!==null&&(wt(t,e,o,n),Gr(t,e,o))}};function qu(e,t,n,o,r,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,i,l):t.prototype&&t.prototype.isPureReactComponent?!Qo(n,o)||!Qo(r,i):!0}function Ap(e,t,n){var o=!1,r=dn,i=t.contextType;return typeof i=="object"&&i!==null?i=yt(i):(r=nt(t)?Tn:Ye.current,o=t.contextTypes,i=(o=o!=null)?oo(e,r):dn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fi,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function bu(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&Fi.enqueueReplaceState(t,t.state,null)}function js(e,t,n,o){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},oa(e);var i=t.contextType;typeof i=="object"&&i!==null?r.context=yt(i):(i=nt(t)?Tn:Ye.current,r.context=oo(e,i)),r.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Zs(e,t,i,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&Fi.enqueueReplaceState(r,r.state,null),ci(e,n,r,o),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function lo(e,t){try{var n="",o=t;do n+=Pm(o),o=o.return;while(o);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:r,digest:null}}function ys(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function el(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var oy=typeof WeakMap=="function"?WeakMap:Map;function kp(e,t,n){n=Ht(-1,n),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){mi||(mi=!0,cl=o),el(e,t)},n}function Np(e,t,n){n=Ht(-1,n),n.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var r=t.value;n.payload=function(){return o(r)},n.callback=function(){el(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){el(e,t),typeof o!="function"&&(ln===null?ln=new Set([this]):ln.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Bu(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new oy;var r=new Set;o.set(t,r)}else r=o.get(t),r===void 0&&(r=new Set,o.set(t,r));r.has(n)||(r.add(n),e=yy.bind(null,e,t,n),t.then(e,e))}function $u(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ju(e,t,n,o,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ht(-1,1),t.tag=2,sn(n,t,1))),n.lanes|=1),e)}var ry=$t.ReactCurrentOwner,et=!1;function Ke(e,t,n,o){t.child=e===null?rp(t,null,n,o):io(t,e.child,n,o)}function Wu(e,t,n,o,r){n=n.render;var i=t.ref;return Qn(t,r),o=aa(e,t,n,o,i,r),n=ua(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,bt(e,t,r)):(Se&&n&&Xl(t),t.flags|=1,Ke(e,t,o,r),t.child)}function Ou(e,t,n,o,r){if(e===null){var i=n.type;return typeof i=="function"&&!xa(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Pp(e,t,i,o,r)):(e=Jr(n.type,null,o,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&r)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Qo,n(l,o)&&e.ref===t.ref)return bt(e,t,r)}return t.flags|=1,e=un(i,o),e.ref=t.ref,e.return=t,t.child=e}function Pp(e,t,n,o,r){if(e!==null){var i=e.memoizedProps;if(Qo(i,o)&&e.ref===t.ref)if(et=!1,t.pendingProps=o=i,(e.lanes&r)!==0)e.flags&131072&&(et=!0);else return t.lanes=e.lanes,bt(e,t,r)}return tl(e,t,n,o,r)}function Rp(e,t,n){var o=t.pendingProps,r=o.children,i=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(Jn,it),it|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(Jn,it),it|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=i!==null?i.baseLanes:n,he(Jn,it),it|=o}else i!==null?(o=i.baseLanes|n,t.memoizedState=null):o=n,he(Jn,it),it|=o;return Ke(e,t,r,n),t.child}function Mp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function tl(e,t,n,o,r){var i=nt(n)?Tn:Ye.current;return i=oo(t,i),Qn(t,r),n=aa(e,t,n,o,i,r),o=ua(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,bt(e,t,r)):(Se&&o&&Xl(t),t.flags|=1,Ke(e,t,n,r),t.child)}function Yu(e,t,n,o,r){if(nt(n)){var i=!0;ii(t)}else i=!1;if(Qn(t,r),t.stateNode===null)br(e,t),Ap(t,n,o),js(t,n,o,r),o=!0;else if(e===null){var l=t.stateNode,u=t.memoizedProps;l.props=u;var c=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=yt(d):(d=nt(n)?Tn:Ye.current,d=oo(t,d));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==o||c!==d)&&bu(t,l,o,d),Kt=!1;var p=t.memoizedState;l.state=p,ci(t,o,l,r),c=t.memoizedState,u!==o||p!==c||tt.current||Kt?(typeof f=="function"&&(Zs(t,n,f,o),c=t.memoizedState),(u=Kt||qu(t,n,u,o,p,c,d))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=c),l.props=o,l.state=c,l.context=d,o=u):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{l=t.stateNode,sp(e,t),u=t.memoizedProps,d=t.type===t.elementType?u:Et(t.type,u),l.props=d,h=t.pendingProps,p=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=yt(c):(c=nt(n)?Tn:Ye.current,c=oo(t,c));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==h||p!==c)&&bu(t,l,o,c),Kt=!1,p=t.memoizedState,l.state=p,ci(t,o,l,r);var E=t.memoizedState;u!==h||p!==E||tt.current||Kt?(typeof v=="function"&&(Zs(t,n,v,o),E=t.memoizedState),(d=Kt||qu(t,n,d,o,p,E,c)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(o,E,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(o,E,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=E),l.props=o,l.state=E,l.context=c,o=d):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),o=!1)}return nl(e,t,n,o,i,r)}function nl(e,t,n,o,r,i){Mp(e,t);var l=(t.flags&128)!==0;if(!o&&!l)return r&&Du(t,n,!1),bt(e,t,i);o=t.stateNode,ry.current=t;var u=l&&typeof n.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&l?(t.child=io(t,e.child,null,i),t.child=io(t,null,u,i)):Ke(e,t,u,i),t.memoizedState=o.state,r&&Du(t,n,!0),t.child}function Dp(e){var t=e.stateNode;t.pendingContext?Mu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Mu(e,t.context,!1),ra(e,t.containerInfo)}function Ku(e,t,n,o,r){return ro(),Zl(r),t.flags|=256,Ke(e,t,n,o),t.child}var ol={dehydrated:null,treeContext:null,retryLane:0};function rl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lp(e,t,n){var o=t.pendingProps,r=Te.current,i=!1,l=(t.flags&128)!==0,u;if((u=l)||(u=e!==null&&e.memoizedState===null?!1:(r&2)!==0),u?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),he(Te,r&1),e===null)return Xs(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=o.children,e=o.fallback,i?(o=t.mode,i=t.child,l={mode:"hidden",children:l},!(o&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Hi(l,o,0,null),e=Sn(e,o,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=rl(n),t.memoizedState=ol,e):fa(t,l));if(r=e.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return iy(e,t,l,o,u,r,n);if(i){i=o.fallback,l=t.mode,r=e.child,u=r.sibling;var c={mode:"hidden",children:o.children};return!(l&1)&&t.child!==r?(o=t.child,o.childLanes=0,o.pendingProps=c,t.deletions=null):(o=un(r,c),o.subtreeFlags=r.subtreeFlags&14680064),u!==null?i=un(u,i):(i=Sn(i,l,n,null),i.flags|=2),i.return=t,o.return=t,o.sibling=i,t.child=o,o=i,i=t.child,l=e.child.memoizedState,l=l===null?rl(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=ol,o}return i=e.child,e=i.sibling,o=un(i,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function fa(e,t){return t=Hi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Nr(e,t,n,o){return o!==null&&Zl(o),io(t,e.child,null,n),e=fa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function iy(e,t,n,o,r,i,l){if(n)return t.flags&256?(t.flags&=-257,o=ys(Error(L(422))),Nr(e,t,l,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=o.fallback,r=t.mode,o=Hi({mode:"visible",children:o.children},r,0,null),i=Sn(i,r,l,null),i.flags|=2,o.return=t,i.return=t,o.sibling=i,t.child=o,t.mode&1&&io(t,e.child,null,l),t.child.memoizedState=rl(l),t.memoizedState=ol,i);if(!(t.mode&1))return Nr(e,t,l,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var u=o.dgst;return o=u,i=Error(L(419)),o=ys(i,o,void 0),Nr(e,t,l,o)}if(u=(l&e.childLanes)!==0,et||u){if(o=Ve,o!==null){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|l)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,qt(e,r),wt(o,e,r,-1))}return va(),o=ys(Error(L(421))),Nr(e,t,l,o)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=vy.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,st=rn(r.nextSibling),lt=t,Se=!0,Tt=null,e!==null&&(ft[pt++]=Ut,ft[pt++]=Vt,ft[pt++]=_n,Ut=e.id,Vt=e.overflow,_n=t),t=fa(t,o.children),t.flags|=4096,t)}function Xu(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Qs(e.return,t,n)}function vs(e,t,n,o,r){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=n,i.tailMode=r)}function Fp(e,t,n){var o=t.pendingProps,r=o.revealOrder,i=o.tail;if(Ke(e,t,o.children,n),o=Te.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xu(e,n,t);else if(e.tag===19)Xu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(he(Te,o),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&di(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),vs(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&di(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}vs(t,!0,n,null,i);break;case"together":vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function br(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),In|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=un(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=un(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function sy(e,t,n){switch(t.tag){case 3:Dp(t),ro();break;case 5:lp(t);break;case 1:nt(t.type)&&ii(t);break;case 4:ra(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,r=t.memoizedProps.value;he(ai,o._currentValue),o._currentValue=r;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(he(Te,Te.current&1),t.flags|=128,null):n&t.child.childLanes?Lp(e,t,n):(he(Te,Te.current&1),e=bt(e,t,n),e!==null?e.sibling:null);he(Te,Te.current&1);break;case 19:if(o=(n&t.childLanes)!==0,e.flags&128){if(o)return Fp(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),he(Te,Te.current),o)break;return null;case 22:case 23:return t.lanes=0,Rp(e,t,n)}return bt(e,t,n)}var Up,il,Vp,Hp;Up=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};il=function(){};Vp=function(e,t,n,o){var r=e.memoizedProps;if(r!==o){e=t.stateNode,Cn(Mt.current);var i=null;switch(n){case"input":r=As(e,r),o=As(e,o),i=[];break;case"select":r=we({},r,{value:void 0}),o=we({},o,{value:void 0}),i=[];break;case"textarea":r=Ps(e,r),o=Ps(e,o),i=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=oi)}Ms(n,o);var l;n=null;for(d in r)if(!o.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var u=r[d];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&($o.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in o){var c=o[d];if(u=r!=null?r[d]:void 0,o.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&($o.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ge("scroll",e),i||u===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Hp=function(e,t,n,o){n!==o&&(t.flags|=4)};function wo(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Je(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function ly(e,t,n){var o=t.pendingProps;switch(Ql(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(t),null;case 1:return nt(t.type)&&ri(),Je(t),null;case 3:return o=t.stateNode,so(),xe(tt),xe(Ye),sa(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Ar(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tt!==null&&(pl(Tt),Tt=null))),il(e,t),Je(t),null;case 5:ia(t);var r=Cn(nr.current);if(n=t.type,e!==null&&t.stateNode!=null)Vp(e,t,n,o,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(L(166));return Je(t),null}if(e=Cn(Mt.current),Ar(t)){o=t.stateNode,n=t.type;var i=t.memoizedProps;switch(o[Pt]=t,o[er]=i,e=(t.mode&1)!==0,n){case"dialog":ge("cancel",o),ge("close",o);break;case"iframe":case"object":case"embed":ge("load",o);break;case"video":case"audio":for(r=0;r<Ro.length;r++)ge(Ro[r],o);break;case"source":ge("error",o);break;case"img":case"image":case"link":ge("error",o),ge("load",o);break;case"details":ge("toggle",o);break;case"input":iu(o,i),ge("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},ge("invalid",o);break;case"textarea":lu(o,i),ge("invalid",o)}Ms(n,i),r=null;for(var l in i)if(i.hasOwnProperty(l)){var u=i[l];l==="children"?typeof u=="string"?o.textContent!==u&&(i.suppressHydrationWarning!==!0&&Ir(o.textContent,u,e),r=["children",u]):typeof u=="number"&&o.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&Ir(o.textContent,u,e),r=["children",""+u]):$o.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&ge("scroll",o)}switch(n){case"input":vr(o),su(o,i,!0);break;case"textarea":vr(o),au(o);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(o.onclick=oi)}o=r,t.updateQueue=o,o!==null&&(t.flags|=4)}else{l=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ff(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=l.createElement(n,{is:o.is}):(e=l.createElement(n),n==="select"&&(l=e,o.multiple?l.multiple=!0:o.size&&(l.size=o.size))):e=l.createElementNS(e,n),e[Pt]=t,e[er]=o,Up(e,t,!1,!1),t.stateNode=e;e:{switch(l=Ds(n,o),n){case"dialog":ge("cancel",e),ge("close",e),r=o;break;case"iframe":case"object":case"embed":ge("load",e),r=o;break;case"video":case"audio":for(r=0;r<Ro.length;r++)ge(Ro[r],e);r=o;break;case"source":ge("error",e),r=o;break;case"img":case"image":case"link":ge("error",e),ge("load",e),r=o;break;case"details":ge("toggle",e),r=o;break;case"input":iu(e,o),r=As(e,o),ge("invalid",e);break;case"option":r=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},r=we({},o,{value:void 0}),ge("invalid",e);break;case"textarea":lu(e,o),r=Ps(e,o),ge("invalid",e);break;default:r=o}Ms(n,r),u=r;for(i in u)if(u.hasOwnProperty(i)){var c=u[i];i==="style"?mf(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&pf(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Jo(e,c):typeof c=="number"&&Jo(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&($o.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ge("scroll",e):c!=null&&Ul(e,i,c,l))}switch(n){case"input":vr(e),su(e,o,!1);break;case"textarea":vr(e),au(e);break;case"option":o.value!=null&&e.setAttribute("value",""+cn(o.value));break;case"select":e.multiple=!!o.multiple,i=o.value,i!=null?On(e,!!o.multiple,i,!1):o.defaultValue!=null&&On(e,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=oi)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Je(t),null;case 6:if(e&&t.stateNode!=null)Hp(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(L(166));if(n=Cn(nr.current),Cn(Mt.current),Ar(t)){if(o=t.stateNode,n=t.memoizedProps,o[Pt]=t,(i=o.nodeValue!==n)&&(e=lt,e!==null))switch(e.tag){case 3:Ir(o.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ir(o.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[Pt]=t,t.stateNode=o}return Je(t),null;case 13:if(xe(Te),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&st!==null&&t.mode&1&&!(t.flags&128))np(),ro(),t.flags|=98560,i=!1;else if(i=Ar(t),o!==null&&o.dehydrated!==null){if(e===null){if(!i)throw Error(L(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(L(317));i[Pt]=t}else ro(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Je(t),i=!1}else Tt!==null&&(pl(Tt),Tt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||Te.current&1?Le===0&&(Le=3):va())),t.updateQueue!==null&&(t.flags|=4),Je(t),null);case 4:return so(),il(e,t),e===null&&Zo(t.stateNode.containerInfo),Je(t),null;case 10:return ta(t.type._context),Je(t),null;case 17:return nt(t.type)&&ri(),Je(t),null;case 19:if(xe(Te),i=t.memoizedState,i===null)return Je(t),null;if(o=(t.flags&128)!==0,l=i.rendering,l===null)if(o)wo(i,!1);else{if(Le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=di(e),l!==null){for(t.flags|=128,wo(i,!1),o=l.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;n!==null;)i=n,e=o,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return he(Te,Te.current&1|2),t.child}e=e.sibling}i.tail!==null&&Pe()>ao&&(t.flags|=128,o=!0,wo(i,!1),t.lanes=4194304)}else{if(!o)if(e=di(l),e!==null){if(t.flags|=128,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),wo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Se)return Je(t),null}else 2*Pe()-i.renderingStartTime>ao&&n!==1073741824&&(t.flags|=128,o=!0,wo(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Pe(),t.sibling=null,n=Te.current,he(Te,o?n&1|2:n&1),t):(Je(t),null);case 22:case 23:return ya(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?it&1073741824&&(Je(t),t.subtreeFlags&6&&(t.flags|=8192)):Je(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function ay(e,t){switch(Ql(t),t.tag){case 1:return nt(t.type)&&ri(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return so(),xe(tt),xe(Ye),sa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ia(t),null;case 13:if(xe(Te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));ro()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(Te),null;case 4:return so(),null;case 10:return ta(t.type._context),null;case 22:case 23:return ya(),null;case 24:return null;default:return null}}var Pr=!1,We=!1,uy=typeof WeakSet=="function"?WeakSet:Set,z=null;function $n(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){Ae(e,t,o)}else n.current=null}function sl(e,t,n){try{n()}catch(o){Ae(e,t,o)}}var Qu=!1;function cy(e,t){if(Bs=ei,e=Bf(),Kl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,u=-1,c=-1,d=0,f=0,h=e,p=null;t:for(;;){for(var v;h!==n||r!==0&&h.nodeType!==3||(u=l+r),h!==i||o!==0&&h.nodeType!==3||(c=l+o),h.nodeType===3&&(l+=h.nodeValue.length),(v=h.firstChild)!==null;)p=h,h=v;for(;;){if(h===e)break t;if(p===n&&++d===r&&(u=l),p===i&&++f===o&&(c=l),(v=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=v}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for($s={focusedElem:e,selectionRange:n},ei=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var S=E.memoizedProps,A=E.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?S:Et(t.type,S),A);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(C){Ae(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return E=Qu,Qu=!1,E}function zo(e,t,n){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,i!==void 0&&sl(t,n,i)}r=r.next}while(r!==o)}}function Ui(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function ll(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Gp(e){var t=e.alternate;t!==null&&(e.alternate=null,Gp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pt],delete t[er],delete t[Os],delete t[Wg],delete t[Og])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zp(e){return e.tag===5||e.tag===3||e.tag===4}function Zu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function al(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=oi));else if(o!==4&&(e=e.child,e!==null))for(al(e,t,n),e=e.sibling;e!==null;)al(e,t,n),e=e.sibling}function ul(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(ul(e,t,n),e=e.sibling;e!==null;)ul(e,t,n),e=e.sibling}var Ge=null,St=!1;function Ot(e,t,n){for(n=n.child;n!==null;)qp(e,t,n),n=n.sibling}function qp(e,t,n){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(ki,n)}catch{}switch(n.tag){case 5:We||$n(n,t);case 6:var o=Ge,r=St;Ge=null,Ot(e,t,n),Ge=o,St=r,Ge!==null&&(St?(e=Ge,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ge.removeChild(n.stateNode));break;case 18:Ge!==null&&(St?(e=Ge,n=n.stateNode,e.nodeType===8?ds(e.parentNode,n):e.nodeType===1&&ds(e,n),Ko(e)):ds(Ge,n.stateNode));break;case 4:o=Ge,r=St,Ge=n.stateNode.containerInfo,St=!0,Ot(e,t,n),Ge=o,St=r;break;case 0:case 11:case 14:case 15:if(!We&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var i=r,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&sl(n,t,l),r=r.next}while(r!==o)}Ot(e,t,n);break;case 1:if(!We&&($n(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(u){Ae(n,t,u)}Ot(e,t,n);break;case 21:Ot(e,t,n);break;case 22:n.mode&1?(We=(o=We)||n.memoizedState!==null,Ot(e,t,n),We=o):Ot(e,t,n);break;default:Ot(e,t,n)}}function ju(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new uy),t.forEach(function(o){var r=xy.bind(null,e,o);n.has(o)||(n.add(o),o.then(r,r))})}}function Ct(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var r=n[o];try{var i=e,l=t,u=l;e:for(;u!==null;){switch(u.tag){case 5:Ge=u.stateNode,St=!1;break e;case 3:Ge=u.stateNode.containerInfo,St=!0;break e;case 4:Ge=u.stateNode.containerInfo,St=!0;break e}u=u.return}if(Ge===null)throw Error(L(160));qp(i,l,r),Ge=null,St=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){Ae(r,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bp(t,e),t=t.sibling}function bp(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ct(t,e),kt(e),o&4){try{zo(3,e,e.return),Ui(3,e)}catch(S){Ae(e,e.return,S)}try{zo(5,e,e.return)}catch(S){Ae(e,e.return,S)}}break;case 1:Ct(t,e),kt(e),o&512&&n!==null&&$n(n,n.return);break;case 5:if(Ct(t,e),kt(e),o&512&&n!==null&&$n(n,n.return),e.flags&32){var r=e.stateNode;try{Jo(r,"")}catch(S){Ae(e,e.return,S)}}if(o&4&&(r=e.stateNode,r!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,u=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&cf(r,i),Ds(u,l);var d=Ds(u,i);for(l=0;l<c.length;l+=2){var f=c[l],h=c[l+1];f==="style"?mf(r,h):f==="dangerouslySetInnerHTML"?pf(r,h):f==="children"?Jo(r,h):Ul(r,f,h,d)}switch(u){case"input":ks(r,i);break;case"textarea":df(r,i);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?On(r,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?On(r,!!i.multiple,i.defaultValue,!0):On(r,!!i.multiple,i.multiple?[]:"",!1))}r[er]=i}catch(S){Ae(e,e.return,S)}}break;case 6:if(Ct(t,e),kt(e),o&4){if(e.stateNode===null)throw Error(L(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(S){Ae(e,e.return,S)}}break;case 3:if(Ct(t,e),kt(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{Ko(t.containerInfo)}catch(S){Ae(e,e.return,S)}break;case 4:Ct(t,e),kt(e);break;case 13:Ct(t,e),kt(e),r=e.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(ma=Pe())),o&4&&ju(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(We=(d=We)||f,Ct(t,e),We=d):Ct(t,e),kt(e),o&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(z=e,f=e.child;f!==null;){for(h=z=f;z!==null;){switch(p=z,v=p.child,p.tag){case 0:case 11:case 14:case 15:zo(4,p,p.return);break;case 1:$n(p,p.return);var E=p.stateNode;if(typeof E.componentWillUnmount=="function"){o=p,n=p.return;try{t=o,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(S){Ae(o,n,S)}}break;case 5:$n(p,p.return);break;case 22:if(p.memoizedState!==null){tc(h);continue}}v!==null?(v.return=p,z=v):tc(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{r=h.stateNode,d?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=hf("display",l))}catch(S){Ae(e,e.return,S)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(S){Ae(e,e.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ct(t,e),kt(e),o&4&&ju(e);break;case 21:break;default:Ct(t,e),kt(e)}}function kt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(zp(n)){var o=n;break e}n=n.return}throw Error(L(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&(Jo(r,""),o.flags&=-33);var i=Zu(e);ul(e,i,r);break;case 3:case 4:var l=o.stateNode.containerInfo,u=Zu(e);al(e,u,l);break;default:throw Error(L(161))}}catch(c){Ae(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dy(e,t,n){z=e,Bp(e)}function Bp(e,t,n){for(var o=(e.mode&1)!==0;z!==null;){var r=z,i=r.child;if(r.tag===22&&o){var l=r.memoizedState!==null||Pr;if(!l){var u=r.alternate,c=u!==null&&u.memoizedState!==null||We;u=Pr;var d=We;if(Pr=l,(We=c)&&!d)for(z=r;z!==null;)l=z,c=l.child,l.tag===22&&l.memoizedState!==null?nc(r):c!==null?(c.return=l,z=c):nc(r);for(;i!==null;)z=i,Bp(i),i=i.sibling;z=r,Pr=u,We=d}ec(e)}else r.subtreeFlags&8772&&i!==null?(i.return=r,z=i):ec(e)}}function ec(e){for(;z!==null;){var t=z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:We||Ui(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!We)if(n===null)o.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Et(t.type,n.memoizedProps);o.componentDidUpdate(r,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Hu(t,i,o);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Hu(t,l,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Ko(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}We||t.flags&512&&ll(t)}catch(p){Ae(t,t.return,p)}}if(t===e){z=null;break}if(n=t.sibling,n!==null){n.return=t.return,z=n;break}z=t.return}}function tc(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,z=n;break}z=t.return}}function nc(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ui(4,t)}catch(c){Ae(t,n,c)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var r=t.return;try{o.componentDidMount()}catch(c){Ae(t,r,c)}}var i=t.return;try{ll(t)}catch(c){Ae(t,i,c)}break;case 5:var l=t.return;try{ll(t)}catch(c){Ae(t,l,c)}}}catch(c){Ae(t,t.return,c)}if(t===e){z=null;break}var u=t.sibling;if(u!==null){u.return=t.return,z=u;break}z=t.return}}var fy=Math.ceil,hi=$t.ReactCurrentDispatcher,pa=$t.ReactCurrentOwner,mt=$t.ReactCurrentBatchConfig,ie=0,Ve=null,Me=null,ze=0,it=0,Jn=pn(0),Le=0,sr=null,In=0,Vi=0,ha=0,qo=null,je=null,ma=0,ao=1/0,Lt=null,mi=!1,cl=null,ln=null,Rr=!1,jt=null,gi=0,bo=0,dl=null,Br=-1,$r=0;function Xe(){return ie&6?Pe():Br!==-1?Br:Br=Pe()}function an(e){return e.mode&1?ie&2&&ze!==0?ze&-ze:Kg.transition!==null?($r===0&&($r=Af()),$r):(e=ae,e!==0||(e=window.event,e=e===void 0?16:Lf(e.type)),e):1}function wt(e,t,n,o){if(50<bo)throw bo=0,dl=null,Error(L(185));ar(e,n,o),(!(ie&2)||e!==Ve)&&(e===Ve&&(!(ie&2)&&(Vi|=n),Le===4&&Qt(e,ze)),ot(e,o),n===1&&ie===0&&!(t.mode&1)&&(ao=Pe()+500,Di&&hn()))}function ot(e,t){var n=e.callbackNode;Km(e,t);var o=jr(e,e===Ve?ze:0);if(o===0)n!==null&&du(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(n!=null&&du(n),t===1)e.tag===0?Yg(oc.bind(null,e)):jf(oc.bind(null,e)),$g(function(){!(ie&6)&&hn()}),n=null;else{switch(kf(o)){case 1:n=ql;break;case 4:n=wf;break;case 16:n=Zr;break;case 536870912:n=If;break;default:n=Zr}n=Qp(n,$p.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function $p(e,t){if(Br=-1,$r=0,ie&6)throw Error(L(327));var n=e.callbackNode;if(Zn()&&e.callbackNode!==n)return null;var o=jr(e,e===Ve?ze:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=yi(e,o);else{t=o;var r=ie;ie|=2;var i=Wp();(Ve!==e||ze!==t)&&(Lt=null,ao=Pe()+500,En(e,t));do try{my();break}catch(u){Jp(e,u)}while(!0);ea(),hi.current=i,ie=r,Me!==null?t=0:(Ve=null,ze=0,t=Le)}if(t!==0){if(t===2&&(r=Hs(e),r!==0&&(o=r,t=fl(e,r))),t===1)throw n=sr,En(e,0),Qt(e,o),ot(e,Pe()),n;if(t===6)Qt(e,o);else{if(r=e.current.alternate,!(o&30)&&!py(r)&&(t=yi(e,o),t===2&&(i=Hs(e),i!==0&&(o=i,t=fl(e,i))),t===1))throw n=sr,En(e,0),Qt(e,o),ot(e,Pe()),n;switch(e.finishedWork=r,e.finishedLanes=o,t){case 0:case 1:throw Error(L(345));case 2:yn(e,je,Lt);break;case 3:if(Qt(e,o),(o&130023424)===o&&(t=ma+500-Pe(),10<t)){if(jr(e,0)!==0)break;if(r=e.suspendedLanes,(r&o)!==o){Xe(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Ws(yn.bind(null,e,je,Lt),t);break}yn(e,je,Lt);break;case 4:if(Qt(e,o),(o&4194240)===o)break;for(t=e.eventTimes,r=-1;0<o;){var l=31-_t(o);i=1<<l,l=t[l],l>r&&(r=l),o&=~i}if(o=r,o=Pe()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*fy(o/1960))-o,10<o){e.timeoutHandle=Ws(yn.bind(null,e,je,Lt),o);break}yn(e,je,Lt);break;case 5:yn(e,je,Lt);break;default:throw Error(L(329))}}}return ot(e,Pe()),e.callbackNode===n?$p.bind(null,e):null}function fl(e,t){var n=qo;return e.current.memoizedState.isDehydrated&&(En(e,t).flags|=256),e=yi(e,t),e!==2&&(t=je,je=n,t!==null&&pl(t)),e}function pl(e){je===null?je=e:je.push.apply(je,e)}function py(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var r=n[o],i=r.getSnapshot;r=r.value;try{if(!It(i(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qt(e,t){for(t&=~ha,t&=~Vi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_t(t),o=1<<n;e[n]=-1,t&=~o}}function oc(e){if(ie&6)throw Error(L(327));Zn();var t=jr(e,0);if(!(t&1))return ot(e,Pe()),null;var n=yi(e,t);if(e.tag!==0&&n===2){var o=Hs(e);o!==0&&(t=o,n=fl(e,o))}if(n===1)throw n=sr,En(e,0),Qt(e,t),ot(e,Pe()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yn(e,je,Lt),ot(e,Pe()),null}function ga(e,t){var n=ie;ie|=1;try{return e(t)}finally{ie=n,ie===0&&(ao=Pe()+500,Di&&hn())}}function An(e){jt!==null&&jt.tag===0&&!(ie&6)&&Zn();var t=ie;ie|=1;var n=mt.transition,o=ae;try{if(mt.transition=null,ae=1,e)return e()}finally{ae=o,mt.transition=n,ie=t,!(ie&6)&&hn()}}function ya(){it=Jn.current,xe(Jn)}function En(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Bg(n)),Me!==null)for(n=Me.return;n!==null;){var o=n;switch(Ql(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&ri();break;case 3:so(),xe(tt),xe(Ye),sa();break;case 5:ia(o);break;case 4:so();break;case 13:xe(Te);break;case 19:xe(Te);break;case 10:ta(o.type._context);break;case 22:case 23:ya()}n=n.return}if(Ve=e,Me=e=un(e.current,null),ze=it=t,Le=0,sr=null,ha=Vi=In=0,je=qo=null,xn!==null){for(t=0;t<xn.length;t++)if(n=xn[t],o=n.interleaved,o!==null){n.interleaved=null;var r=o.next,i=n.pending;if(i!==null){var l=i.next;i.next=r,o.next=l}n.pending=o}xn=null}return e}function Jp(e,t){do{var n=Me;try{if(ea(),zr.current=pi,fi){for(var o=_e.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}fi=!1}if(wn=0,Ue=De=_e=null,Go=!1,or=0,pa.current=null,n===null||n.return===null){Le=1,sr=t,Me=null;break}e:{var i=e,l=n.return,u=n,c=t;if(t=ze,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=u,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=$u(l);if(v!==null){v.flags&=-257,Ju(v,l,u,i,t),v.mode&1&&Bu(i,d,t),t=v,c=d;var E=t.updateQueue;if(E===null){var S=new Set;S.add(c),t.updateQueue=S}else E.add(c);break e}else{if(!(t&1)){Bu(i,d,t),va();break e}c=Error(L(426))}}else if(Se&&u.mode&1){var A=$u(l);if(A!==null){!(A.flags&65536)&&(A.flags|=256),Ju(A,l,u,i,t),Zl(lo(c,u));break e}}i=c=lo(c,u),Le!==4&&(Le=2),qo===null?qo=[i]:qo.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=kp(i,c,t);Vu(i,x);break e;case 1:u=c;var y=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ln===null||!ln.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var C=Np(i,u,t);Vu(i,C);break e}}i=i.return}while(i!==null)}Yp(n)}catch(_){t=_,Me===n&&n!==null&&(Me=n=n.return);continue}break}while(!0)}function Wp(){var e=hi.current;return hi.current=pi,e===null?pi:e}function va(){(Le===0||Le===3||Le===2)&&(Le=4),Ve===null||!(In&268435455)&&!(Vi&268435455)||Qt(Ve,ze)}function yi(e,t){var n=ie;ie|=2;var o=Wp();(Ve!==e||ze!==t)&&(Lt=null,En(e,t));do try{hy();break}catch(r){Jp(e,r)}while(!0);if(ea(),ie=n,hi.current=o,Me!==null)throw Error(L(261));return Ve=null,ze=0,Le}function hy(){for(;Me!==null;)Op(Me)}function my(){for(;Me!==null&&!zm();)Op(Me)}function Op(e){var t=Xp(e.alternate,e,it);e.memoizedProps=e.pendingProps,t===null?Yp(e):Me=t,pa.current=null}function Yp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ay(n,t),n!==null){n.flags&=32767,Me=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Le=6,Me=null;return}}else if(n=ly(n,t,it),n!==null){Me=n;return}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);Le===0&&(Le=5)}function yn(e,t,n){var o=ae,r=mt.transition;try{mt.transition=null,ae=1,gy(e,t,n,o)}finally{mt.transition=r,ae=o}return null}function gy(e,t,n,o){do Zn();while(jt!==null);if(ie&6)throw Error(L(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Xm(e,i),e===Ve&&(Me=Ve=null,ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Rr||(Rr=!0,Qp(Zr,function(){return Zn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=mt.transition,mt.transition=null;var l=ae;ae=1;var u=ie;ie|=4,pa.current=null,cy(e,n),bp(n,e),Ug($s),ei=!!Bs,$s=Bs=null,e.current=n,dy(n),qm(),ie=u,ae=l,mt.transition=i}else e.current=n;if(Rr&&(Rr=!1,jt=e,gi=r),i=e.pendingLanes,i===0&&(ln=null),$m(n.stateNode),ot(e,Pe()),t!==null)for(o=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],o(r.value,{componentStack:r.stack,digest:r.digest});if(mi)throw mi=!1,e=cl,cl=null,e;return gi&1&&e.tag!==0&&Zn(),i=e.pendingLanes,i&1?e===dl?bo++:(bo=0,dl=e):bo=0,hn(),null}function Zn(){if(jt!==null){var e=kf(gi),t=mt.transition,n=ae;try{if(mt.transition=null,ae=16>e?16:e,jt===null)var o=!1;else{if(e=jt,jt=null,gi=0,ie&6)throw Error(L(331));var r=ie;for(ie|=4,z=e.current;z!==null;){var i=z,l=i.child;if(z.flags&16){var u=i.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(z=d;z!==null;){var f=z;switch(f.tag){case 0:case 11:case 15:zo(8,f,i)}var h=f.child;if(h!==null)h.return=f,z=h;else for(;z!==null;){f=z;var p=f.sibling,v=f.return;if(Gp(f),f===d){z=null;break}if(p!==null){p.return=v,z=p;break}z=v}}}var E=i.alternate;if(E!==null){var S=E.child;if(S!==null){E.child=null;do{var A=S.sibling;S.sibling=null,S=A}while(S!==null)}}z=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,z=l;else e:for(;z!==null;){if(i=z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:zo(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,z=x;break e}z=i.return}}var y=e.current;for(z=y;z!==null;){l=z;var g=l.child;if(l.subtreeFlags&2064&&g!==null)g.return=l,z=g;else e:for(l=y;z!==null;){if(u=z,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Ui(9,u)}}catch(_){Ae(u,u.return,_)}if(u===l){z=null;break e}var C=u.sibling;if(C!==null){C.return=u.return,z=C;break e}z=u.return}}if(ie=r,hn(),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(ki,e)}catch{}o=!0}return o}finally{ae=n,mt.transition=t}}return!1}function rc(e,t,n){t=lo(n,t),t=kp(e,t,1),e=sn(e,t,1),t=Xe(),e!==null&&(ar(e,1,t),ot(e,t))}function Ae(e,t,n){if(e.tag===3)rc(e,e,n);else for(;t!==null;){if(t.tag===3){rc(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ln===null||!ln.has(o))){e=lo(n,e),e=Np(t,e,1),t=sn(t,e,1),e=Xe(),t!==null&&(ar(t,1,e),ot(t,e));break}}t=t.return}}function yy(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),t=Xe(),e.pingedLanes|=e.suspendedLanes&n,Ve===e&&(ze&n)===n&&(Le===4||Le===3&&(ze&130023424)===ze&&500>Pe()-ma?En(e,0):ha|=n),ot(e,t)}function Kp(e,t){t===0&&(e.mode&1?(t=Er,Er<<=1,!(Er&130023424)&&(Er=4194304)):t=1);var n=Xe();e=qt(e,t),e!==null&&(ar(e,t,n),ot(e,n))}function vy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Kp(e,n)}function xy(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(L(314))}o!==null&&o.delete(t),Kp(e,n)}var Xp;Xp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||tt.current)et=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return et=!1,sy(e,t,n);et=!!(e.flags&131072)}else et=!1,Se&&t.flags&1048576&&ep(t,li,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;br(e,t),e=t.pendingProps;var r=oo(t,Ye.current);Qn(t,n),r=aa(null,t,o,e,r,n);var i=ua();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nt(o)?(i=!0,ii(t)):i=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,oa(t),r.updater=Fi,t.stateNode=r,r._reactInternals=t,js(t,o,e,n),t=nl(null,t,o,!0,i,n)):(t.tag=0,Se&&i&&Xl(t),Ke(null,t,r,n),t=t.child),t;case 16:o=t.elementType;e:{switch(br(e,t),e=t.pendingProps,r=o._init,o=r(o._payload),t.type=o,r=t.tag=Ey(o),e=Et(o,e),r){case 0:t=tl(null,t,o,e,n);break e;case 1:t=Yu(null,t,o,e,n);break e;case 11:t=Wu(null,t,o,e,n);break e;case 14:t=Ou(null,t,o,Et(o.type,e),n);break e}throw Error(L(306,o,""))}return t;case 0:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:Et(o,r),tl(e,t,o,r,n);case 1:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:Et(o,r),Yu(e,t,o,r,n);case 3:e:{if(Dp(t),e===null)throw Error(L(387));o=t.pendingProps,i=t.memoizedState,r=i.element,sp(e,t),ci(t,o,null,n);var l=t.memoizedState;if(o=l.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){r=lo(Error(L(423)),t),t=Ku(e,t,o,n,r);break e}else if(o!==r){r=lo(Error(L(424)),t),t=Ku(e,t,o,n,r);break e}else for(st=rn(t.stateNode.containerInfo.firstChild),lt=t,Se=!0,Tt=null,n=rp(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ro(),o===r){t=bt(e,t,n);break e}Ke(e,t,o,n)}t=t.child}return t;case 5:return lp(t),e===null&&Xs(t),o=t.type,r=t.pendingProps,i=e!==null?e.memoizedProps:null,l=r.children,Js(o,r)?l=null:i!==null&&Js(o,i)&&(t.flags|=32),Mp(e,t),Ke(e,t,l,n),t.child;case 6:return e===null&&Xs(t),null;case 13:return Lp(e,t,n);case 4:return ra(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=io(t,null,o,n):Ke(e,t,o,n),t.child;case 11:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:Et(o,r),Wu(e,t,o,r,n);case 7:return Ke(e,t,t.pendingProps,n),t.child;case 8:return Ke(e,t,t.pendingProps.children,n),t.child;case 12:return Ke(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,r=t.pendingProps,i=t.memoizedProps,l=r.value,he(ai,o._currentValue),o._currentValue=l,i!==null)if(It(i.value,l)){if(i.children===r.children&&!tt.current){t=bt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var u=i.dependencies;if(u!==null){l=i.child;for(var c=u.firstContext;c!==null;){if(c.context===o){if(i.tag===1){c=Ht(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Qs(i.return,n,t),u.lanes|=n;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(L(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Qs(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Ke(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,o=t.pendingProps.children,Qn(t,n),r=yt(r),o=o(r),t.flags|=1,Ke(e,t,o,n),t.child;case 14:return o=t.type,r=Et(o,t.pendingProps),r=Et(o.type,r),Ou(e,t,o,r,n);case 15:return Pp(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:Et(o,r),br(e,t),t.tag=1,nt(o)?(e=!0,ii(t)):e=!1,Qn(t,n),Ap(t,o,r),js(t,o,r,n),nl(null,t,o,!0,e,n);case 19:return Fp(e,t,n);case 22:return Rp(e,t,n)}throw Error(L(156,t.tag))};function Qp(e,t){return _f(e,t)}function Cy(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ht(e,t,n,o){return new Cy(e,t,n,o)}function xa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ey(e){if(typeof e=="function")return xa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hl)return 11;if(e===Gl)return 14}return 2}function un(e,t){var n=e.alternate;return n===null?(n=ht(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Jr(e,t,n,o,r,i){var l=2;if(o=e,typeof e=="function")xa(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Fn:return Sn(n.children,r,i,t);case Vl:l=8,r|=8;break;case Ts:return e=ht(12,n,t,r|2),e.elementType=Ts,e.lanes=i,e;case _s:return e=ht(13,n,t,r),e.elementType=_s,e.lanes=i,e;case ws:return e=ht(19,n,t,r),e.elementType=ws,e.lanes=i,e;case lf:return Hi(n,r,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rf:l=10;break e;case sf:l=9;break e;case Hl:l=11;break e;case Gl:l=14;break e;case Yt:l=16,o=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=ht(l,n,t,r),t.elementType=e,t.type=o,t.lanes=i,t}function Sn(e,t,n,o){return e=ht(7,e,o,t),e.lanes=n,e}function Hi(e,t,n,o){return e=ht(22,e,o,t),e.elementType=lf,e.lanes=n,e.stateNode={isHidden:!1},e}function xs(e,t,n){return e=ht(6,e,null,t),e.lanes=n,e}function Cs(e,t,n){return t=ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Sy(e,t,n,o,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=es(0),this.expirationTimes=es(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=es(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Ca(e,t,n,o,r,i,l,u,c){return e=new Sy(e,t,n,u,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ht(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},oa(i),e}function Ty(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ln,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}function Zp(e){if(!e)return dn;e=e._reactInternals;e:{if(Nn(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(nt(n))return Zf(e,n,t)}return t}function jp(e,t,n,o,r,i,l,u,c){return e=Ca(n,o,!0,e,r,i,l,u,c),e.context=Zp(null),n=e.current,o=Xe(),r=an(n),i=Ht(o,r),i.callback=t??null,sn(n,i,r),e.current.lanes=r,ar(e,r,o),ot(e,o),e}function Gi(e,t,n,o){var r=t.current,i=Xe(),l=an(r);return n=Zp(n),t.context===null?t.context=n:t.pendingContext=n,t=Ht(i,l),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=sn(r,t,l),e!==null&&(wt(e,r,l,i),Gr(e,r,l)),l}function vi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ic(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ea(e,t){ic(e,t),(e=e.alternate)&&ic(e,t)}function _y(){return null}var eh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Sa(e){this._internalRoot=e}zi.prototype.render=Sa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));Gi(e,t,null,null)};zi.prototype.unmount=Sa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;An(function(){Gi(null,e,null,null)}),t[zt]=null}};function zi(e){this._internalRoot=e}zi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xt.length&&t!==0&&t<Xt[n].priority;n++);Xt.splice(n,0,e),n===0&&Df(e)}};function Ta(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function qi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sc(){}function wy(e,t,n,o,r){if(r){if(typeof o=="function"){var i=o;o=function(){var d=vi(l);i.call(d)}}var l=jp(t,o,e,0,null,!1,!1,"",sc);return e._reactRootContainer=l,e[zt]=l.current,Zo(e.nodeType===8?e.parentNode:e),An(),l}for(;r=e.lastChild;)e.removeChild(r);if(typeof o=="function"){var u=o;o=function(){var d=vi(c);u.call(d)}}var c=Ca(e,0,!1,null,null,!1,!1,"",sc);return e._reactRootContainer=c,e[zt]=c.current,Zo(e.nodeType===8?e.parentNode:e),An(function(){Gi(t,c,n,o)}),c}function bi(e,t,n,o,r){var i=n._reactRootContainer;if(i){var l=i;if(typeof r=="function"){var u=r;r=function(){var c=vi(l);u.call(c)}}Gi(t,l,e,r)}else l=wy(n,t,e,r,o);return vi(l)}Nf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Po(t.pendingLanes);n!==0&&(bl(t,n|1),ot(t,Pe()),!(ie&6)&&(ao=Pe()+500,hn()))}break;case 13:An(function(){var o=qt(e,1);if(o!==null){var r=Xe();wt(o,e,1,r)}}),Ea(e,1)}};Bl=function(e){if(e.tag===13){var t=qt(e,134217728);if(t!==null){var n=Xe();wt(t,e,134217728,n)}Ea(e,134217728)}};Pf=function(e){if(e.tag===13){var t=an(e),n=qt(e,t);if(n!==null){var o=Xe();wt(n,e,t,o)}Ea(e,t)}};Rf=function(){return ae};Mf=function(e,t){var n=ae;try{return ae=e,t()}finally{ae=n}};Fs=function(e,t,n){switch(t){case"input":if(ks(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var r=Mi(o);if(!r)throw Error(L(90));uf(o),ks(o,r)}}}break;case"textarea":df(e,n);break;case"select":t=n.value,t!=null&&On(e,!!n.multiple,t,!1)}};vf=ga;xf=An;var Iy={usingClientEntryPoint:!1,Events:[cr,Gn,Mi,gf,yf,ga]},Io={findFiberByHostInstance:vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ay={bundleType:Io.bundleType,version:Io.version,rendererPackageName:Io.rendererPackageName,rendererConfig:Io.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$t.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Sf(e),e===null?null:e.stateNode},findFiberByHostInstance:Io.findFiberByHostInstance||_y,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mr.isDisabled&&Mr.supportsFiber)try{ki=Mr.inject(Ay),Rt=Mr}catch{}}ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Iy;ut.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ta(t))throw Error(L(200));return Ty(e,t,null,n)};ut.createRoot=function(e,t){if(!Ta(e))throw Error(L(299));var n=!1,o="",r=eh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Ca(e,1,!1,null,null,n,!1,o,r),e[zt]=t.current,Zo(e.nodeType===8?e.parentNode:e),new Sa(t)};ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=Sf(t),e=e===null?null:e.stateNode,e};ut.flushSync=function(e){return An(e)};ut.hydrate=function(e,t,n){if(!qi(t))throw Error(L(200));return bi(null,e,t,!0,n)};ut.hydrateRoot=function(e,t,n){if(!Ta(e))throw Error(L(405));var o=n!=null&&n.hydratedSources||null,r=!1,i="",l=eh;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=jp(t,null,e,1,n??null,r,!1,i,l),e[zt]=t.current,Zo(e),o)for(e=0;e<o.length;e++)n=o[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new zi(t)};ut.render=function(e,t,n){if(!qi(t))throw Error(L(200));return bi(null,e,t,!1,n)};ut.unmountComponentAtNode=function(e){if(!qi(e))throw Error(L(40));return e._reactRootContainer?(An(function(){bi(null,null,e,!1,function(){e._reactRootContainer=null,e[zt]=null})}),!0):!1};ut.unstable_batchedUpdates=ga;ut.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!qi(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return bi(e,t,n,!1,o)};ut.version="18.3.1-next-f1338f8080-20240426";function th(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(th)}catch(e){console.error(e)}}th(),ef.exports=ut;var ky=ef.exports,lc=ky;Es.createRoot=lc.createRoot,Es.hydrateRoot=lc.hydrateRoot;var q=(e=>(e.TEXT="TEXT",e.IMAGE="IMAGE",e.SHAPE_RECT="SHAPE_RECT",e.SHAPE_CIRCLE="SHAPE_CIRCLE",e.SHAPE_TRIANGLE="SHAPE_TRIANGLE",e.SHAPE_STAR="SHAPE_STAR",e.SHAPE_HEART="SHAPE_HEART",e.SHAPE_DIAMOND="SHAPE_DIAMOND",e))(q||{});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ny={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),X=(e,t)=>{const n=F.forwardRef(({color:o="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:u="",children:c,...d},f)=>F.createElement("svg",{ref:f,...Ny,width:r,height:r,stroke:o,strokeWidth:l?Number(i)*24/Number(r):i,className:["lucide",`lucide-${Py(e)}`,u].join(" "),...d},[...t.map(([h,p])=>F.createElement(h,p)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=X("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=X("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=X("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=X("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=X("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=X("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=X("Brush",[["path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08",key:"1styjt"}],["path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z",key:"z0l1mu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=X("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=X("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=X("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=X("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=X("CornerUpLeft",[["polyline",{points:"9 14 4 9 9 4",key:"881910"}],["path",{d:"M20 20v-7a4 4 0 0 0-4-4H4",key:"1nkjon"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=X("Crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=X("Diamond",[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=X("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=X("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=X("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=X("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=X("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=X("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=X("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=X("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=X("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=X("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=X("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=X("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=X("MousePointer2",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=X("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=X("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=X("Pipette",[["path",{d:"m2 22 1-1h3l9-9",key:"1sre89"}],["path",{d:"M3 21v-3l9-9",key:"hpe2y6"}],["path",{d:"m15 6 3.4-3.4a2.1 2.1 0 1 1 3 3L18 9l.4.4a2.1 2.1 0 1 1-3 3l-3.8-3.8a2.1 2.1 0 1 1 3-3l.4.4Z",key:"196du1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=X("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=X("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=X("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=X("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=X("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=X("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=X("Shapes",[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=X("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=X("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=X("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=X("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=X("Triangle",[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=X("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=X("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=X("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=X("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=X("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Zy=({element:e,isSelected:t,canvasScale:n,canvasRotation:o,onSelect:r,onUpdate:i,onInteractionEnd:l,onDelete:u})=>{const[c,d]=F.useState(!1),f=F.useRef(null),h=(g,C)=>{const _=g/n,I=C/n,w=-o*(Math.PI/180),R=Math.cos(w),P=Math.sin(w);return{x:_*R-I*P,y:_*P+I*R}},p=g=>{if(e.locked||"touches"in g&&g.touches.length>1)return;g.stopPropagation(),r(e.id),d(!0);const C="touches"in g?g.touches[0].clientX:g.clientX,_="touches"in g?g.touches[0].clientY:g.clientY,I=C,w=_,R=e.x,P=e.y;let M=!1;const O=j=>{if("touches"in j&&j.touches.length>1){Q();return}const ke="touches"in j?j.touches[0].clientX:j.clientX,H="touches"in j?j.touches[0].clientY:j.clientY,J=ke-I,B=H-w;(Math.abs(J)>2||Math.abs(B)>2)&&(M=!0);const{x:k,y:G}=h(J,B);i(e.id,{x:R+k,y:P+G})},Q=()=>{d(!1),M&&l(),document.removeEventListener("mousemove",O),document.removeEventListener("mouseup",Q),document.removeEventListener("touchmove",O),document.removeEventListener("touchend",Q)};document.addEventListener("mousemove",O),document.addEventListener("mouseup",Q),document.addEventListener("touchmove",O,{passive:!1}),document.addEventListener("touchend",Q)},v=(g,C)=>{if(g.stopPropagation(),e.locked||"touches"in g&&g.touches.length>1)return;const _="touches"in g?g.touches[0].clientX:g.clientX,I="touches"in g?g.touches[0].clientY:g.clientY,w=_,R=I,P=e.width,M=e.height,O=e.x,Q=e.y,j=e.style.fontSize??48;let ke=!1;const H=B=>{if("touches"in B&&B.touches.length>1){J();return}ke=!0;const k="touches"in B?B.touches[0].clientX:B.clientX,G="touches"in B?B.touches[0].clientY:B.clientY,U=k-w,K=G-R,{x:Z,y:fe}=h(U,K),ue=-e.rotation*(Math.PI/180),ce=Math.cos(ue),$=Math.sin(ue),oe=Z*ce-fe*$;let Ce=0;C==="nw"||C==="sw"?Ce=-oe:Ce=oe;const Ne=Math.max(20,P+Ce),be=Ne/P,He=M*be,Fe=Ne-P,pe=He-M,Be=e.rotation*(Math.PI/180),dt=Math.cos(Be),rt=Math.sin(Be);let xt=0,de=0;C==="nw"?(xt=-(Fe*dt-pe*rt),de=-(Fe*rt+pe*dt)):C==="ne"?(xt=-(-pe*rt),de=-(pe*dt)):C==="sw"&&(xt=-(Fe*dt),de=-(Fe*rt));const Rn={width:Ne,height:He,x:O+xt,y:Q+de};e.type===q.TEXT&&(Rn.style={...e.style,fontSize:Math.max(12,j*be)}),i(e.id,Rn)},J=()=>{ke&&l(),document.removeEventListener("mousemove",H),document.removeEventListener("mouseup",J),document.removeEventListener("touchmove",H),document.removeEventListener("touchend",J)};document.addEventListener("mousemove",H),document.addEventListener("mouseup",J),document.addEventListener("touchmove",H,{passive:!1}),document.addEventListener("touchend",J)},E=(g,C)=>{if(g.stopPropagation(),e.locked||"touches"in g&&g.touches.length>1)return;const _="touches"in g?g.touches[0].clientX:g.clientX,I="touches"in g?g.touches[0].clientY:g.clientY,w=_,R=I,P=e.width,M=e.x,O=e.y;let Q=!1;const j=H=>{if("touches"in H&&H.touches.length>1)return;Q=!0;const J="touches"in H?H.touches[0].clientX:H.clientX,B="touches"in H?H.touches[0].clientY:H.clientY,k=J-w,G=B-R,{x:U,y:K}=h(k,G),Z=-e.rotation*(Math.PI/180),fe=Math.cos(Z),ue=Math.sin(Z),ce=U*fe-K*ue;if(C==="right"){const $=Math.max(50,P+ce);i(e.id,{width:$})}else{const $=Math.max(50,P-ce),oe=ce*Math.cos(e.rotation*Math.PI/180),Ce=ce*Math.sin(e.rotation*Math.PI/180);i(e.id,{width:$,x:M+oe,y:O+Ce})}},ke=()=>{Q&&l(),document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",ke),document.removeEventListener("touchmove",j),document.removeEventListener("touchend",ke)};document.addEventListener("mousemove",j),document.addEventListener("mouseup",ke),document.addEventListener("touchmove",j,{passive:!1}),document.addEventListener("touchend",ke)},S=g=>{var M;if(g.stopPropagation(),e.locked||"touches"in g&&g.touches.length>1)return;const C=(M=f.current)==null?void 0:M.getBoundingClientRect();if(!C)return;const _=C.left+C.width/2,I=C.top+C.height/2;let w=!1;const R=O=>{if("touches"in O&&O.touches.length>1){P();return}w=!0;const Q="touches"in O?O.touches[0].clientX:O.clientX,j="touches"in O?O.touches[0].clientY:O.clientY,J=Math.atan2(j-I,Q-_)*(180/Math.PI)-o;i(e.id,{rotation:J+90})},P=()=>{w&&l(),document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",P),document.removeEventListener("touchmove",R),document.removeEventListener("touchend",P)};document.addEventListener("mousemove",R),document.addEventListener("mouseup",P),document.addEventListener("touchmove",R,{passive:!1}),document.addEventListener("touchend",P)},A={position:"absolute",left:e.x,top:e.y,width:e.width,height:e.type===q.TEXT?"auto":e.height,transform:`rotate(${e.rotation}deg)`,cursor:e.locked?"default":c?"grabbing":"grab",boxShadow:t&&!e.locked?"0 0 0 2px #ffffff, 0 0 0 4px #0ea5e9":"none",boxSizing:"border-box",display:e.visible===!1?"none":"block",...e.style,userSelect:"none",touchAction:"none",pointerEvents:e.locked?"none":"auto"},x=e.type===q.SHAPE_RECT||e.type===q.SHAPE_CIRCLE,y=(g,C,_="0 0 100 100")=>m.jsx("svg",{viewBox:_,preserveAspectRatio:"none",style:{width:"100%",height:"100%",overflow:"visible"},children:C?m.jsx("path",{d:C,fill:e.style.backgroundColor,stroke:e.style.borderColor,strokeWidth:e.style.borderWidth?e.style.borderWidth/2:0}):m.jsx("polygon",{points:g||"",fill:e.style.backgroundColor,stroke:e.style.borderColor,strokeWidth:e.style.borderWidth?e.style.borderWidth/2:0})});return m.jsxs("div",{ref:f,style:{...A,backgroundColor:x?e.style.backgroundColor:"transparent",borderStyle:x&&e.style.borderWidth?"solid":"none",borderWidth:x?e.style.borderWidth:0,borderColor:x?e.style.borderColor:"transparent",borderRadius:e.type===q.SHAPE_CIRCLE?"50%":e.style.borderRadius},onMouseDown:p,onTouchStart:p,className:`group transition-shadow ${e.locked?"":"hover:ring-1 hover:ring-blue-300"}`,children:[(()=>{switch(e.type){case q.TEXT:const g=e.style.textAlign||"center",C=g==="left"?"flex-start":g==="right"?"flex-end":"center";return m.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:C,textAlign:g,overflow:"visible",whiteSpace:"pre-wrap",wordBreak:"break-word",padding:"4px",color:e.style.color,fontSize:`${e.style.fontSize}px`,fontWeight:e.style.fontWeight,fontFamily:e.style.fontFamily,lineHeight:1.2,minHeight:"1em",WebkitTextStrokeWidth:`${e.style.textStrokeWidth||0}px`,WebkitTextStrokeColor:e.style.textStrokeColor||"transparent"},children:e.content});case q.IMAGE:const _=e.maskImage&&e.maskEnabled;return m.jsx("div",{style:{width:"100%",height:"100%",borderRadius:`${e.style.borderRadius}px`,border:`${e.style.borderWidth||0}px solid ${e.style.borderColor||"transparent"}`,overflow:"hidden",WebkitMaskImage:_?`url(${e.maskImage})`:"none",maskImage:_?`url(${e.maskImage})`:"none",WebkitMaskSize:"100% 100%",maskSize:"100% 100%",WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat"},children:m.jsx("img",{src:e.content,alt:"",className:"w-full h-full pointer-events-none",style:{objectFit:e.style.objectFit||"cover"}})});case q.SHAPE_RECT:return null;case q.SHAPE_CIRCLE:return null;case q.SHAPE_TRIANGLE:return y("50,0 0,100 100,100",null);case q.SHAPE_DIAMOND:return y("50,0 100,50 50,100 0,50",null);case q.SHAPE_STAR:return y("50,0 61,35 98,35 68,57 79,91 50,70 21,91 32,57 2,35 39,35",null);case q.SHAPE_HEART:return y(null,"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z","0 0 24 24");default:return null}})(),t&&!e.locked&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"absolute -top-4 -left-4 w-8 h-8 bg-white border-2 border-brand-500 rounded-full cursor-nw-resize flex items-center justify-center shadow-md z-50 touch-none",onMouseDown:g=>v(g,"nw"),onTouchStart:g=>v(g,"nw")}),m.jsx("div",{className:"absolute -top-4 -right-4 w-8 h-8 bg-white border-2 border-brand-500 rounded-full cursor-ne-resize flex items-center justify-center shadow-md z-50 touch-none",onMouseDown:g=>v(g,"ne"),onTouchStart:g=>v(g,"ne")}),m.jsx("div",{className:"absolute -bottom-4 -left-4 w-8 h-8 bg-white border-2 border-brand-500 rounded-full cursor-sw-resize flex items-center justify-center shadow-md z-50 touch-none",onMouseDown:g=>v(g,"sw"),onTouchStart:g=>v(g,"sw")}),m.jsx("div",{className:"absolute -bottom-4 -right-4 w-8 h-8 bg-white border-2 border-brand-500 rounded-full cursor-se-resize flex items-center justify-center shadow-md z-50 touch-none",onMouseDown:g=>v(g,"se"),onTouchStart:g=>v(g,"se")}),e.type===q.TEXT&&m.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -right-4 w-4 h-10 bg-white border-2 border-brand-500 rounded-lg cursor-ew-resize flex items-center justify-center shadow-md z-50 touch-none",onMouseDown:g=>E(g,"right"),onTouchStart:g=>E(g,"right"),children:m.jsx("div",{className:"w-0.5 h-4 bg-brand-300"})}),e.type===q.TEXT&&m.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -left-4 w-4 h-10 bg-white border-2 border-brand-500 rounded-lg cursor-ew-resize flex items-center justify-center shadow-md z-50 touch-none",onMouseDown:g=>E(g,"left"),onTouchStart:g=>E(g,"left"),children:m.jsx("div",{className:"w-0.5 h-4 bg-brand-300"})}),m.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 w-10 h-10 bg-white border border-brand-500 rounded-full cursor-crosshair flex items-center justify-center shadow-sm z-50 hover:bg-brand-50 touch-none",onMouseDown:S,onTouchStart:S,children:m.jsx(Jy,{size:20,className:"text-brand-600"})})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let jy,e0;function t0(){return{geminiUrl:jy,vertexUrl:e0}}function n0(e,t,n,o){var r,i;if(!(e!=null&&e.baseUrl)){const l=t0();return t?(r=l.vertexUrl)!==null&&r!==void 0?r:n:(i=l.geminiUrl)!==null&&i!==void 0?i:o}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jt{}function V(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(o,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const i=t[r];return i!=null?String(i):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function a(e,t,n){for(let i=0;i<t.length-1;i++){const l=t[i];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[u])){const c=e[u];if(Array.isArray(n))for(let d=0;d<c.length;d++){const f=c[d];a(f,t.slice(i+1),n[d])}else for(const d of c)a(d,t.slice(i+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in e||(e[u]=[{}]);const c=e[u];a(c[0],t.slice(i+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const o=t[t.length-1],r=e[o];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[o]=n}function s(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let o=0;o<t.length;o++){if(typeof e!="object"||e===null)return n;const r=t[o];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in e){const l=e[i];return Array.isArray(l)?l.map(u=>s(u,t.slice(o+1),n)):n}else return n}else e=e[r]}return e}catch(o){if(o instanceof TypeError)return n;throw o}}function o0(e,t){for(const[n,o]of Object.entries(t)){const r=n.split("."),i=o.split("."),l=new Set;let u=-1;for(let c=0;c<r.length;c++)if(r[c]==="*"){u=c;break}if(u!==-1&&i.length>u)for(let c=u;c<i.length;c++){const d=i[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}El(e,r,i,0,l)}}function El(e,t,n,o,r){if(o>=t.length||typeof e!="object"||e===null)return;const i=t[o];if(i.endsWith("[]")){const l=i.slice(0,-2),u=e;if(l in u&&Array.isArray(u[l]))for(const c of u[l])El(c,t,n,o+1,r)}else if(i==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,u=Object.keys(l).filter(d=>!d.startsWith("_")&&!r.has(d)),c={};for(const d of u)c[d]=l[d];for(const[d,f]of Object.entries(c)){const h=[];for(const p of n.slice(o))p==="*"?h.push(d):h.push(p);a(l,h,f)}for(const d of u)delete l[d]}}else{const l=e;i in l&&El(l[i],t,n,o+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wa(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function r0(e){const t={},n=s(e,["operationName"]);n!=null&&a(t,["operationName"],n);const o=s(e,["resourceName"]);return o!=null&&a(t,["_url","resourceName"],o),t}function i0(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response","generateVideoResponse"]);return l!=null&&a(t,["response"],l0(l)),t}function s0(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response"]);return l!=null&&a(t,["response"],a0(l)),t}function l0(e){const t={},n=s(e,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>u0(l))),a(t,["generatedVideos"],i)}const o=s(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&a(t,["raiMediaFilteredReasons"],r),t}function a0(e){const t={},n=s(e,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>c0(l))),a(t,["generatedVideos"],i)}const o=s(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&a(t,["raiMediaFilteredReasons"],r),t}function u0(e){const t={},n=s(e,["video"]);return n!=null&&a(t,["video"],g0(n)),t}function c0(e){const t={},n=s(e,["_self"]);return n!=null&&a(t,["video"],y0(n)),t}function d0(e){const t={},n=s(e,["operationName"]);return n!=null&&a(t,["_url","operationName"],n),t}function f0(e){const t={},n=s(e,["operationName"]);return n!=null&&a(t,["_url","operationName"],n),t}function p0(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response"]);return l!=null&&a(t,["response"],h0(l)),t}function h0(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["parent"]);o!=null&&a(t,["parent"],o);const r=s(e,["documentName"]);return r!=null&&a(t,["documentName"],r),t}function ch(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response"]);return l!=null&&a(t,["response"],m0(l)),t}function m0(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["parent"]);o!=null&&a(t,["parent"],o);const r=s(e,["documentName"]);return r!=null&&a(t,["documentName"],r),t}function g0(e){const t={},n=s(e,["uri"]);n!=null&&a(t,["uri"],n);const o=s(e,["encodedVideo"]);o!=null&&a(t,["videoBytes"],wa(o));const r=s(e,["encoding"]);return r!=null&&a(t,["mimeType"],r),t}function y0(e){const t={},n=s(e,["gcsUri"]);n!=null&&a(t,["uri"],n);const o=s(e,["bytesBase64Encoded"]);o!=null&&a(t,["videoBytes"],wa(o));const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var mc;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(mc||(mc={}));var gc;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(gc||(gc={}));var yc;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(yc||(yc={}));var en;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(en||(en={}));var vc;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(vc||(vc={}));var xc;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(xc||(xc={}));var Cc;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(Cc||(Cc={}));var Ec;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Ec||(Ec={}));var Sc;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Sc||(Sc={}));var Tc;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"})(Tc||(Tc={}));var _c;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(_c||(_c={}));var wc;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(wc||(wc={}));var Ic;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(Ic||(Ic={}));var Ac;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(Ac||(Ac={}));var kc;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(kc||(kc={}));var Nc;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Nc||(Nc={}));var Pc;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Pc||(Pc={}));var Rc;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(Rc||(Rc={}));var Mc;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Mc||(Mc={}));var xi;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(xi||(xi={}));var Dc;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Dc||(Dc={}));var Lc;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Lc||(Lc={}));var Fc;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Fc||(Fc={}));var Sl;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Sl||(Sl={}));var Uc;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Uc||(Uc={}));var Vc;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Vc||(Vc={}));var Hc;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(Hc||(Hc={}));var Gc;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(Gc||(Gc={}));var zc;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(zc||(zc={}));var qc;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(qc||(qc={}));var bc;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(bc||(bc={}));var Bc;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Bc||(Bc={}));var $c;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})($c||($c={}));var Jc;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(Jc||(Jc={}));var Wc;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Wc||(Wc={}));var Oc;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Oc||(Oc={}));var Yc;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Yc||(Yc={}));var Kc;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Kc||(Kc={}));var Xc;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(Xc||(Xc={}));var Qc;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(Qc||(Qc={}));var Zc;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(Zc||(Zc={}));var jc;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(jc||(jc={}));var ed;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(ed||(ed={}));var td;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(td||(td={}));var nd;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(nd||(nd={}));var od;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(od||(od={}));var rd;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(rd||(rd={}));var id;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(id||(id={}));var sd;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(sd||(sd={}));var ld;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ld||(ld={}));var ad;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(ad||(ad={}));var ud;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ud||(ud={}));var cd;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(cd||(cd={}));var dd;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(dd||(dd={}));var Wn;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Wn||(Wn={}));class Tl{constructor(t){const n={};for(const o of t.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Ao{get text(){var t,n,o,r,i,l,u,c;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1;const h=[];for(const p of(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[v,E]of Object.entries(p))v!=="text"&&v!=="thought"&&v!=="thoughtSignature"&&(E!==null||E!==void 0)&&h.push(v);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;f=!0,d+=p.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var t,n,o,r,i,l,u,c;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const f=[];for(const h of(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[p,v]of Object.entries(h))p!=="inlineData"&&(v!==null||v!==void 0)&&f.push(p);h.inlineData&&typeof h.inlineData.data=="string"&&(d+=atob(h.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var t,n,o,r,i,l,u,c;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var t,n,o,r,i,l,u,c,d;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var t,n,o,r,i,l,u,c,d;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.output}}class fd{}class pd{}class v0{}class x0{}class C0{}class E0{}class hd{}class md{}class gd{}class S0{}class Ci{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new Ci;let r;const i=t;return n?r=s0(i):r=i0(i),Object.assign(o,r),o}}class yd{}class vd{}class xd{}class Cd{}class T0{}class _0{}class w0{}class Ia{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new Ia,i=p0(t);return Object.assign(o,i),o}}class I0{}class A0{}class k0{}class Ed{}class N0{get text(){var t,n,o;let r="",i=!1;const l=[];for(const u of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&l.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;i=!0,r+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?r:void 0}get data(){var t,n,o;let r="";const i=[];for(const l of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[u,c]of Object.entries(l))u!=="inlineData"&&c!==null&&i.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(r+=atob(l.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class P0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Aa{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new Aa,i=ch(t);return Object.assign(o,i),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function se(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function dh(e,t){const n=se(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function fh(e){return Array.isArray(e)?e.map(t=>Ei(t)):[Ei(e)]}function Ei(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function ph(e){const t=Ei(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function hh(e){const t=Ei(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Sd(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function mh(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>Sd(t)):[Sd(e)]}function _l(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function Td(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function _d(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Oe(e){if(e==null)throw new Error("ContentUnion is required");return _l(e)?e:{role:"user",parts:mh(e)}}function ka(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const o=Oe(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(e.isVertexAI()){const n=Oe(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Oe(n)):[Oe(t)]}function gt(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(Td(e)||_d(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Oe(e)]}const t=[],n=[],o=_l(e[0]);for(const r of e){const i=_l(r);if(i!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)t.push(r);else{if(Td(r)||_d(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||t.push({role:"user",parts:mh(n)}),t}function R0(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(o=>o!=="null");if(n.length===1)t.type=Object.values(en).includes(n[0].toUpperCase())?n[0].toUpperCase():en.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const o of n)t.anyOf.push({type:Object.values(en).includes(o.toUpperCase())?o.toUpperCase():en.TYPE_UNSPECIFIED})}}function jn(e){const t={},n=["items"],o=["anyOf"],r=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=e.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(t.nullable=!0,e=i[1]):i[1].type==="null"&&(t.nullable=!0,e=i[0])),e.type instanceof Array&&R0(e.type,t);for(const[l,u]of Object.entries(e))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(en).includes(u.toUpperCase())?u.toUpperCase():en.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=jn(u);else if(o.includes(l)){const c=[];for(const d of u){if(d.type=="null"){t.nullable=!0;continue}c.push(jn(d))}t[l]=c}else if(r.includes(l)){const c={};for(const[d,f]of Object.entries(u))c[d]=jn(f);t[l]=c}else{if(l==="additionalProperties")continue;t[l]=u}return t}function Na(e){return jn(e)}function Pa(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Ra(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function po(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=jn(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=jn(t.response));return e}function ho(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function M0(e,t,n,o=1){const r=!t.startsWith(`${n}/`)&&t.split("/").length===o;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:r?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:r?`${n}/${t}`:t}function Wt(e,t){if(typeof t!="string")throw new Error("name must be a string");return M0(e,t,"cachedContents")}function gh(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function mn(e){return wa(e)}function D0(e){return e!=null&&typeof e=="object"&&"name"in e}function L0(e){return e!=null&&typeof e=="object"&&"video"in e}function F0(e){return e!=null&&typeof e=="object"&&"uri"in e}function yh(e){var t;let n;if(D0(e)&&(n=e.name),!(F0(e)&&(n=e.uri,n===void 0))&&!(L0(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function vh(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function xh(e){for(const t of["models","tunedModels","publisherModels"])if(U0(e,t))return e[t];return[]}function U0(e,t){return e!==null&&typeof e=="object"&&t in e}function V0(e,t={}){const n=e,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),t.behavior&&(o.behavior=t.behavior),{functionDeclarations:[o]}}function H0(e,t={}){const n=[],o=new Set;for(const r of e){const i=r.name;if(o.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);o.add(i);const l=V0(r,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function Ch(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function G0(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Eh(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return e;let i=!1;for(const l of r){if(typeof l!="object"||l===null)continue;const c=l.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){i=!0;break}}return i&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function mo(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Sh(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z0(e){const t={},n=s(e,["responsesFile"]);n!=null&&a(t,["fileName"],n);const o=s(e,["inlinedResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>Cv(l))),a(t,["inlinedResponses"],i)}const r=s(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["inlinedEmbedContentResponses"],i)}return t}function q0(e){const t={},n=s(e,["predictionsFormat"]);n!=null&&a(t,["format"],n);const o=s(e,["gcsDestination","outputUriPrefix"]);o!=null&&a(t,["gcsUri"],o);const r=s(e,["bigqueryDestination","outputUri"]);return r!=null&&a(t,["bigqueryUri"],r),t}function b0(e){const t={},n=s(e,["format"]);n!=null&&a(t,["predictionsFormat"],n);const o=s(e,["gcsUri"]);o!=null&&a(t,["gcsDestination","outputUriPrefix"],o);const r=s(e,["bigqueryUri"]);if(r!=null&&a(t,["bigqueryDestination","outputUri"],r),s(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Or(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata","displayName"]);o!=null&&a(t,["displayName"],o);const r=s(e,["metadata","state"]);r!=null&&a(t,["state"],Sh(r));const i=s(e,["metadata","createTime"]);i!=null&&a(t,["createTime"],i);const l=s(e,["metadata","endTime"]);l!=null&&a(t,["endTime"],l);const u=s(e,["metadata","updateTime"]);u!=null&&a(t,["updateTime"],u);const c=s(e,["metadata","model"]);c!=null&&a(t,["model"],c);const d=s(e,["metadata","output"]);return d!=null&&a(t,["dest"],z0(Eh(d))),t}function wl(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["displayName"]);o!=null&&a(t,["displayName"],o);const r=s(e,["state"]);r!=null&&a(t,["state"],Sh(r));const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["createTime"]);l!=null&&a(t,["createTime"],l);const u=s(e,["startTime"]);u!=null&&a(t,["startTime"],u);const c=s(e,["endTime"]);c!=null&&a(t,["endTime"],c);const d=s(e,["updateTime"]);d!=null&&a(t,["updateTime"],d);const f=s(e,["model"]);f!=null&&a(t,["model"],f);const h=s(e,["inputConfig"]);h!=null&&a(t,["src"],B0(h));const p=s(e,["outputConfig"]);p!=null&&a(t,["dest"],q0(Eh(p)));const v=s(e,["completionStats"]);return v!=null&&a(t,["completionStats"],v),t}function B0(e){const t={},n=s(e,["instancesFormat"]);n!=null&&a(t,["format"],n);const o=s(e,["gcsSource","uris"]);o!=null&&a(t,["gcsUri"],o);const r=s(e,["bigquerySource","inputUri"]);return r!=null&&a(t,["bigqueryUri"],r),t}function $0(e,t){const n={};if(s(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=s(t,["fileName"]);o!=null&&a(n,["fileName"],o);const r=s(t,["inlinedRequests"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>xv(e,l))),a(n,["requests","requests"],i)}return n}function J0(e){const t={},n=s(e,["format"]);n!=null&&a(t,["instancesFormat"],n);const o=s(e,["gcsUri"]);o!=null&&a(t,["gcsSource","uris"],o);const r=s(e,["bigqueryUri"]);if(r!=null&&a(t,["bigquerySource","inputUri"],r),s(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function W0(e){const t={},n=s(e,["data"]);if(n!=null&&a(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function O0(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],mo(e,o)),n}function Y0(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],mo(e,o)),n}function K0(e){const t={},n=s(e,["content"]);n!=null&&a(t,["content"],n);const o=s(e,["citationMetadata"]);o!=null&&a(t,["citationMetadata"],X0(o));const r=s(e,["tokenCount"]);r!=null&&a(t,["tokenCount"],r);const i=s(e,["finishReason"]);i!=null&&a(t,["finishReason"],i);const l=s(e,["avgLogprobs"]);l!=null&&a(t,["avgLogprobs"],l);const u=s(e,["groundingMetadata"]);u!=null&&a(t,["groundingMetadata"],u);const c=s(e,["index"]);c!=null&&a(t,["index"],c);const d=s(e,["logprobsResult"]);d!=null&&a(t,["logprobsResult"],d);const f=s(e,["safetyRatings"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(v=>v)),a(t,["safetyRatings"],p)}const h=s(e,["urlContextMetadata"]);return h!=null&&a(t,["urlContextMetadata"],h),t}function X0(e){const t={},n=s(e,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(t,["citations"],o)}return t}function Th(e){const t={},n=s(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Av(i))),a(t,["parts"],r)}const o=s(e,["role"]);return o!=null&&a(t,["role"],o),t}function Q0(e,t){const n={},o=s(e,["displayName"]);if(t!==void 0&&o!=null&&a(t,["batch","displayName"],o),s(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Z0(e,t){const n={},o=s(e,["displayName"]);t!==void 0&&o!=null&&a(t,["displayName"],o);const r=s(e,["dest"]);return t!==void 0&&r!=null&&a(t,["outputConfig"],b0(G0(r))),n}function wd(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],se(e,o));const r=s(t,["src"]);r!=null&&a(n,["batch","inputConfig"],$0(e,Ch(e,r)));const i=s(t,["config"]);return i!=null&&Q0(i,n),n}function j0(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["model"],se(e,o));const r=s(t,["src"]);r!=null&&a(n,["inputConfig"],J0(Ch(e,r)));const i=s(t,["config"]);return i!=null&&Z0(i,n),n}function ev(e,t){const n={},o=s(e,["displayName"]);return t!==void 0&&o!=null&&a(t,["batch","displayName"],o),n}function tv(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],se(e,o));const r=s(t,["src"]);r!=null&&a(n,["batch","inputConfig"],av(e,r));const i=s(t,["config"]);return i!=null&&ev(i,n),n}function nv(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],mo(e,o)),n}function ov(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],mo(e,o)),n}function rv(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["name"]);o!=null&&a(t,["name"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);return i!=null&&a(t,["error"],i),t}function iv(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["name"]);o!=null&&a(t,["name"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);return i!=null&&a(t,["error"],i),t}function sv(e,t){const n={},o=s(t,["contents"]);if(o!=null){let i=ka(e,o);Array.isArray(i)&&(i=i.map(l=>l)),a(n,["requests[]","request","content"],i)}const r=s(t,["config"]);return r!=null&&(a(n,["_self"],lv(r,n)),o0(n,{"requests[].*":"requests[].request.*"})),n}function lv(e,t){const n={},o=s(e,["taskType"]);t!==void 0&&o!=null&&a(t,["requests[]","taskType"],o);const r=s(e,["title"]);t!==void 0&&r!=null&&a(t,["requests[]","title"],r);const i=s(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&a(t,["requests[]","outputDimensionality"],i),s(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function av(e,t){const n={},o=s(t,["fileName"]);o!=null&&a(n,["file_name"],o);const r=s(t,["inlinedRequests"]);return r!=null&&a(n,["requests"],sv(e,r)),n}function uv(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function cv(e){const t={},n=s(e,["id"]);n!=null&&a(t,["id"],n);const o=s(e,["args"]);o!=null&&a(t,["args"],o);const r=s(e,["name"]);if(r!=null&&a(t,["name"],r),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function dv(e){const t={},n=s(e,["mode"]);n!=null&&a(t,["mode"],n);const o=s(e,["allowedFunctionNames"]);if(o!=null&&a(t,["allowedFunctionNames"],o),s(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function fv(e,t,n){const o={},r=s(t,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],Th(Oe(r)));const i=s(t,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(t,["topP"]);l!=null&&a(o,["topP"],l);const u=s(t,["topK"]);u!=null&&a(o,["topK"],u);const c=s(t,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(t,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(t,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const h=s(t,["responseLogprobs"]);h!=null&&a(o,["responseLogprobs"],h);const p=s(t,["logprobs"]);p!=null&&a(o,["logprobs"],p);const v=s(t,["presencePenalty"]);v!=null&&a(o,["presencePenalty"],v);const E=s(t,["frequencyPenalty"]);E!=null&&a(o,["frequencyPenalty"],E);const S=s(t,["seed"]);S!=null&&a(o,["seed"],S);const A=s(t,["responseMimeType"]);A!=null&&a(o,["responseMimeType"],A);const x=s(t,["responseSchema"]);x!=null&&a(o,["responseSchema"],Na(x));const y=s(t,["responseJsonSchema"]);if(y!=null&&a(o,["responseJsonSchema"],y),s(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const g=s(t,["safetySettings"]);if(n!==void 0&&g!=null){let Q=g;Array.isArray(Q)&&(Q=Q.map(j=>kv(j))),a(n,["safetySettings"],Q)}const C=s(t,["tools"]);if(n!==void 0&&C!=null){let Q=ho(C);Array.isArray(Q)&&(Q=Q.map(j=>Pv(po(j)))),a(n,["tools"],Q)}const _=s(t,["toolConfig"]);if(n!==void 0&&_!=null&&a(n,["toolConfig"],Nv(_)),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=s(t,["cachedContent"]);n!==void 0&&I!=null&&a(n,["cachedContent"],Wt(e,I));const w=s(t,["responseModalities"]);w!=null&&a(o,["responseModalities"],w);const R=s(t,["mediaResolution"]);R!=null&&a(o,["mediaResolution"],R);const P=s(t,["speechConfig"]);if(P!=null&&a(o,["speechConfig"],Pa(P)),s(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=s(t,["thinkingConfig"]);M!=null&&a(o,["thinkingConfig"],M);const O=s(t,["imageConfig"]);return O!=null&&a(o,["imageConfig"],vv(O)),o}function pv(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>K0(d))),a(t,["candidates"],c)}const r=s(e,["modelVersion"]);r!=null&&a(t,["modelVersion"],r);const i=s(e,["promptFeedback"]);i!=null&&a(t,["promptFeedback"],i);const l=s(e,["responseId"]);l!=null&&a(t,["responseId"],l);const u=s(e,["usageMetadata"]);return u!=null&&a(t,["usageMetadata"],u),t}function hv(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],mo(e,o)),n}function mv(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],mo(e,o)),n}function gv(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function yv(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function vv(e){const t={},n=s(e,["aspectRatio"]);n!=null&&a(t,["aspectRatio"],n);const o=s(e,["imageSize"]);if(o!=null&&a(t,["imageSize"],o),s(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function xv(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["request","model"],se(e,o));const r=s(t,["contents"]);if(r!=null){let u=gt(r);Array.isArray(u)&&(u=u.map(c=>Th(c))),a(n,["request","contents"],u)}const i=s(t,["metadata"]);i!=null&&a(n,["metadata"],i);const l=s(t,["config"]);return l!=null&&a(n,["request","generationConfig"],fv(e,l,s(n,["request"],{}))),n}function Cv(e){const t={},n=s(e,["response"]);n!=null&&a(t,["response"],pv(n));const o=s(e,["error"]);return o!=null&&a(t,["error"],o),t}function Ev(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);if(t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),s(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Sv(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);t!==void 0&&r!=null&&a(t,["_query","pageToken"],r);const i=s(e,["filter"]);return t!==void 0&&i!=null&&a(t,["_query","filter"],i),n}function Tv(e){const t={},n=s(e,["config"]);return n!=null&&Ev(n,t),t}function _v(e){const t={},n=s(e,["config"]);return n!=null&&Sv(n,t),t}function wv(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>Or(l))),a(t,["batchJobs"],i)}return t}function Iv(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>wl(l))),a(t,["batchJobs"],i)}return t}function Av(e){const t={},n=s(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=s(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=s(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=s(e,["fileData"]);i!=null&&a(t,["fileData"],uv(i));const l=s(e,["functionCall"]);l!=null&&a(t,["functionCall"],cv(l));const u=s(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=s(e,["inlineData"]);c!=null&&a(t,["inlineData"],W0(c));const d=s(e,["text"]);d!=null&&a(t,["text"],d);const f=s(e,["thought"]);f!=null&&a(t,["thought"],f);const h=s(e,["thoughtSignature"]);h!=null&&a(t,["thoughtSignature"],h);const p=s(e,["videoMetadata"]);return p!=null&&a(t,["videoMetadata"],p),t}function kv(e){const t={},n=s(e,["category"]);if(n!=null&&a(t,["category"],n),s(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(e,["threshold"]);return o!=null&&a(t,["threshold"],o),t}function Nv(e){const t={},n=s(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],dv(n));const o=s(e,["retrievalConfig"]);return o!=null&&a(t,["retrievalConfig"],o),t}function Pv(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const r=s(e,["computerUse"]);r!=null&&a(t,["computerUse"],r);const i=s(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],gv(u));const c=s(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],yv(c));const d=s(e,["urlContext"]);return d!=null&&a(t,["urlContext"],d),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Bt;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Bt||(Bt={}));class Pn{constructor(t,n,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,o,r)}init(t,n,o){var r,i;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!o||Object.keys(o).length===0?l={config:{}}:typeof o=="object"?l=Object.assign({},o):l=o,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(i=(r=l.config)===null||r===void 0?void 0:r.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rv extends Jt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Pn(Bt.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=wd(this.apiClient,t),o=n._url,r=V("{model}:batchGenerateContent",o),u=n.batch.inputConfig.requests,c=u.requests,d=[];for(const f of c){const h=Object.assign({},f);if(h.systemInstruction){const p=h.systemInstruction;delete h.systemInstruction;const v=h.request;v.systemInstruction=p,h.request=v}d.push(h)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const o=n?Object.assign({},n):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const i=this.getGcsUri(t),l=this.getBigqueryUri(t);if(i)i.endsWith(".jsonl")?o.dest=`${i.slice(0,-6)}/dest`:o.dest=`${i}_dest_${r}`;else if(l)o.dest=`${l}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=j0(this.apiClient,t);return u=V("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>wl(f))}else{const d=wd(this.apiClient,t);return u=V("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Or(f))}}async createEmbeddingsInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=tv(this.apiClient,t);return i=V("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>Or(c))}}async get(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=mv(this.apiClient,t);return u=V("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>wl(f))}else{const d=hv(this.apiClient,t);return u=V("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Or(f))}}async cancel(t){var n,o,r,i;let l="",u={};if(this.apiClient.isVertexAI()){const c=Y0(this.apiClient,t);l=V("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}else{const c=O0(this.apiClient,t);l=V("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=_v(t);return u=V("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=Iv(f),p=new Ed;return Object.assign(p,h),p})}else{const d=Tv(t);return u=V("batches",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=wv(f),p=new Ed;return Object.assign(p,h),p})}}async delete(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=ov(this.apiClient,t);return u=V("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>iv(f))}else{const d=nv(this.apiClient,t);return u=V("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>rv(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mv(e){const t={},n=s(e,["data"]);if(n!=null&&a(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Id(e){const t={},n=s(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>tx(i))),a(t,["parts"],r)}const o=s(e,["role"]);return o!=null&&a(t,["role"],o),t}function Dv(e,t){const n={},o=s(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const r=s(e,["expireTime"]);t!==void 0&&r!=null&&a(t,["expireTime"],r);const i=s(e,["displayName"]);t!==void 0&&i!=null&&a(t,["displayName"],i);const l=s(e,["contents"]);if(t!==void 0&&l!=null){let f=gt(l);Array.isArray(f)&&(f=f.map(h=>Id(h))),a(t,["contents"],f)}const u=s(e,["systemInstruction"]);t!==void 0&&u!=null&&a(t,["systemInstruction"],Id(Oe(u)));const c=s(e,["tools"]);if(t!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>ox(h))),a(t,["tools"],f)}const d=s(e,["toolConfig"]);if(t!==void 0&&d!=null&&a(t,["toolConfig"],nx(d)),s(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Lv(e,t){const n={},o=s(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const r=s(e,["expireTime"]);t!==void 0&&r!=null&&a(t,["expireTime"],r);const i=s(e,["displayName"]);t!==void 0&&i!=null&&a(t,["displayName"],i);const l=s(e,["contents"]);if(t!==void 0&&l!=null){let h=gt(l);Array.isArray(h)&&(h=h.map(p=>p)),a(t,["contents"],h)}const u=s(e,["systemInstruction"]);t!==void 0&&u!=null&&a(t,["systemInstruction"],Oe(u));const c=s(e,["tools"]);if(t!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>rx(p))),a(t,["tools"],h)}const d=s(e,["toolConfig"]);t!==void 0&&d!=null&&a(t,["toolConfig"],d);const f=s(e,["kmsKeyName"]);return t!==void 0&&f!=null&&a(t,["encryption_spec","kmsKeyName"],f),n}function Fv(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["model"],dh(e,o));const r=s(t,["config"]);return r!=null&&Dv(r,n),n}function Uv(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["model"],dh(e,o));const r=s(t,["config"]);return r!=null&&Lv(r,n),n}function Vv(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],Wt(e,o)),n}function Hv(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],Wt(e,o)),n}function Gv(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function zv(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function qv(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function bv(e){const t={},n=s(e,["id"]);n!=null&&a(t,["id"],n);const o=s(e,["args"]);o!=null&&a(t,["args"],o);const r=s(e,["name"]);if(r!=null&&a(t,["name"],r),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Bv(e){const t={},n=s(e,["mode"]);n!=null&&a(t,["mode"],n);const o=s(e,["allowedFunctionNames"]);if(o!=null&&a(t,["allowedFunctionNames"],o),s(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function $v(e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(e,["description"]);n!=null&&a(t,["description"],n);const o=s(e,["name"]);o!=null&&a(t,["name"],o);const r=s(e,["parameters"]);r!=null&&a(t,["parameters"],r);const i=s(e,["parametersJsonSchema"]);i!=null&&a(t,["parametersJsonSchema"],i);const l=s(e,["response"]);l!=null&&a(t,["response"],l);const u=s(e,["responseJsonSchema"]);return u!=null&&a(t,["responseJsonSchema"],u),t}function Jv(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],Wt(e,o)),n}function Wv(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],Wt(e,o)),n}function Ov(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function Yv(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function Kv(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function Xv(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function Qv(e){const t={},n=s(e,["config"]);return n!=null&&Kv(n,t),t}function Zv(e){const t={},n=s(e,["config"]);return n!=null&&Xv(n,t),t}function jv(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["cachedContents"],i)}return t}function ex(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["cachedContents"],i)}return t}function tx(e){const t={},n=s(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=s(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=s(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=s(e,["fileData"]);i!=null&&a(t,["fileData"],qv(i));const l=s(e,["functionCall"]);l!=null&&a(t,["functionCall"],bv(l));const u=s(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=s(e,["inlineData"]);c!=null&&a(t,["inlineData"],Mv(c));const d=s(e,["text"]);d!=null&&a(t,["text"],d);const f=s(e,["thought"]);f!=null&&a(t,["thought"],f);const h=s(e,["thoughtSignature"]);h!=null&&a(t,["thoughtSignature"],h);const p=s(e,["videoMetadata"]);return p!=null&&a(t,["videoMetadata"],p),t}function nx(e){const t={},n=s(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],Bv(n));const o=s(e,["retrievalConfig"]);return o!=null&&a(t,["retrievalConfig"],o),t}function ox(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const r=s(e,["computerUse"]);r!=null&&a(t,["computerUse"],r);const i=s(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],Ov(u));const c=s(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],Yv(c));const d=s(e,["urlContext"]);return d!=null&&a(t,["urlContext"],d),t}function rx(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>$v(p))),a(t,["functionDeclarations"],h)}const o=s(e,["retrieval"]);o!=null&&a(t,["retrieval"],o);const r=s(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const i=s(e,["computerUse"]);if(i!=null&&a(t,["computerUse"],i),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(e,["codeExecution"]);l!=null&&a(t,["codeExecution"],l);const u=s(e,["enterpriseWebSearch"]);u!=null&&a(t,["enterpriseWebSearch"],u);const c=s(e,["googleMaps"]);c!=null&&a(t,["googleMaps"],c);const d=s(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],d);const f=s(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function ix(e,t){const n={},o=s(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const r=s(e,["expireTime"]);return t!==void 0&&r!=null&&a(t,["expireTime"],r),n}function sx(e,t){const n={},o=s(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const r=s(e,["expireTime"]);return t!==void 0&&r!=null&&a(t,["expireTime"],r),n}function lx(e,t){const n={},o=s(t,["name"]);o!=null&&a(n,["_url","name"],Wt(e,o));const r=s(t,["config"]);return r!=null&&ix(r,n),n}function ax(e,t){const n={},o=s(t,["name"]);o!=null&&a(n,["_url","name"],Wt(e,o));const r=s(t,["config"]);return r!=null&&sx(r,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ux extends Jt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Pn(Bt.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Uv(this.apiClient,t);return u=V("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=Fv(this.apiClient,t);return u=V("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async get(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Wv(this.apiClient,t);return u=V("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=Jv(this.apiClient,t);return u=V("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async delete(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Hv(this.apiClient,t);return u=V("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=zv(f),p=new xd;return Object.assign(p,h),p})}else{const d=Vv(this.apiClient,t);return u=V("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=Gv(f),p=new xd;return Object.assign(p,h),p})}}async update(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=ax(this.apiClient,t);return u=V("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=lx(this.apiClient,t);return u=V("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async listInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Zv(t);return u=V("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=ex(f),p=new Cd;return Object.assign(p,h),p})}else{const d=Qv(t);return u=V("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=jv(f),p=new Cd;return Object.assign(p,h),p})}}}function Ad(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ve(e){return this instanceof ve?(this.v=e,this):new ve(e)}function eo(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(e,t||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),r[Symbol.asyncIterator]=function(){return this},r;function l(v){return function(E){return Promise.resolve(E).then(v,h)}}function u(v,E){o[v]&&(r[v]=function(S){return new Promise(function(A,x){i.push([v,S,A,x])>1||c(v,S)})},E&&(r[v]=E(r[v])))}function c(v,E){try{d(o[v](E))}catch(S){p(i[0][3],S)}}function d(v){v.value instanceof ve?Promise.resolve(v.value.v).then(f,h):p(i[0][2],v)}function f(v){c("next",v)}function h(v){c("throw",v)}function p(v,E){v(E),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Bo(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Ad=="function"?Ad(e):e[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=e[i]&&function(l){return new Promise(function(u,c){l=e[i](l),r(u,c,l.done,l.value)})}}function r(i,l,u,c){Promise.resolve(c).then(function(d){i({value:d,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cx(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:_h(n)}function _h(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function dx(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function kd(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let o=0;for(;o<n;)if(e[o].role==="user")t.push(e[o]),o++;else{const r=[];let i=!0;for(;o<n&&e[o].role==="model";)r.push(e[o]),i&&!_h(e[o])&&(i=!1),o++;i?t.push(...r):t.pop()}return t}class fx{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new px(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class px{constructor(t,n,o,r={},i=[]){this.apiClient=t,this.modelsModule=n,this.model=o,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),dx(i)}async sendMessage(t){var n;await this.sendPromise;const o=Oe(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,l,u;const c=await r,d=(l=(i=c.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content,f=c.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let p=[];f!=null&&(p=(u=f.slice(h))!==null&&u!==void 0?u:[]);const v=d?[d]:[];this.recordHistory(o,v,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var n;await this.sendPromise;const o=Oe(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const i=await r;return this.processStreamResponse(i,o)}getHistory(t=!1){const n=t?kd(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var o,r;return eo(this,arguments,function*(){var l,u,c,d;const f=[];try{for(var h=!0,p=Bo(t),v;v=yield ve(p.next()),l=v.done,!l;h=!0){d=v.value,h=!1;const E=d;if(cx(E)){const S=(r=(o=E.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content;S!==void 0&&f.push(S)}yield yield ve(E)}}catch(E){u={error:E}}finally{try{!h&&!l&&(c=p.return)&&(yield ve(c.call(p)))}finally{if(u)throw u.error}}this.recordHistory(n,f)})}recordHistory(t,n,o){let r=[];n.length>0&&n.every(i=>i.role!==void 0)?r=n:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...kd(o)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bi extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Bi.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hx(e){const t={},n=s(e,["file"]);return n!=null&&a(t,["file"],n),t}function mx(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function gx(e){const t={},n=s(e,["name"]);return n!=null&&a(t,["_url","file"],yh(n)),t}function yx(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function vx(e){const t={},n=s(e,["name"]);return n!=null&&a(t,["_url","file"],yh(n)),t}function xx(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function Cx(e){const t={},n=s(e,["config"]);return n!=null&&xx(n,t),t}function Ex(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["files"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sx extends Jt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Pn(Bt.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Cx(t);return i=V("files",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=Ex(c),f=new I0;return Object.assign(f,d),f})}}async createInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=hx(t);return i=V("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=mx(c),f=new A0;return Object.assign(f,d),f})}}async get(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=vx(t);return i=V("files/{file}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=gx(t);return i=V("files/{file}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=yx(c),f=new k0;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yr(e){const t={},n=s(e,["data"]);if(n!=null&&a(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Tx(e){const t={},n=s(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Gx(i))),a(t,["parts"],r)}const o=s(e,["role"]);return o!=null&&a(t,["role"],o),t}function _x(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function wx(e){const t={},n=s(e,["id"]);n!=null&&a(t,["id"],n);const o=s(e,["args"]);o!=null&&a(t,["args"],o);const r=s(e,["name"]);if(r!=null&&a(t,["name"],r),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Ix(e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(e,["description"]);n!=null&&a(t,["description"],n);const o=s(e,["name"]);o!=null&&a(t,["name"],o);const r=s(e,["parameters"]);r!=null&&a(t,["parameters"],r);const i=s(e,["parametersJsonSchema"]);i!=null&&a(t,["parametersJsonSchema"],i);const l=s(e,["response"]);l!=null&&a(t,["response"],l);const u=s(e,["responseJsonSchema"]);return u!=null&&a(t,["responseJsonSchema"],u),t}function Ax(e){const t={},n=s(e,["modelSelectionConfig"]);n!=null&&a(t,["modelConfig"],n);const o=s(e,["responseJsonSchema"]);o!=null&&a(t,["responseJsonSchema"],o);const r=s(e,["audioTimestamp"]);r!=null&&a(t,["audioTimestamp"],r);const i=s(e,["candidateCount"]);i!=null&&a(t,["candidateCount"],i);const l=s(e,["enableAffectiveDialog"]);l!=null&&a(t,["enableAffectiveDialog"],l);const u=s(e,["frequencyPenalty"]);u!=null&&a(t,["frequencyPenalty"],u);const c=s(e,["logprobs"]);c!=null&&a(t,["logprobs"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(t,["maxOutputTokens"],d);const f=s(e,["mediaResolution"]);f!=null&&a(t,["mediaResolution"],f);const h=s(e,["presencePenalty"]);h!=null&&a(t,["presencePenalty"],h);const p=s(e,["responseLogprobs"]);p!=null&&a(t,["responseLogprobs"],p);const v=s(e,["responseMimeType"]);v!=null&&a(t,["responseMimeType"],v);const E=s(e,["responseModalities"]);E!=null&&a(t,["responseModalities"],E);const S=s(e,["responseSchema"]);S!=null&&a(t,["responseSchema"],S);const A=s(e,["routingConfig"]);A!=null&&a(t,["routingConfig"],A);const x=s(e,["seed"]);x!=null&&a(t,["seed"],x);const y=s(e,["speechConfig"]);y!=null&&a(t,["speechConfig"],wh(y));const g=s(e,["stopSequences"]);g!=null&&a(t,["stopSequences"],g);const C=s(e,["temperature"]);C!=null&&a(t,["temperature"],C);const _=s(e,["thinkingConfig"]);_!=null&&a(t,["thinkingConfig"],_);const I=s(e,["topK"]);I!=null&&a(t,["topK"],I);const w=s(e,["topP"]);if(w!=null&&a(t,["topP"],w),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function kx(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function Nx(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function Px(e,t){const n={},o=s(e,["generationConfig"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig"],o);const r=s(e,["responseModalities"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","responseModalities"],r);const i=s(e,["temperature"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","temperature"],i);const l=s(e,["topP"]);t!==void 0&&l!=null&&a(t,["setup","generationConfig","topP"],l);const u=s(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const c=s(e,["maxOutputTokens"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","maxOutputTokens"],c);const d=s(e,["mediaResolution"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","mediaResolution"],d);const f=s(e,["seed"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","seed"],f);const h=s(e,["speechConfig"]);t!==void 0&&h!=null&&a(t,["setup","generationConfig","speechConfig"],Ra(h));const p=s(e,["thinkingConfig"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","thinkingConfig"],p);const v=s(e,["enableAffectiveDialog"]);t!==void 0&&v!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],v);const E=s(e,["systemInstruction"]);t!==void 0&&E!=null&&a(t,["setup","systemInstruction"],Tx(Oe(E)));const S=s(e,["tools"]);if(t!==void 0&&S!=null){let I=ho(S);Array.isArray(I)&&(I=I.map(w=>qx(po(w)))),a(t,["setup","tools"],I)}const A=s(e,["sessionResumption"]);t!==void 0&&A!=null&&a(t,["setup","sessionResumption"],zx(A));const x=s(e,["inputAudioTranscription"]);t!==void 0&&x!=null&&a(t,["setup","inputAudioTranscription"],x);const y=s(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&a(t,["setup","outputAudioTranscription"],y);const g=s(e,["realtimeInputConfig"]);t!==void 0&&g!=null&&a(t,["setup","realtimeInputConfig"],g);const C=s(e,["contextWindowCompression"]);t!==void 0&&C!=null&&a(t,["setup","contextWindowCompression"],C);const _=s(e,["proactivity"]);return t!==void 0&&_!=null&&a(t,["setup","proactivity"],_),n}function Rx(e,t){const n={},o=s(e,["generationConfig"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig"],Ax(o));const r=s(e,["responseModalities"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","responseModalities"],r);const i=s(e,["temperature"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","temperature"],i);const l=s(e,["topP"]);t!==void 0&&l!=null&&a(t,["setup","generationConfig","topP"],l);const u=s(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const c=s(e,["maxOutputTokens"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","maxOutputTokens"],c);const d=s(e,["mediaResolution"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","mediaResolution"],d);const f=s(e,["seed"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","seed"],f);const h=s(e,["speechConfig"]);t!==void 0&&h!=null&&a(t,["setup","generationConfig","speechConfig"],wh(Ra(h)));const p=s(e,["thinkingConfig"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","thinkingConfig"],p);const v=s(e,["enableAffectiveDialog"]);t!==void 0&&v!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],v);const E=s(e,["systemInstruction"]);t!==void 0&&E!=null&&a(t,["setup","systemInstruction"],Oe(E));const S=s(e,["tools"]);if(t!==void 0&&S!=null){let I=ho(S);Array.isArray(I)&&(I=I.map(w=>bx(po(w)))),a(t,["setup","tools"],I)}const A=s(e,["sessionResumption"]);t!==void 0&&A!=null&&a(t,["setup","sessionResumption"],A);const x=s(e,["inputAudioTranscription"]);t!==void 0&&x!=null&&a(t,["setup","inputAudioTranscription"],x);const y=s(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&a(t,["setup","outputAudioTranscription"],y);const g=s(e,["realtimeInputConfig"]);t!==void 0&&g!=null&&a(t,["setup","realtimeInputConfig"],g);const C=s(e,["contextWindowCompression"]);t!==void 0&&C!=null&&a(t,["setup","contextWindowCompression"],C);const _=s(e,["proactivity"]);return t!==void 0&&_!=null&&a(t,["setup","proactivity"],_),n}function Mx(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["setup","model"],se(e,o));const r=s(t,["config"]);return r!=null&&a(n,["config"],Px(r,n)),n}function Dx(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["setup","model"],se(e,o));const r=s(t,["config"]);return r!=null&&a(n,["config"],Rx(r,n)),n}function Lx(e){const t={},n=s(e,["musicGenerationConfig"]);return n!=null&&a(t,["musicGenerationConfig"],n),t}function Fx(e){const t={},n=s(e,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(t,["weightedPrompts"],o)}return t}function Ux(e){const t={},n=s(e,["media"]);if(n!=null){let d=fh(n);Array.isArray(d)&&(d=d.map(f=>Yr(f))),a(t,["mediaChunks"],d)}const o=s(e,["audio"]);o!=null&&a(t,["audio"],Yr(hh(o)));const r=s(e,["audioStreamEnd"]);r!=null&&a(t,["audioStreamEnd"],r);const i=s(e,["video"]);i!=null&&a(t,["video"],Yr(ph(i)));const l=s(e,["text"]);l!=null&&a(t,["text"],l);const u=s(e,["activityStart"]);u!=null&&a(t,["activityStart"],u);const c=s(e,["activityEnd"]);return c!=null&&a(t,["activityEnd"],c),t}function Vx(e){const t={},n=s(e,["media"]);if(n!=null){let d=fh(n);Array.isArray(d)&&(d=d.map(f=>f)),a(t,["mediaChunks"],d)}const o=s(e,["audio"]);o!=null&&a(t,["audio"],hh(o));const r=s(e,["audioStreamEnd"]);r!=null&&a(t,["audioStreamEnd"],r);const i=s(e,["video"]);i!=null&&a(t,["video"],ph(i));const l=s(e,["text"]);l!=null&&a(t,["text"],l);const u=s(e,["activityStart"]);u!=null&&a(t,["activityStart"],u);const c=s(e,["activityEnd"]);return c!=null&&a(t,["activityEnd"],c),t}function Hx(e){const t={},n=s(e,["setupComplete"]);n!=null&&a(t,["setupComplete"],n);const o=s(e,["serverContent"]);o!=null&&a(t,["serverContent"],o);const r=s(e,["toolCall"]);r!=null&&a(t,["toolCall"],r);const i=s(e,["toolCallCancellation"]);i!=null&&a(t,["toolCallCancellation"],i);const l=s(e,["usageMetadata"]);l!=null&&a(t,["usageMetadata"],Bx(l));const u=s(e,["goAway"]);u!=null&&a(t,["goAway"],u);const c=s(e,["sessionResumptionUpdate"]);return c!=null&&a(t,["sessionResumptionUpdate"],c),t}function Gx(e){const t={},n=s(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=s(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=s(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=s(e,["fileData"]);i!=null&&a(t,["fileData"],_x(i));const l=s(e,["functionCall"]);l!=null&&a(t,["functionCall"],wx(l));const u=s(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=s(e,["inlineData"]);c!=null&&a(t,["inlineData"],Yr(c));const d=s(e,["text"]);d!=null&&a(t,["text"],d);const f=s(e,["thought"]);f!=null&&a(t,["thought"],f);const h=s(e,["thoughtSignature"]);h!=null&&a(t,["thoughtSignature"],h);const p=s(e,["videoMetadata"]);return p!=null&&a(t,["videoMetadata"],p),t}function zx(e){const t={},n=s(e,["handle"]);if(n!=null&&a(t,["handle"],n),s(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function wh(e){const t={},n=s(e,["languageCode"]);n!=null&&a(t,["languageCode"],n);const o=s(e,["voiceConfig"]);if(o!=null&&a(t,["voiceConfig"],o),s(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function qx(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const r=s(e,["computerUse"]);r!=null&&a(t,["computerUse"],r);const i=s(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],kx(u));const c=s(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],Nx(c));const d=s(e,["urlContext"]);return d!=null&&a(t,["urlContext"],d),t}function bx(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>Ix(p))),a(t,["functionDeclarations"],h)}const o=s(e,["retrieval"]);o!=null&&a(t,["retrieval"],o);const r=s(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const i=s(e,["computerUse"]);if(i!=null&&a(t,["computerUse"],i),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(e,["codeExecution"]);l!=null&&a(t,["codeExecution"],l);const u=s(e,["enterpriseWebSearch"]);u!=null&&a(t,["enterpriseWebSearch"],u);const c=s(e,["googleMaps"]);c!=null&&a(t,["googleMaps"],c);const d=s(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],d);const f=s(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function Bx(e){const t={},n=s(e,["promptTokenCount"]);n!=null&&a(t,["promptTokenCount"],n);const o=s(e,["cachedContentTokenCount"]);o!=null&&a(t,["cachedContentTokenCount"],o);const r=s(e,["candidatesTokenCount"]);r!=null&&a(t,["responseTokenCount"],r);const i=s(e,["toolUsePromptTokenCount"]);i!=null&&a(t,["toolUsePromptTokenCount"],i);const l=s(e,["thoughtsTokenCount"]);l!=null&&a(t,["thoughtsTokenCount"],l);const u=s(e,["totalTokenCount"]);u!=null&&a(t,["totalTokenCount"],u);const c=s(e,["promptTokensDetails"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(E=>E)),a(t,["promptTokensDetails"],v)}const d=s(e,["cacheTokensDetails"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(E=>E)),a(t,["cacheTokensDetails"],v)}const f=s(e,["candidatesTokensDetails"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(E=>E)),a(t,["responseTokensDetails"],v)}const h=s(e,["toolUsePromptTokensDetails"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(E=>E)),a(t,["toolUsePromptTokensDetails"],v)}const p=s(e,["trafficType"]);return p!=null&&a(t,["trafficType"],p),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $x(e){const t={},n=s(e,["data"]);if(n!=null&&a(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Jx(e){const t={},n=s(e,["content"]);n!=null&&a(t,["content"],n);const o=s(e,["citationMetadata"]);o!=null&&a(t,["citationMetadata"],Wx(o));const r=s(e,["tokenCount"]);r!=null&&a(t,["tokenCount"],r);const i=s(e,["finishReason"]);i!=null&&a(t,["finishReason"],i);const l=s(e,["avgLogprobs"]);l!=null&&a(t,["avgLogprobs"],l);const u=s(e,["groundingMetadata"]);u!=null&&a(t,["groundingMetadata"],u);const c=s(e,["index"]);c!=null&&a(t,["index"],c);const d=s(e,["logprobsResult"]);d!=null&&a(t,["logprobsResult"],d);const f=s(e,["safetyRatings"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(v=>v)),a(t,["safetyRatings"],p)}const h=s(e,["urlContextMetadata"]);return h!=null&&a(t,["urlContextMetadata"],h),t}function Wx(e){const t={},n=s(e,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(t,["citations"],o)}return t}function Ox(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],se(e,o));const r=s(t,["contents"]);if(r!=null){let i=gt(r);Array.isArray(i)&&(i=i.map(l=>l)),a(n,["contents"],i)}return n}function Yx(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(t,["tokensInfo"],r)}return t}function Kx(e){const t={},n=s(e,["values"]);n!=null&&a(t,["values"],n);const o=s(e,["statistics"]);return o!=null&&a(t,["statistics"],Xx(o)),t}function Xx(e){const t={},n=s(e,["truncated"]);n!=null&&a(t,["truncated"],n);const o=s(e,["token_count"]);return o!=null&&a(t,["tokenCount"],o),t}function $i(e){const t={},n=s(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>iE(i))),a(t,["parts"],r)}const o=s(e,["role"]);return o!=null&&a(t,["role"],o),t}function Qx(e){const t={},n=s(e,["controlType"]);n!=null&&a(t,["controlType"],n);const o=s(e,["enableControlImageComputation"]);return o!=null&&a(t,["computeControl"],o),t}function Zx(e){const t={};if(s(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function jx(e,t){const n={},o=s(e,["systemInstruction"]);t!==void 0&&o!=null&&a(t,["systemInstruction"],Oe(o));const r=s(e,["tools"]);if(t!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Ph(u))),a(t,["tools"],l)}const i=s(e,["generationConfig"]);return t!==void 0&&i!=null&&a(t,["generationConfig"],$C(i)),n}function eC(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],se(e,o));const r=s(t,["contents"]);if(r!=null){let l=gt(r);Array.isArray(l)&&(l=l.map(u=>$i(u))),a(n,["contents"],l)}const i=s(t,["config"]);return i!=null&&Zx(i),n}function tC(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],se(e,o));const r=s(t,["contents"]);if(r!=null){let l=gt(r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const i=s(t,["config"]);return i!=null&&jx(i,n),n}function nC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["totalTokens"]);o!=null&&a(t,["totalTokens"],o);const r=s(e,["cachedContentTokenCount"]);return r!=null&&a(t,["cachedContentTokenCount"],r),t}function oC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["totalTokens"]);return o!=null&&a(t,["totalTokens"],o),t}function rC(e,t){const n={},o=s(t,["model"]);return o!=null&&a(n,["_url","name"],se(e,o)),n}function iC(e,t){const n={},o=s(t,["model"]);return o!=null&&a(n,["_url","name"],se(e,o)),n}function sC(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function lC(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function aC(e,t){const n={},o=s(e,["outputGcsUri"]);t!==void 0&&o!=null&&a(t,["parameters","storageUri"],o);const r=s(e,["negativePrompt"]);t!==void 0&&r!=null&&a(t,["parameters","negativePrompt"],r);const i=s(e,["numberOfImages"]);t!==void 0&&i!=null&&a(t,["parameters","sampleCount"],i);const l=s(e,["aspectRatio"]);t!==void 0&&l!=null&&a(t,["parameters","aspectRatio"],l);const u=s(e,["guidanceScale"]);t!==void 0&&u!=null&&a(t,["parameters","guidanceScale"],u);const c=s(e,["seed"]);t!==void 0&&c!=null&&a(t,["parameters","seed"],c);const d=s(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&a(t,["parameters","safetySetting"],d);const f=s(e,["personGeneration"]);t!==void 0&&f!=null&&a(t,["parameters","personGeneration"],f);const h=s(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&a(t,["parameters","includeSafetyAttributes"],h);const p=s(e,["includeRaiReason"]);t!==void 0&&p!=null&&a(t,["parameters","includeRaiReason"],p);const v=s(e,["language"]);t!==void 0&&v!=null&&a(t,["parameters","language"],v);const E=s(e,["outputMimeType"]);t!==void 0&&E!=null&&a(t,["parameters","outputOptions","mimeType"],E);const S=s(e,["outputCompressionQuality"]);t!==void 0&&S!=null&&a(t,["parameters","outputOptions","compressionQuality"],S);const A=s(e,["addWatermark"]);t!==void 0&&A!=null&&a(t,["parameters","addWatermark"],A);const x=s(e,["labels"]);t!==void 0&&x!=null&&a(t,["labels"],x);const y=s(e,["editMode"]);t!==void 0&&y!=null&&a(t,["parameters","editMode"],y);const g=s(e,["baseSteps"]);return t!==void 0&&g!=null&&a(t,["parameters","editConfig","baseSteps"],g),n}function uC(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],se(e,o));const r=s(t,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(t,["referenceImages"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>dE(c))),a(n,["instances[0]","referenceImages"],u)}const l=s(t,["config"]);return l!=null&&aC(l,n),n}function cC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>Ji(i))),a(t,["generatedImages"],r)}return t}function dC(e,t){const n={},o=s(e,["taskType"]);t!==void 0&&o!=null&&a(t,["requests[]","taskType"],o);const r=s(e,["title"]);t!==void 0&&r!=null&&a(t,["requests[]","title"],r);const i=s(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&a(t,["requests[]","outputDimensionality"],i),s(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function fC(e,t){const n={},o=s(e,["taskType"]);t!==void 0&&o!=null&&a(t,["instances[]","task_type"],o);const r=s(e,["title"]);t!==void 0&&r!=null&&a(t,["instances[]","title"],r);const i=s(e,["outputDimensionality"]);t!==void 0&&i!=null&&a(t,["parameters","outputDimensionality"],i);const l=s(e,["mimeType"]);t!==void 0&&l!=null&&a(t,["instances[]","mimeType"],l);const u=s(e,["autoTruncate"]);return t!==void 0&&u!=null&&a(t,["parameters","autoTruncate"],u),n}function pC(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],se(e,o));const r=s(t,["contents"]);if(r!=null){let u=ka(e,r);Array.isArray(u)&&(u=u.map(c=>c)),a(n,["requests[]","content"],u)}const i=s(t,["config"]);i!=null&&dC(i,n);const l=s(t,["model"]);return l!==void 0&&a(n,["requests[]","model"],se(e,l)),n}function hC(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],se(e,o));const r=s(t,["contents"]);if(r!=null){let l=ka(e,r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["instances[]","content"],l)}const i=s(t,["config"]);return i!=null&&fC(i,n),n}function mC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["embeddings"],i)}const r=s(e,["metadata"]);return r!=null&&a(t,["metadata"],r),t}function gC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["predictions[]","embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>Kx(l))),a(t,["embeddings"],i)}const r=s(e,["metadata"]);return r!=null&&a(t,["metadata"],r),t}function yC(e){const t={},n=s(e,["endpoint"]);n!=null&&a(t,["name"],n);const o=s(e,["deployedModelId"]);return o!=null&&a(t,["deployedModelId"],o),t}function vC(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function xC(e){const t={},n=s(e,["id"]);n!=null&&a(t,["id"],n);const o=s(e,["args"]);o!=null&&a(t,["args"],o);const r=s(e,["name"]);if(r!=null&&a(t,["name"],r),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function CC(e){const t={},n=s(e,["mode"]);n!=null&&a(t,["mode"],n);const o=s(e,["allowedFunctionNames"]);if(o!=null&&a(t,["allowedFunctionNames"],o),s(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function EC(e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(e,["description"]);n!=null&&a(t,["description"],n);const o=s(e,["name"]);o!=null&&a(t,["name"],o);const r=s(e,["parameters"]);r!=null&&a(t,["parameters"],r);const i=s(e,["parametersJsonSchema"]);i!=null&&a(t,["parametersJsonSchema"],i);const l=s(e,["response"]);l!=null&&a(t,["response"],l);const u=s(e,["responseJsonSchema"]);return u!=null&&a(t,["responseJsonSchema"],u),t}function SC(e,t,n){const o={},r=s(t,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],$i(Oe(r)));const i=s(t,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(t,["topP"]);l!=null&&a(o,["topP"],l);const u=s(t,["topK"]);u!=null&&a(o,["topK"],u);const c=s(t,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(t,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(t,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const h=s(t,["responseLogprobs"]);h!=null&&a(o,["responseLogprobs"],h);const p=s(t,["logprobs"]);p!=null&&a(o,["logprobs"],p);const v=s(t,["presencePenalty"]);v!=null&&a(o,["presencePenalty"],v);const E=s(t,["frequencyPenalty"]);E!=null&&a(o,["frequencyPenalty"],E);const S=s(t,["seed"]);S!=null&&a(o,["seed"],S);const A=s(t,["responseMimeType"]);A!=null&&a(o,["responseMimeType"],A);const x=s(t,["responseSchema"]);x!=null&&a(o,["responseSchema"],Na(x));const y=s(t,["responseJsonSchema"]);if(y!=null&&a(o,["responseJsonSchema"],y),s(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const g=s(t,["safetySettings"]);if(n!==void 0&&g!=null){let Q=g;Array.isArray(Q)&&(Q=Q.map(j=>fE(j))),a(n,["safetySettings"],Q)}const C=s(t,["tools"]);if(n!==void 0&&C!=null){let Q=ho(C);Array.isArray(Q)&&(Q=Q.map(j=>xE(po(j)))),a(n,["tools"],Q)}const _=s(t,["toolConfig"]);if(n!==void 0&&_!=null&&a(n,["toolConfig"],vE(_)),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=s(t,["cachedContent"]);n!==void 0&&I!=null&&a(n,["cachedContent"],Wt(e,I));const w=s(t,["responseModalities"]);w!=null&&a(o,["responseModalities"],w);const R=s(t,["mediaResolution"]);R!=null&&a(o,["mediaResolution"],R);const P=s(t,["speechConfig"]);if(P!=null&&a(o,["speechConfig"],Pa(P)),s(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=s(t,["thinkingConfig"]);M!=null&&a(o,["thinkingConfig"],M);const O=s(t,["imageConfig"]);return O!=null&&a(o,["imageConfig"],KC(O)),o}function TC(e,t,n){const o={},r=s(t,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],Oe(r));const i=s(t,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(t,["topP"]);l!=null&&a(o,["topP"],l);const u=s(t,["topK"]);u!=null&&a(o,["topK"],u);const c=s(t,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(t,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(t,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const h=s(t,["responseLogprobs"]);h!=null&&a(o,["responseLogprobs"],h);const p=s(t,["logprobs"]);p!=null&&a(o,["logprobs"],p);const v=s(t,["presencePenalty"]);v!=null&&a(o,["presencePenalty"],v);const E=s(t,["frequencyPenalty"]);E!=null&&a(o,["frequencyPenalty"],E);const S=s(t,["seed"]);S!=null&&a(o,["seed"],S);const A=s(t,["responseMimeType"]);A!=null&&a(o,["responseMimeType"],A);const x=s(t,["responseSchema"]);x!=null&&a(o,["responseSchema"],Na(x));const y=s(t,["responseJsonSchema"]);y!=null&&a(o,["responseJsonSchema"],y);const g=s(t,["routingConfig"]);g!=null&&a(o,["routingConfig"],g);const C=s(t,["modelSelectionConfig"]);C!=null&&a(o,["modelConfig"],C);const _=s(t,["safetySettings"]);if(n!==void 0&&_!=null){let J=_;Array.isArray(J)&&(J=J.map(B=>B)),a(n,["safetySettings"],J)}const I=s(t,["tools"]);if(n!==void 0&&I!=null){let J=ho(I);Array.isArray(J)&&(J=J.map(B=>Ph(po(B)))),a(n,["tools"],J)}const w=s(t,["toolConfig"]);n!==void 0&&w!=null&&a(n,["toolConfig"],w);const R=s(t,["labels"]);n!==void 0&&R!=null&&a(n,["labels"],R);const P=s(t,["cachedContent"]);n!==void 0&&P!=null&&a(n,["cachedContent"],Wt(e,P));const M=s(t,["responseModalities"]);M!=null&&a(o,["responseModalities"],M);const O=s(t,["mediaResolution"]);O!=null&&a(o,["mediaResolution"],O);const Q=s(t,["speechConfig"]);Q!=null&&a(o,["speechConfig"],Nh(Pa(Q)));const j=s(t,["audioTimestamp"]);j!=null&&a(o,["audioTimestamp"],j);const ke=s(t,["thinkingConfig"]);ke!=null&&a(o,["thinkingConfig"],ke);const H=s(t,["imageConfig"]);return H!=null&&a(o,["imageConfig"],XC(H)),o}function Nd(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],se(e,o));const r=s(t,["contents"]);if(r!=null){let l=gt(r);Array.isArray(l)&&(l=l.map(u=>$i(u))),a(n,["contents"],l)}const i=s(t,["config"]);return i!=null&&a(n,["generationConfig"],SC(e,i,n)),n}function Pd(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],se(e,o));const r=s(t,["contents"]);if(r!=null){let l=gt(r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const i=s(t,["config"]);return i!=null&&a(n,["generationConfig"],TC(e,i,n)),n}function Rd(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>Jx(d))),a(t,["candidates"],c)}const r=s(e,["modelVersion"]);r!=null&&a(t,["modelVersion"],r);const i=s(e,["promptFeedback"]);i!=null&&a(t,["promptFeedback"],i);const l=s(e,["responseId"]);l!=null&&a(t,["responseId"],l);const u=s(e,["usageMetadata"]);return u!=null&&a(t,["usageMetadata"],u),t}function Md(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>f)),a(t,["candidates"],d)}const r=s(e,["createTime"]);r!=null&&a(t,["createTime"],r);const i=s(e,["modelVersion"]);i!=null&&a(t,["modelVersion"],i);const l=s(e,["promptFeedback"]);l!=null&&a(t,["promptFeedback"],l);const u=s(e,["responseId"]);u!=null&&a(t,["responseId"],u);const c=s(e,["usageMetadata"]);return c!=null&&a(t,["usageMetadata"],c),t}function _C(e,t){const n={};if(s(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=s(e,["numberOfImages"]);t!==void 0&&o!=null&&a(t,["parameters","sampleCount"],o);const r=s(e,["aspectRatio"]);t!==void 0&&r!=null&&a(t,["parameters","aspectRatio"],r);const i=s(e,["guidanceScale"]);if(t!==void 0&&i!=null&&a(t,["parameters","guidanceScale"],i),s(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=s(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&a(t,["parameters","safetySetting"],l);const u=s(e,["personGeneration"]);t!==void 0&&u!=null&&a(t,["parameters","personGeneration"],u);const c=s(e,["includeSafetyAttributes"]);t!==void 0&&c!=null&&a(t,["parameters","includeSafetyAttributes"],c);const d=s(e,["includeRaiReason"]);t!==void 0&&d!=null&&a(t,["parameters","includeRaiReason"],d);const f=s(e,["language"]);t!==void 0&&f!=null&&a(t,["parameters","language"],f);const h=s(e,["outputMimeType"]);t!==void 0&&h!=null&&a(t,["parameters","outputOptions","mimeType"],h);const p=s(e,["outputCompressionQuality"]);if(t!==void 0&&p!=null&&a(t,["parameters","outputOptions","compressionQuality"],p),s(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=s(e,["imageSize"]);if(t!==void 0&&v!=null&&a(t,["parameters","sampleImageSize"],v),s(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function wC(e,t){const n={},o=s(e,["outputGcsUri"]);t!==void 0&&o!=null&&a(t,["parameters","storageUri"],o);const r=s(e,["negativePrompt"]);t!==void 0&&r!=null&&a(t,["parameters","negativePrompt"],r);const i=s(e,["numberOfImages"]);t!==void 0&&i!=null&&a(t,["parameters","sampleCount"],i);const l=s(e,["aspectRatio"]);t!==void 0&&l!=null&&a(t,["parameters","aspectRatio"],l);const u=s(e,["guidanceScale"]);t!==void 0&&u!=null&&a(t,["parameters","guidanceScale"],u);const c=s(e,["seed"]);t!==void 0&&c!=null&&a(t,["parameters","seed"],c);const d=s(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&a(t,["parameters","safetySetting"],d);const f=s(e,["personGeneration"]);t!==void 0&&f!=null&&a(t,["parameters","personGeneration"],f);const h=s(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&a(t,["parameters","includeSafetyAttributes"],h);const p=s(e,["includeRaiReason"]);t!==void 0&&p!=null&&a(t,["parameters","includeRaiReason"],p);const v=s(e,["language"]);t!==void 0&&v!=null&&a(t,["parameters","language"],v);const E=s(e,["outputMimeType"]);t!==void 0&&E!=null&&a(t,["parameters","outputOptions","mimeType"],E);const S=s(e,["outputCompressionQuality"]);t!==void 0&&S!=null&&a(t,["parameters","outputOptions","compressionQuality"],S);const A=s(e,["addWatermark"]);t!==void 0&&A!=null&&a(t,["parameters","addWatermark"],A);const x=s(e,["labels"]);t!==void 0&&x!=null&&a(t,["labels"],x);const y=s(e,["imageSize"]);t!==void 0&&y!=null&&a(t,["parameters","sampleImageSize"],y);const g=s(e,["enhancePrompt"]);return t!==void 0&&g!=null&&a(t,["parameters","enhancePrompt"],g),n}function IC(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],se(e,o));const r=s(t,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(t,["config"]);return i!=null&&_C(i,n),n}function AC(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],se(e,o));const r=s(t,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(t,["config"]);return i!=null&&wC(i,n),n}function kC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>zC(l))),a(t,["generatedImages"],i)}const r=s(e,["positivePromptSafetyAttributes"]);return r!=null&&a(t,["positivePromptSafetyAttributes"],Ah(r)),t}function NC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>Ji(l))),a(t,["generatedImages"],i)}const r=s(e,["positivePromptSafetyAttributes"]);return r!=null&&a(t,["positivePromptSafetyAttributes"],kh(r)),t}function PC(e,t){const n={},o=s(e,["numberOfVideos"]);if(t!==void 0&&o!=null&&a(t,["parameters","sampleCount"],o),s(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=s(e,["durationSeconds"]);if(t!==void 0&&r!=null&&a(t,["parameters","durationSeconds"],r),s(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=s(e,["aspectRatio"]);t!==void 0&&i!=null&&a(t,["parameters","aspectRatio"],i);const l=s(e,["resolution"]);t!==void 0&&l!=null&&a(t,["parameters","resolution"],l);const u=s(e,["personGeneration"]);if(t!==void 0&&u!=null&&a(t,["parameters","personGeneration"],u),s(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=s(e,["negativePrompt"]);t!==void 0&&c!=null&&a(t,["parameters","negativePrompt"],c);const d=s(e,["enhancePrompt"]);if(t!==void 0&&d!=null&&a(t,["parameters","enhancePrompt"],d),s(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=s(e,["lastFrame"]);t!==void 0&&f!=null&&a(t,["instances[0]","lastFrame"],Wi(f));const h=s(e,["referenceImages"]);if(t!==void 0&&h!=null){let p=h;Array.isArray(p)&&(p=p.map(v=>ME(v))),a(t,["instances[0]","referenceImages"],p)}if(s(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function RC(e,t){const n={},o=s(e,["numberOfVideos"]);t!==void 0&&o!=null&&a(t,["parameters","sampleCount"],o);const r=s(e,["outputGcsUri"]);t!==void 0&&r!=null&&a(t,["parameters","storageUri"],r);const i=s(e,["fps"]);t!==void 0&&i!=null&&a(t,["parameters","fps"],i);const l=s(e,["durationSeconds"]);t!==void 0&&l!=null&&a(t,["parameters","durationSeconds"],l);const u=s(e,["seed"]);t!==void 0&&u!=null&&a(t,["parameters","seed"],u);const c=s(e,["aspectRatio"]);t!==void 0&&c!=null&&a(t,["parameters","aspectRatio"],c);const d=s(e,["resolution"]);t!==void 0&&d!=null&&a(t,["parameters","resolution"],d);const f=s(e,["personGeneration"]);t!==void 0&&f!=null&&a(t,["parameters","personGeneration"],f);const h=s(e,["pubsubTopic"]);t!==void 0&&h!=null&&a(t,["parameters","pubsubTopic"],h);const p=s(e,["negativePrompt"]);t!==void 0&&p!=null&&a(t,["parameters","negativePrompt"],p);const v=s(e,["enhancePrompt"]);t!==void 0&&v!=null&&a(t,["parameters","enhancePrompt"],v);const E=s(e,["generateAudio"]);t!==void 0&&E!=null&&a(t,["parameters","generateAudio"],E);const S=s(e,["lastFrame"]);t!==void 0&&S!=null&&a(t,["instances[0]","lastFrame"],At(S));const A=s(e,["referenceImages"]);if(t!==void 0&&A!=null){let g=A;Array.isArray(g)&&(g=g.map(C=>DE(C))),a(t,["instances[0]","referenceImages"],g)}const x=s(e,["mask"]);t!==void 0&&x!=null&&a(t,["instances[0]","mask"],RE(x));const y=s(e,["compressionQuality"]);return t!==void 0&&y!=null&&a(t,["parameters","compressionQuality"],y),n}function MC(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response","generateVideoResponse"]);return l!=null&&a(t,["response"],UC(l)),t}function DC(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response"]);return l!=null&&a(t,["response"],VC(l)),t}function LC(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],se(e,o));const r=s(t,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(t,["image"]);i!=null&&a(n,["instances[0]","image"],Wi(i));const l=s(t,["video"]);l!=null&&a(n,["instances[0]","video"],Rh(l));const u=s(t,["source"]);u!=null&&HC(u,n);const c=s(t,["config"]);return c!=null&&PC(c,n),n}function FC(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],se(e,o));const r=s(t,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(t,["image"]);i!=null&&a(n,["instances[0]","image"],At(i));const l=s(t,["video"]);l!=null&&a(n,["instances[0]","video"],Mh(l));const u=s(t,["source"]);u!=null&&GC(u,n);const c=s(t,["config"]);return c!=null&&RC(c,n),n}function UC(e){const t={},n=s(e,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>bC(l))),a(t,["generatedVideos"],i)}const o=s(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&a(t,["raiMediaFilteredReasons"],r),t}function VC(e){const t={},n=s(e,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>BC(l))),a(t,["generatedVideos"],i)}const o=s(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&a(t,["raiMediaFilteredReasons"],r),t}function HC(e,t){const n={},o=s(e,["prompt"]);t!==void 0&&o!=null&&a(t,["instances[0]","prompt"],o);const r=s(e,["image"]);t!==void 0&&r!=null&&a(t,["instances[0]","image"],Wi(r));const i=s(e,["video"]);return t!==void 0&&i!=null&&a(t,["instances[0]","video"],Rh(i)),n}function GC(e,t){const n={},o=s(e,["prompt"]);t!==void 0&&o!=null&&a(t,["instances[0]","prompt"],o);const r=s(e,["image"]);t!==void 0&&r!=null&&a(t,["instances[0]","image"],At(r));const i=s(e,["video"]);return t!==void 0&&i!=null&&a(t,["instances[0]","video"],Mh(i)),n}function zC(e){const t={},n=s(e,["_self"]);n!=null&&a(t,["image"],QC(n));const o=s(e,["raiFilteredReason"]);o!=null&&a(t,["raiFilteredReason"],o);const r=s(e,["_self"]);return r!=null&&a(t,["safetyAttributes"],Ah(r)),t}function Ji(e){const t={},n=s(e,["_self"]);n!=null&&a(t,["image"],Ih(n));const o=s(e,["raiFilteredReason"]);o!=null&&a(t,["raiFilteredReason"],o);const r=s(e,["_self"]);r!=null&&a(t,["safetyAttributes"],kh(r));const i=s(e,["prompt"]);return i!=null&&a(t,["enhancedPrompt"],i),t}function qC(e){const t={},n=s(e,["_self"]);n!=null&&a(t,["mask"],Ih(n));const o=s(e,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(t,["labels"],r)}return t}function bC(e){const t={},n=s(e,["video"]);return n!=null&&a(t,["video"],NE(n)),t}function BC(e){const t={},n=s(e,["_self"]);return n!=null&&a(t,["video"],PE(n)),t}function $C(e){const t={},n=s(e,["modelSelectionConfig"]);n!=null&&a(t,["modelConfig"],n);const o=s(e,["responseJsonSchema"]);o!=null&&a(t,["responseJsonSchema"],o);const r=s(e,["audioTimestamp"]);r!=null&&a(t,["audioTimestamp"],r);const i=s(e,["candidateCount"]);i!=null&&a(t,["candidateCount"],i);const l=s(e,["enableAffectiveDialog"]);l!=null&&a(t,["enableAffectiveDialog"],l);const u=s(e,["frequencyPenalty"]);u!=null&&a(t,["frequencyPenalty"],u);const c=s(e,["logprobs"]);c!=null&&a(t,["logprobs"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(t,["maxOutputTokens"],d);const f=s(e,["mediaResolution"]);f!=null&&a(t,["mediaResolution"],f);const h=s(e,["presencePenalty"]);h!=null&&a(t,["presencePenalty"],h);const p=s(e,["responseLogprobs"]);p!=null&&a(t,["responseLogprobs"],p);const v=s(e,["responseMimeType"]);v!=null&&a(t,["responseMimeType"],v);const E=s(e,["responseModalities"]);E!=null&&a(t,["responseModalities"],E);const S=s(e,["responseSchema"]);S!=null&&a(t,["responseSchema"],S);const A=s(e,["routingConfig"]);A!=null&&a(t,["routingConfig"],A);const x=s(e,["seed"]);x!=null&&a(t,["seed"],x);const y=s(e,["speechConfig"]);y!=null&&a(t,["speechConfig"],Nh(y));const g=s(e,["stopSequences"]);g!=null&&a(t,["stopSequences"],g);const C=s(e,["temperature"]);C!=null&&a(t,["temperature"],C);const _=s(e,["thinkingConfig"]);_!=null&&a(t,["thinkingConfig"],_);const I=s(e,["topK"]);I!=null&&a(t,["topK"],I);const w=s(e,["topP"]);if(w!=null&&a(t,["topP"],w),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function JC(e,t){const n={},o=s(t,["model"]);return o!=null&&a(n,["_url","name"],se(e,o)),n}function WC(e,t){const n={},o=s(t,["model"]);return o!=null&&a(n,["_url","name"],se(e,o)),n}function OC(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function YC(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function KC(e){const t={},n=s(e,["aspectRatio"]);n!=null&&a(t,["aspectRatio"],n);const o=s(e,["imageSize"]);if(o!=null&&a(t,["imageSize"],o),s(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function XC(e){const t={},n=s(e,["aspectRatio"]);n!=null&&a(t,["aspectRatio"],n);const o=s(e,["imageSize"]);o!=null&&a(t,["imageSize"],o);const r=s(e,["outputMimeType"]);r!=null&&a(t,["imageOutputOptions","mimeType"],r);const i=s(e,["outputCompressionQuality"]);return i!=null&&a(t,["imageOutputOptions","compressionQuality"],i),t}function QC(e){const t={},n=s(e,["bytesBase64Encoded"]);n!=null&&a(t,["imageBytes"],mn(n));const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Ih(e){const t={},n=s(e,["gcsUri"]);n!=null&&a(t,["gcsUri"],n);const o=s(e,["bytesBase64Encoded"]);o!=null&&a(t,["imageBytes"],mn(o));const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function Wi(e){const t={};if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=s(e,["imageBytes"]);n!=null&&a(t,["bytesBase64Encoded"],mn(n));const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function At(e){const t={},n=s(e,["gcsUri"]);n!=null&&a(t,["gcsUri"],n);const o=s(e,["imageBytes"]);o!=null&&a(t,["bytesBase64Encoded"],mn(o));const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function ZC(e,t,n){const o={},r=s(t,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=s(t,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const l=s(t,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=s(t,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],vh(e,u)),o}function jC(e,t,n){const o={},r=s(t,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=s(t,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const l=s(t,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=s(t,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],vh(e,u)),o}function eE(e,t){const n={},o=s(t,["config"]);return o!=null&&ZC(e,o,n),n}function tE(e,t){const n={},o=s(t,["config"]);return o!=null&&jC(e,o,n),n}function nE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["_self"]);if(r!=null){let i=xh(r);Array.isArray(i)&&(i=i.map(l=>Il(l))),a(t,["models"],i)}return t}function oE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["_self"]);if(r!=null){let i=xh(r);Array.isArray(i)&&(i=i.map(l=>Al(l))),a(t,["models"],i)}return t}function rE(e){const t={},n=s(e,["maskMode"]);n!=null&&a(t,["maskMode"],n);const o=s(e,["segmentationClasses"]);o!=null&&a(t,["maskClasses"],o);const r=s(e,["maskDilation"]);return r!=null&&a(t,["dilation"],r),t}function Il(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["displayName"]);o!=null&&a(t,["displayName"],o);const r=s(e,["description"]);r!=null&&a(t,["description"],r);const i=s(e,["version"]);i!=null&&a(t,["version"],i);const l=s(e,["_self"]);l!=null&&a(t,["tunedModelInfo"],CE(l));const u=s(e,["inputTokenLimit"]);u!=null&&a(t,["inputTokenLimit"],u);const c=s(e,["outputTokenLimit"]);c!=null&&a(t,["outputTokenLimit"],c);const d=s(e,["supportedGenerationMethods"]);d!=null&&a(t,["supportedActions"],d);const f=s(e,["temperature"]);f!=null&&a(t,["temperature"],f);const h=s(e,["maxTemperature"]);h!=null&&a(t,["maxTemperature"],h);const p=s(e,["topP"]);p!=null&&a(t,["topP"],p);const v=s(e,["topK"]);v!=null&&a(t,["topK"],v);const E=s(e,["thinking"]);return E!=null&&a(t,["thinking"],E),t}function Al(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["displayName"]);o!=null&&a(t,["displayName"],o);const r=s(e,["description"]);r!=null&&a(t,["description"],r);const i=s(e,["versionId"]);i!=null&&a(t,["version"],i);const l=s(e,["deployedModels"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>yC(p))),a(t,["endpoints"],h)}const u=s(e,["labels"]);u!=null&&a(t,["labels"],u);const c=s(e,["_self"]);c!=null&&a(t,["tunedModelInfo"],EE(c));const d=s(e,["defaultCheckpointId"]);d!=null&&a(t,["defaultCheckpointId"],d);const f=s(e,["checkpoints"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(p=>p)),a(t,["checkpoints"],h)}return t}function iE(e){const t={},n=s(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=s(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=s(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=s(e,["fileData"]);i!=null&&a(t,["fileData"],vC(i));const l=s(e,["functionCall"]);l!=null&&a(t,["functionCall"],xC(l));const u=s(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=s(e,["inlineData"]);c!=null&&a(t,["inlineData"],$x(c));const d=s(e,["text"]);d!=null&&a(t,["text"],d);const f=s(e,["thought"]);f!=null&&a(t,["thought"],f);const h=s(e,["thoughtSignature"]);h!=null&&a(t,["thoughtSignature"],h);const p=s(e,["videoMetadata"]);return p!=null&&a(t,["videoMetadata"],p),t}function sE(e){const t={},n=s(e,["productImage"]);return n!=null&&a(t,["image"],At(n)),t}function lE(e,t){const n={},o=s(e,["numberOfImages"]);t!==void 0&&o!=null&&a(t,["parameters","sampleCount"],o);const r=s(e,["baseSteps"]);t!==void 0&&r!=null&&a(t,["parameters","baseSteps"],r);const i=s(e,["outputGcsUri"]);t!==void 0&&i!=null&&a(t,["parameters","storageUri"],i);const l=s(e,["seed"]);t!==void 0&&l!=null&&a(t,["parameters","seed"],l);const u=s(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&a(t,["parameters","safetySetting"],u);const c=s(e,["personGeneration"]);t!==void 0&&c!=null&&a(t,["parameters","personGeneration"],c);const d=s(e,["addWatermark"]);t!==void 0&&d!=null&&a(t,["parameters","addWatermark"],d);const f=s(e,["outputMimeType"]);t!==void 0&&f!=null&&a(t,["parameters","outputOptions","mimeType"],f);const h=s(e,["outputCompressionQuality"]);t!==void 0&&h!=null&&a(t,["parameters","outputOptions","compressionQuality"],h);const p=s(e,["enhancePrompt"]);t!==void 0&&p!=null&&a(t,["parameters","enhancePrompt"],p);const v=s(e,["labels"]);return t!==void 0&&v!=null&&a(t,["labels"],v),n}function aE(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],se(e,o));const r=s(t,["source"]);r!=null&&cE(r,n);const i=s(t,["config"]);return i!=null&&lE(i,n),n}function uE(e){const t={},n=s(e,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Ji(r))),a(t,["generatedImages"],o)}return t}function cE(e,t){const n={},o=s(e,["prompt"]);t!==void 0&&o!=null&&a(t,["instances[0]","prompt"],o);const r=s(e,["personImage"]);t!==void 0&&r!=null&&a(t,["instances[0]","personImage","image"],At(r));const i=s(e,["productImages"]);if(t!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>sE(u))),a(t,["instances[0]","productImages"],l)}return n}function dE(e){const t={},n=s(e,["referenceImage"]);n!=null&&a(t,["referenceImage"],At(n));const o=s(e,["referenceId"]);o!=null&&a(t,["referenceId"],o);const r=s(e,["referenceType"]);r!=null&&a(t,["referenceType"],r);const i=s(e,["maskImageConfig"]);i!=null&&a(t,["maskImageConfig"],rE(i));const l=s(e,["controlImageConfig"]);l!=null&&a(t,["controlImageConfig"],Qx(l));const u=s(e,["styleImageConfig"]);u!=null&&a(t,["styleImageConfig"],u);const c=s(e,["subjectImageConfig"]);return c!=null&&a(t,["subjectImageConfig"],c),t}function Ah(e){const t={},n=s(e,["safetyAttributes","categories"]);n!=null&&a(t,["categories"],n);const o=s(e,["safetyAttributes","scores"]);o!=null&&a(t,["scores"],o);const r=s(e,["contentType"]);return r!=null&&a(t,["contentType"],r),t}function kh(e){const t={},n=s(e,["safetyAttributes","categories"]);n!=null&&a(t,["categories"],n);const o=s(e,["safetyAttributes","scores"]);o!=null&&a(t,["scores"],o);const r=s(e,["contentType"]);return r!=null&&a(t,["contentType"],r),t}function fE(e){const t={},n=s(e,["category"]);if(n!=null&&a(t,["category"],n),s(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(e,["threshold"]);return o!=null&&a(t,["threshold"],o),t}function pE(e){const t={},n=s(e,["image"]);return n!=null&&a(t,["image"],At(n)),t}function hE(e,t){const n={},o=s(e,["mode"]);t!==void 0&&o!=null&&a(t,["parameters","mode"],o);const r=s(e,["maxPredictions"]);t!==void 0&&r!=null&&a(t,["parameters","maxPredictions"],r);const i=s(e,["confidenceThreshold"]);t!==void 0&&i!=null&&a(t,["parameters","confidenceThreshold"],i);const l=s(e,["maskDilation"]);t!==void 0&&l!=null&&a(t,["parameters","maskDilation"],l);const u=s(e,["binaryColorThreshold"]);t!==void 0&&u!=null&&a(t,["parameters","binaryColorThreshold"],u);const c=s(e,["labels"]);return t!==void 0&&c!=null&&a(t,["labels"],c),n}function mE(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],se(e,o));const r=s(t,["source"]);r!=null&&yE(r,n);const i=s(t,["config"]);return i!=null&&hE(i,n),n}function gE(e){const t={},n=s(e,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>qC(r))),a(t,["generatedMasks"],o)}return t}function yE(e,t){const n={},o=s(e,["prompt"]);t!==void 0&&o!=null&&a(t,["instances[0]","prompt"],o);const r=s(e,["image"]);t!==void 0&&r!=null&&a(t,["instances[0]","image"],At(r));const i=s(e,["scribbleImage"]);return t!==void 0&&i!=null&&a(t,["instances[0]","scribble"],pE(i)),n}function Nh(e){const t={},n=s(e,["languageCode"]);n!=null&&a(t,["languageCode"],n);const o=s(e,["voiceConfig"]);if(o!=null&&a(t,["voiceConfig"],o),s(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function vE(e){const t={},n=s(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],CC(n));const o=s(e,["retrievalConfig"]);return o!=null&&a(t,["retrievalConfig"],o),t}function xE(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const r=s(e,["computerUse"]);r!=null&&a(t,["computerUse"],r);const i=s(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],OC(u));const c=s(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],YC(c));const d=s(e,["urlContext"]);return d!=null&&a(t,["urlContext"],d),t}function Ph(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>EC(p))),a(t,["functionDeclarations"],h)}const o=s(e,["retrieval"]);o!=null&&a(t,["retrieval"],o);const r=s(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const i=s(e,["computerUse"]);if(i!=null&&a(t,["computerUse"],i),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(e,["codeExecution"]);l!=null&&a(t,["codeExecution"],l);const u=s(e,["enterpriseWebSearch"]);u!=null&&a(t,["enterpriseWebSearch"],u);const c=s(e,["googleMaps"]);c!=null&&a(t,["googleMaps"],c);const d=s(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],d);const f=s(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function CE(e){const t={},n=s(e,["baseModel"]);n!=null&&a(t,["baseModel"],n);const o=s(e,["createTime"]);o!=null&&a(t,["createTime"],o);const r=s(e,["updateTime"]);return r!=null&&a(t,["updateTime"],r),t}function EE(e){const t={},n=s(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&a(t,["baseModel"],n);const o=s(e,["createTime"]);o!=null&&a(t,["createTime"],o);const r=s(e,["updateTime"]);return r!=null&&a(t,["updateTime"],r),t}function SE(e,t){const n={},o=s(e,["displayName"]);t!==void 0&&o!=null&&a(t,["displayName"],o);const r=s(e,["description"]);t!==void 0&&r!=null&&a(t,["description"],r);const i=s(e,["defaultCheckpointId"]);return t!==void 0&&i!=null&&a(t,["defaultCheckpointId"],i),n}function TE(e,t){const n={},o=s(e,["displayName"]);t!==void 0&&o!=null&&a(t,["displayName"],o);const r=s(e,["description"]);t!==void 0&&r!=null&&a(t,["description"],r);const i=s(e,["defaultCheckpointId"]);return t!==void 0&&i!=null&&a(t,["defaultCheckpointId"],i),n}function _E(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","name"],se(e,o));const r=s(t,["config"]);return r!=null&&SE(r,n),n}function wE(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],se(e,o));const r=s(t,["config"]);return r!=null&&TE(r,n),n}function IE(e,t){const n={},o=s(e,["outputGcsUri"]);t!==void 0&&o!=null&&a(t,["parameters","storageUri"],o);const r=s(e,["safetyFilterLevel"]);t!==void 0&&r!=null&&a(t,["parameters","safetySetting"],r);const i=s(e,["personGeneration"]);t!==void 0&&i!=null&&a(t,["parameters","personGeneration"],i);const l=s(e,["includeRaiReason"]);t!==void 0&&l!=null&&a(t,["parameters","includeRaiReason"],l);const u=s(e,["outputMimeType"]);t!==void 0&&u!=null&&a(t,["parameters","outputOptions","mimeType"],u);const c=s(e,["outputCompressionQuality"]);t!==void 0&&c!=null&&a(t,["parameters","outputOptions","compressionQuality"],c);const d=s(e,["enhanceInputImage"]);t!==void 0&&d!=null&&a(t,["parameters","upscaleConfig","enhanceInputImage"],d);const f=s(e,["imagePreservationFactor"]);t!==void 0&&f!=null&&a(t,["parameters","upscaleConfig","imagePreservationFactor"],f);const h=s(e,["labels"]);t!==void 0&&h!=null&&a(t,["labels"],h);const p=s(e,["numberOfImages"]);t!==void 0&&p!=null&&a(t,["parameters","sampleCount"],p);const v=s(e,["mode"]);return t!==void 0&&v!=null&&a(t,["parameters","mode"],v),n}function AE(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],se(e,o));const r=s(t,["image"]);r!=null&&a(n,["instances[0]","image"],At(r));const i=s(t,["upscaleFactor"]);i!=null&&a(n,["parameters","upscaleConfig","upscaleFactor"],i);const l=s(t,["config"]);return l!=null&&IE(l,n),n}function kE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>Ji(i))),a(t,["generatedImages"],r)}return t}function NE(e){const t={},n=s(e,["uri"]);n!=null&&a(t,["uri"],n);const o=s(e,["encodedVideo"]);o!=null&&a(t,["videoBytes"],mn(o));const r=s(e,["encoding"]);return r!=null&&a(t,["mimeType"],r),t}function PE(e){const t={},n=s(e,["gcsUri"]);n!=null&&a(t,["uri"],n);const o=s(e,["bytesBase64Encoded"]);o!=null&&a(t,["videoBytes"],mn(o));const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function RE(e){const t={},n=s(e,["image"]);n!=null&&a(t,["_self"],At(n));const o=s(e,["maskMode"]);return o!=null&&a(t,["maskMode"],o),t}function ME(e){const t={},n=s(e,["image"]);n!=null&&a(t,["image"],Wi(n));const o=s(e,["referenceType"]);return o!=null&&a(t,["referenceType"],o),t}function DE(e){const t={},n=s(e,["image"]);n!=null&&a(t,["image"],At(n));const o=s(e,["referenceType"]);return o!=null&&a(t,["referenceType"],o),t}function Rh(e){const t={},n=s(e,["uri"]);n!=null&&a(t,["uri"],n);const o=s(e,["videoBytes"]);o!=null&&a(t,["encodedVideo"],mn(o));const r=s(e,["mimeType"]);return r!=null&&a(t,["encoding"],r),t}function Mh(e){const t={},n=s(e,["uri"]);n!=null&&a(t,["gcsUri"],n);const o=s(e,["videoBytes"]);o!=null&&a(t,["bytesBase64Encoded"],mn(o));const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LE(e,t){const n={},o=s(e,["displayName"]);return t!==void 0&&o!=null&&a(t,["displayName"],o),n}function FE(e){const t={},n=s(e,["config"]);return n!=null&&LE(n,t),t}function UE(e,t){const n={},o=s(e,["force"]);return t!==void 0&&o!=null&&a(t,["_query","force"],o),n}function VE(e){const t={},n=s(e,["name"]);n!=null&&a(t,["_url","name"],n);const o=s(e,["config"]);return o!=null&&UE(o,t),t}function HE(e){const t={},n=s(e,["name"]);return n!=null&&a(t,["_url","name"],n),t}function GE(e,t){const n={},o=s(e,["customMetadata"]);if(t!==void 0&&o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["customMetadata"],i)}const r=s(e,["chunkingConfig"]);return t!==void 0&&r!=null&&a(t,["chunkingConfig"],r),n}function zE(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response"]);return l!=null&&a(t,["response"],bE(l)),t}function qE(e){const t={},n=s(e,["fileSearchStoreName"]);n!=null&&a(t,["_url","file_search_store_name"],n);const o=s(e,["fileName"]);o!=null&&a(t,["fileName"],o);const r=s(e,["config"]);return r!=null&&GE(r,t),t}function bE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["parent"]);o!=null&&a(t,["parent"],o);const r=s(e,["documentName"]);return r!=null&&a(t,["documentName"],r),t}function BE(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function $E(e){const t={},n=s(e,["config"]);return n!=null&&BE(n,t),t}function JE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["fileSearchStores"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["fileSearchStores"],i)}return t}function Dh(e,t){const n={},o=s(e,["mimeType"]);t!==void 0&&o!=null&&a(t,["mimeType"],o);const r=s(e,["displayName"]);t!==void 0&&r!=null&&a(t,["displayName"],r);const i=s(e,["customMetadata"]);if(t!==void 0&&i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>c)),a(t,["customMetadata"],u)}const l=s(e,["chunkingConfig"]);return t!==void 0&&l!=null&&a(t,["chunkingConfig"],l),n}function WE(e){const t={},n=s(e,["fileSearchStoreName"]);n!=null&&a(t,["_url","file_search_store_name"],n);const o=s(e,["config"]);return o!=null&&Dh(o,t),t}function OE(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YE="Content-Type",KE="X-Server-Timeout",XE="User-Agent",kl="x-goog-api-client",QE="1.31.0",ZE=`google-genai-sdk/${QE}`,jE="v1beta1",eS="v1beta",Dd=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class tS{constructor(t){var n,o;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:jE,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:eS,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&o.push(t.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,o){const r=[this.getRequestUrlInternal(n)];return o&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,n,o);if(t.queryParams)for(const[l,u]of Object.entries(t.queryParams))r.searchParams.append(l,String(u));let i={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=t.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),t.abortSignal),this.unaryApiCall(r,i,t.httpMethod)}patchHttpOptions(t,n){const o=JSON.parse(JSON.stringify(t));for(const[r,i]of Object.entries(n))typeof i=="object"?o[r]=Object.assign(Object.assign({},o[r]),i):i!==void 0&&(o[r]=i);return o}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,n,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=t.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),t.abortSignal),this.streamApiCall(r,i,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,o,r){if(n&&n.timeout||r){const i=new AbortController,l=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>i.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),t.signal=l}return n&&n.extraBody!==null&&nS(t,n.extraBody),t.headers=await this.getHeadersInternal(n,o),t}async unaryApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await Ld(r),new Tl(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await Ld(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){var n;return eo(this,arguments,function*(){const r=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),i=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let l="";for(;;){const{done:u,value:c}=yield ve(r.read());if(u){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=i.decode(c,{stream:!0});try{const h=JSON.parse(d);if("error"in h){const p=JSON.parse(JSON.stringify(h.error)),v=p.status,E=p.code,S=`got status: ${v}. ${JSON.stringify(h)}`;if(E>=400&&E<600)throw new Bi({message:S,status:E})}}catch(h){if(h.name==="ApiError")throw h}l+=d;let f=l.match(Dd);for(;f;){const h=f[1];try{const p=new Response(h,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ve(new Tl(p)),l=l.slice(f[0].length),f=l.match(Dd)}catch(p){throw new Error(`exception parsing stream chunk ${h}. ${p}`)}}}}finally{r.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const t={},n=ZE+" "+this.clientOptions.userAgentExtra;return t[XE]=n,t[kl]=n,t[YE]="application/json",t}async getHeadersInternal(t,n){const o=new Headers;if(t&&t.headers){for(const[r,i]of Object.entries(t.headers))o.append(r,i);t.timeout&&t.timeout>0&&o.append(KE,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(t){var n;let o="";return typeof t=="string"&&(o=t.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(t,n){var o;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const i=this.clientOptions.uploader,l=await i.stat(t);r.sizeBytes=String(l.size);const u=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=u;const c={file:r},d=this.getFileName(t),f=V("upload/v1beta/files",c._url),h=await this.fetchUploadUrl(f,r.sizeBytes,r.mimeType,d,c,n==null?void 0:n.httpOptions);return i.upload(t,h,this)}async uploadFileToFileSearchStore(t,n,o){var r;const i=this.clientOptions.uploader,l=await i.stat(n),u=String(l.size),c=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${t}:uploadToFileSearchStore`,f=this.getFileName(n),h={};o!=null&&Dh(o,h);const p=await this.fetchUploadUrl(d,u,c,f,h,o==null?void 0:o.httpOptions);return i.uploadToFileSearchStore(n,p,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,o,r,i,l){var u;let c={};l?c=l:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const d=await this.request({path:t,body:JSON.stringify(i),httpMethod:"POST",httpOptions:c});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(u=d==null?void 0:d.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function Ld(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let o;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await e.json():o={error:{message:await e.text(),code:e.status,status:e.statusText}};const r=JSON.stringify(o);throw n>=400&&n<600?new Bi({message:r,status:n}):new Error(r)}}function nS(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const i=JSON.parse(e.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(i,l){const u=Object.assign({},i);for(const c in l)if(Object.prototype.hasOwnProperty.call(l,c)){const d=l[c],f=u[c];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?u[c]=o(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),u[c]=d)}return u}const r=o(n,t);e.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oS="mcp_used/unknown";let rS=!1;function Lh(e){for(const t of e)if(iS(t)||typeof t=="object"&&"inputSchema"in t)return!0;return rS}function Fh(e){var t;const n=(t=e[kl])!==null&&t!==void 0?t:"";e[kl]=(n+` ${oS}`).trimStart()}function iS(e){return e!==null&&typeof e=="object"&&e instanceof Ma}function sS(e,t=100){return eo(this,arguments,function*(){let o,r=0;for(;r<t;){const i=yield ve(e.listTools({cursor:o}));for(const l of i.tools)yield yield ve(l),r++;if(!i.nextCursor)break;o=i.nextCursor}})}class Ma{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Ma(t,n)}async initialize(){var t,n,o,r;if(this.mcpTools.length>0)return;const i={},l=[];for(const f of this.mcpClients)try{for(var u=!0,c=(n=void 0,Bo(sS(f))),d;d=await c.next(),t=d.done,!t;u=!0){r=d.value,u=!1;const h=r;l.push(h);const p=h.name;if(i[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);i[p]=f}}catch(h){n={error:h}}finally{try{!u&&!t&&(o=c.return)&&await o.call(c)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),H0(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const o of t)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const l=await r.callTool({name:o.name,arguments:o.args},void 0,i);n.push({functionResponse:{name:o.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function lS(e,t,n){const o=new P0;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(o,r),t(o)}class aS{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o}async connect(t){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),l=dS(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const f=new Promise(g=>{d=g}),h=t.callbacks,p=function(){d({})},v=this.apiClient,E={onopen:p,onmessage:g=>{lS(v,h.onmessage,g)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(g){},onclose:(o=h==null?void 0:h.onclose)!==null&&o!==void 0?o:function(g){}},S=this.webSocketFactory.create(c,cS(l),E);S.connect(),await f;const y={setup:{model:se(this.apiClient,t.model)}};return S.send(JSON.stringify(y)),new uS(S,this.apiClient)}}class uS{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Fx(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=Lx(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Wn.PLAY)}pause(){this.sendPlaybackControl(Wn.PAUSE)}stop(){this.sendPlaybackControl(Wn.STOP)}resetContext(){this.sendPlaybackControl(Wn.RESET_CONTEXT)}close(){this.conn.close()}}function cS(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function dS(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fS="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function pS(e,t,n){const o=new N0;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const i=JSON.parse(r);if(e.isVertexAI()){const l=Hx(i);Object.assign(o,l)}else Object.assign(o,i);t(o)}class hS{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o,this.music=new aS(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,o,r,i,l,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let f;const h=this.apiClient.getHeaders();t.config&&t.config.tools&&Lh(t.config.tools)&&Fh(h);const p=vS(h);if(this.apiClient.isVertexAI())f=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,f);else{const P=this.apiClient.getApiKey();let M="BidiGenerateContent",O="key";P!=null&&P.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),M="BidiGenerateContentConstrained",O="access_token"),f=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${M}?${O}=${P}`}let v=()=>{};const E=new Promise(P=>{v=P}),S=t.callbacks,A=function(){var P;(P=S==null?void 0:S.onopen)===null||P===void 0||P.call(S),v({})},x=this.apiClient,y={onopen:A,onmessage:P=>{pS(x,S.onmessage,P)},onerror:(n=S==null?void 0:S.onerror)!==null&&n!==void 0?n:function(P){},onclose:(o=S==null?void 0:S.onclose)!==null&&o!==void 0?o:function(P){}},g=this.webSocketFactory.create(f,yS(p),y);g.connect(),await E;let C=se(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const P=this.apiClient.getProject(),M=this.apiClient.getLocation();C=`projects/${P}/locations/${M}/`+C}let _={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[xi.AUDIO]}:t.config.responseModalities=[xi.AUDIO]),!((i=t.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const I=(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],w=[];for(const P of I)if(this.isCallableTool(P)){const M=P;w.push(await M.tool())}else w.push(P);w.length>0&&(t.config.tools=w);const R={model:C,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?_=Dx(this.apiClient,R):_=Mx(this.apiClient,R),delete _.config,g.send(JSON.stringify(_)),new gS(g,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const mS={turnComplete:!0};class gS{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=gt(n.turns),t.isVertexAI()||(o=o.map(r=>$i(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const i of o){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!t.isVertexAI()&&!("id"in i))throw new Error(fS)}return{toolResponse:{functionResponses:o}}}sendClientContent(t){t=Object.assign(Object.assign({},mS),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Vx(t)}:n={realtimeInput:Ux(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function yS(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function vS(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fd=10;function Ud(e){var t,n,o;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const l of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(to(l)){r=!0;break}if(!r)return!0;const i=(o=e==null?void 0:e.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function to(e){return"callTool"in e&&typeof e.callTool=="function"}function xS(e){var t,n,o;return(o=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(r=>to(r)))!==null&&o!==void 0?o:!1}function Vd(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((o,r)=>{if(to(o))return;const i=o;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(r)}),n}function Hd(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CS extends Jt{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var o,r,i,l,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!xS(n)||Ud(n.config))return await this.generateContentInternal(c);const d=Vd(n);if(d.length>0){const S=d.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${S}.`)}let f,h;const p=gt(c.contents),v=(i=(r=(o=c.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Fd;let E=0;for(;E<v&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const S=f.candidates[0].content,A=[];for(const x of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(to(x)){const g=await x.callTool(f.functionCalls);A.push(...g)}E++,h={role:"user",parts:A},c.contents=gt(c.contents),c.contents.push(S),c.contents.push(h),Hd(c.config)&&(p.push(S),p.push(h))}return Hd(c.config)&&(f.automaticFunctionCallingHistory=p),f},this.generateContentStream=async n=>{var o,r,i,l,u;if(this.maybeMoveToResponseJsonSchem(n),Ud(n.config)){const h=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(h)}const c=Vd(n);if(c.length>0){const h=c.map(p=>`tools[${p}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(i=(r=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,f=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var r;let i;const l=[];if(o!=null&&o.generatedImages)for(const c of o.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((r=c==null?void 0:c.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?i=c==null?void 0:c.safetyAttributes:l.push(c);let u;return i?u={generatedImages:l,positivePromptSafetyAttributes:i,sdkHttpResponse:o.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:o.sdkHttpResponse},u}),this.list=async n=>{var o;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((o=l.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Pn(Bt.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var o,r,i,l,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(i=n.source)===null||i===void 0?void 0:i.video)===null||l===void 0)&&l.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,o,r;const i=(n=t.config)===null||n===void 0?void 0:n.tools;if(!i)return t;const l=await Promise.all(i.map(async c=>to(c)?await c.tool():c)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(u.config.tools=l,t.config&&t.config.tools&&Lh(t.config.tools)){const c=(r=(o=t.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),Fh(d),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(t){var n,o,r;const i=new Map;for(const l of(o=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(to(l)){const u=l,c=await u.tool();for(const d of(r=c.functionDeclarations)!==null&&r!==void 0?r:[]){if(!d.name)throw new Error("Function declaration name is required.");if(i.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);i.set(d.name,u)}}return i}async processAfcStream(t){var n,o,r;const i=(r=(o=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:Fd;let l=!1,u=0;const c=await this.initAfcToolsMap(t);return function(d,f,h){var p,v;return eo(this,arguments,function*(){for(var E,S,A,x;u<i;){l&&(u++,l=!1);const _=yield ve(d.processParamsMaybeAddMcpUsage(h)),I=yield ve(d.generateContentStreamInternal(_)),w=[],R=[];try{for(var y=!0,g=(S=void 0,Bo(I)),C;C=yield ve(g.next()),E=C.done,!E;y=!0){x=C.value,y=!1;const P=x;if(yield yield ve(P),P.candidates&&(!((p=P.candidates[0])===null||p===void 0)&&p.content)){R.push(P.candidates[0].content);for(const M of(v=P.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(u<i&&M.functionCall){if(!M.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(M.functionCall.name)){const O=yield ve(f.get(M.functionCall.name).callTool([M.functionCall]));w.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${M.functionCall.name}`)}}}}catch(P){S={error:P}}finally{try{!y&&!E&&(A=g.return)&&(yield ve(A.call(g)))}finally{if(S)throw S.error}}if(w.length>0){l=!0;const P=new Ao;P.candidates=[{content:{role:"user",parts:w}}],yield yield ve(P);const M=[];M.push(...R),M.push({role:"user",parts:w});const O=gt(h.contents).concat(M);h.contents=O}else break}})}(this,c,t)}async generateContentInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Pd(this.apiClient,t);return u=V("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=Md(f),p=new Ao;return Object.assign(p,h),p})}else{const d=Nd(this.apiClient,t);return u=V("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=Rd(f),p=new Ao;return Object.assign(p,h),p})}}async generateContentStreamInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Pd(this.apiClient,t);return u=V("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(h){return eo(this,arguments,function*(){var p,v,E,S;try{for(var A=!0,x=Bo(h),y;y=yield ve(x.next()),p=y.done,!p;A=!0){S=y.value,A=!1;const g=S,C=Md(yield ve(g.json()));C.sdkHttpResponse={headers:g.headers};const _=new Ao;Object.assign(_,C),yield yield ve(_)}}catch(g){v={error:g}}finally{try{!A&&!p&&(E=x.return)&&(yield ve(E.call(x)))}finally{if(v)throw v.error}}})})}else{const d=Nd(this.apiClient,t);return u=V("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(h){return eo(this,arguments,function*(){var p,v,E,S;try{for(var A=!0,x=Bo(h),y;y=yield ve(x.next()),p=y.done,!p;A=!0){S=y.value,A=!1;const g=S,C=Rd(yield ve(g.json()));C.sdkHttpResponse={headers:g.headers};const _=new Ao;Object.assign(_,C),yield yield ve(_)}}catch(g){v={error:g}}finally{try{!A&&!p&&(E=x.return)&&(yield ve(E.call(x)))}finally{if(v)throw v.error}}})})}}async embedContent(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=hC(this.apiClient,t);return u=V("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=gC(f),p=new fd;return Object.assign(p,h),p})}else{const d=pC(this.apiClient,t);return u=V("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=mC(f),p=new fd;return Object.assign(p,h),p})}}async generateImagesInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=AC(this.apiClient,t);return u=V("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=NC(f),p=new pd;return Object.assign(p,h),p})}else{const d=IC(this.apiClient,t);return u=V("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=kC(f),p=new pd;return Object.assign(p,h),p})}}async editImageInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=uC(this.apiClient,t);return i=V("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=cC(c),f=new v0;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=AE(this.apiClient,t);return i=V("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=kE(c),f=new x0;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=aE(this.apiClient,t);return i=V("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=uE(c),f=new C0;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=mE(this.apiClient,t);return i=V("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=gE(c),f=new E0;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=WC(this.apiClient,t);return u=V("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Al(f))}else{const d=JC(this.apiClient,t);return u=V("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Il(f))}}async listInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=tE(this.apiClient,t);return u=V("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=oE(f),p=new hd;return Object.assign(p,h),p})}else{const d=eE(this.apiClient,t);return u=V("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=nE(f),p=new hd;return Object.assign(p,h),p})}}async update(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=wE(this.apiClient,t);return u=V("{model}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Al(f))}else{const d=_E(this.apiClient,t);return u=V("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Il(f))}}async delete(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=iC(this.apiClient,t);return u=V("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=lC(f),p=new md;return Object.assign(p,h),p})}else{const d=rC(this.apiClient,t);return u=V("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=sC(f),p=new md;return Object.assign(p,h),p})}}async countTokens(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=tC(this.apiClient,t);return u=V("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=oC(f),p=new gd;return Object.assign(p,h),p})}else{const d=eC(this.apiClient,t);return u=V("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=nC(f),p=new gd;return Object.assign(p,h),p})}}async computeTokens(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=Ox(this.apiClient,t);return i=V("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=Yx(c),f=new S0;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=FC(this.apiClient,t);return u=V("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>{const h=DC(f),p=new Ci;return Object.assign(p,h),p})}else{const d=LC(this.apiClient,t);return u=V("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>{const h=MC(f),p=new Ci;return Object.assign(p,h),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ES extends Jt{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=f0(t);return u=V("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l}else{const d=d0(t);return u=V("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l}}async fetchPredictVideosOperationInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=r0(t);return i=V("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SS(e){const t={},n=s(e,["data"]);if(n!=null&&a(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function TS(e){const t={},n=s(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>MS(i))),a(t,["parts"],r)}const o=s(e,["role"]);return o!=null&&a(t,["role"],o),t}function _S(e,t,n){const o={},r=s(t,["expireTime"]);n!==void 0&&r!=null&&a(n,["expireTime"],r);const i=s(t,["newSessionExpireTime"]);n!==void 0&&i!=null&&a(n,["newSessionExpireTime"],i);const l=s(t,["uses"]);n!==void 0&&l!=null&&a(n,["uses"],l);const u=s(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&a(n,["bidiGenerateContentSetup"],RS(e,u));const c=s(t,["lockAdditionalFields"]);return n!==void 0&&c!=null&&a(n,["fieldMask"],c),o}function wS(e,t){const n={},o=s(t,["config"]);return o!=null&&a(n,["config"],_S(e,o,n)),n}function IS(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function AS(e){const t={},n=s(e,["id"]);n!=null&&a(t,["id"],n);const o=s(e,["args"]);o!=null&&a(t,["args"],o);const r=s(e,["name"]);if(r!=null&&a(t,["name"],r),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function kS(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function NS(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function PS(e,t){const n={},o=s(e,["generationConfig"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig"],o);const r=s(e,["responseModalities"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","responseModalities"],r);const i=s(e,["temperature"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","temperature"],i);const l=s(e,["topP"]);t!==void 0&&l!=null&&a(t,["setup","generationConfig","topP"],l);const u=s(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const c=s(e,["maxOutputTokens"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","maxOutputTokens"],c);const d=s(e,["mediaResolution"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","mediaResolution"],d);const f=s(e,["seed"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","seed"],f);const h=s(e,["speechConfig"]);t!==void 0&&h!=null&&a(t,["setup","generationConfig","speechConfig"],Ra(h));const p=s(e,["thinkingConfig"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","thinkingConfig"],p);const v=s(e,["enableAffectiveDialog"]);t!==void 0&&v!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],v);const E=s(e,["systemInstruction"]);t!==void 0&&E!=null&&a(t,["setup","systemInstruction"],TS(Oe(E)));const S=s(e,["tools"]);if(t!==void 0&&S!=null){let I=ho(S);Array.isArray(I)&&(I=I.map(w=>LS(po(w)))),a(t,["setup","tools"],I)}const A=s(e,["sessionResumption"]);t!==void 0&&A!=null&&a(t,["setup","sessionResumption"],DS(A));const x=s(e,["inputAudioTranscription"]);t!==void 0&&x!=null&&a(t,["setup","inputAudioTranscription"],x);const y=s(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&a(t,["setup","outputAudioTranscription"],y);const g=s(e,["realtimeInputConfig"]);t!==void 0&&g!=null&&a(t,["setup","realtimeInputConfig"],g);const C=s(e,["contextWindowCompression"]);t!==void 0&&C!=null&&a(t,["setup","contextWindowCompression"],C);const _=s(e,["proactivity"]);return t!==void 0&&_!=null&&a(t,["setup","proactivity"],_),n}function RS(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["setup","model"],se(e,o));const r=s(t,["config"]);return r!=null&&a(n,["config"],PS(r,n)),n}function MS(e){const t={},n=s(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=s(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=s(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=s(e,["fileData"]);i!=null&&a(t,["fileData"],IS(i));const l=s(e,["functionCall"]);l!=null&&a(t,["functionCall"],AS(l));const u=s(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=s(e,["inlineData"]);c!=null&&a(t,["inlineData"],SS(c));const d=s(e,["text"]);d!=null&&a(t,["text"],d);const f=s(e,["thought"]);f!=null&&a(t,["thought"],f);const h=s(e,["thoughtSignature"]);h!=null&&a(t,["thoughtSignature"],h);const p=s(e,["videoMetadata"]);return p!=null&&a(t,["videoMetadata"],p),t}function DS(e){const t={},n=s(e,["handle"]);if(n!=null&&a(t,["handle"],n),s(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function LS(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const r=s(e,["computerUse"]);r!=null&&a(t,["computerUse"],r);const i=s(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],kS(u));const c=s(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],NS(c));const d=s(e,["urlContext"]);return d!=null&&a(t,["urlContext"],d),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FS(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const o=e[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(i=>`${n}.${i}`);t.push(...r)}else t.push(n)}return t.join(",")}function US(e,t){let n=null;const o=e.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const i=o.setup;typeof i=="object"&&i!==null?(e.bidiGenerateContentSetup=i,n=i):delete e.bidiGenerateContentSetup}else o!==void 0&&delete e.bidiGenerateContentSetup;const r=e.fieldMask;if(n){const i=FS(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)i?e.fieldMask=i:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];r.length>0&&(u=r.map(d=>l.includes(d)?`generationConfig.${d}`:d));const c=[];i&&c.push(i),u.length>0&&c.push(...u),c.length>0?e.fieldMask=c.join(","):delete e.fieldMask}else delete e.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?e.fieldMask=r.join(","):delete e.fieldMask;return e}class VS extends Jt{constructor(t){super(),this.apiClient=t}async create(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=wS(this.apiClient,t);i=V("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const c=US(u,t.config);return r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HS(e,t){const n={},o=s(e,["force"]);return t!==void 0&&o!=null&&a(t,["_query","force"],o),n}function GS(e){const t={},n=s(e,["name"]);n!=null&&a(t,["_url","name"],n);const o=s(e,["config"]);return o!=null&&HS(o,t),t}function zS(e){const t={},n=s(e,["name"]);return n!=null&&a(t,["_url","name"],n),t}function qS(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function bS(e){const t={},n=s(e,["parent"]);n!=null&&a(t,["_url","parent"],n);const o=s(e,["config"]);return o!=null&&qS(o,t),t}function BS(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["documents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["documents"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $S extends Jt{constructor(t){super(),this.apiClient=t,this.list=async n=>new Pn(Bt.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=zS(t);return i=V("{name}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(t){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=GS(t);r=V("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=bS(t);return i=V("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=BS(c),f=new T0;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JS extends Jt{constructor(t,n=new $S(t)){super(),this.apiClient=t,this.documents=n,this.list=async(o={})=>new Pn(Bt.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=FE(t);return i=V("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async get(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=HE(t);return i=V("{name}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(t){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=VE(t);r=V("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=$E(t);return i=V("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=JE(c),f=new _0;return Object.assign(f,d),f})}}async uploadToFileSearchStoreInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=WE(t);return i=V("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=OE(c),f=new w0;return Object.assign(f,d),f})}}async importFile(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=qE(t);return i=V("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=zE(c),f=new Ia;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WS(e,t){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function OS(e,t){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function YS(e,t){const n={},o=s(e,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function KS(e,t){const n={},o=s(e,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function XS(e,t,n){const o={};if(s(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=s(e,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&a(t,["displayName"],r),s(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=s(e,["epochCount"]);t!==void 0&&i!=null&&a(t,["tuningTask","hyperparameters","epochCount"],i);const l=s(e,["learningRateMultiplier"]);if(l!=null&&a(o,["tuningTask","hyperparameters","learningRateMultiplier"],l),s(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=s(e,["batchSize"]);t!==void 0&&u!=null&&a(t,["tuningTask","hyperparameters","batchSize"],u);const c=s(e,["learningRate"]);if(t!==void 0&&c!=null&&a(t,["tuningTask","hyperparameters","learningRate"],c),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(s(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function QS(e,t,n){const o={};let r=s(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const v=s(e,["validationDataset"]);t!==void 0&&v!=null&&a(t,["supervisedTuningSpec"],Gd(v))}else if(r==="PREFERENCE_TUNING"){const v=s(e,["validationDataset"]);t!==void 0&&v!=null&&a(t,["preferenceOptimizationSpec"],Gd(v))}const i=s(e,["tunedModelDisplayName"]);t!==void 0&&i!=null&&a(t,["tunedModelDisplayName"],i);const l=s(e,["description"]);t!==void 0&&l!=null&&a(t,["description"],l);let u=s(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const v=s(e,["epochCount"]);t!==void 0&&v!=null&&a(t,["supervisedTuningSpec","hyperParameters","epochCount"],v)}else if(u==="PREFERENCE_TUNING"){const v=s(e,["epochCount"]);t!==void 0&&v!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],v)}let c=s(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const v=s(e,["learningRateMultiplier"]);t!==void 0&&v!=null&&a(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v)}else if(c==="PREFERENCE_TUNING"){const v=s(e,["learningRateMultiplier"]);t!==void 0&&v!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],v)}let d=s(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const v=s(e,["exportLastCheckpointOnly"]);t!==void 0&&v!=null&&a(t,["supervisedTuningSpec","exportLastCheckpointOnly"],v)}else if(d==="PREFERENCE_TUNING"){const v=s(e,["exportLastCheckpointOnly"]);t!==void 0&&v!=null&&a(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],v)}let f=s(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const v=s(e,["adapterSize"]);t!==void 0&&v!=null&&a(t,["supervisedTuningSpec","hyperParameters","adapterSize"],v)}else if(f==="PREFERENCE_TUNING"){const v=s(e,["adapterSize"]);t!==void 0&&v!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],v)}if(s(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=s(e,["labels"]);t!==void 0&&h!=null&&a(t,["labels"],h);const p=s(e,["beta"]);return t!==void 0&&p!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","beta"],p),o}function ZS(e,t){const n={},o=s(e,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=s(e,["preTunedModel"]);r!=null&&a(n,["preTunedModel"],r);const i=s(e,["trainingDataset"]);i!=null&&uT(i);const l=s(e,["config"]);return l!=null&&XS(l,n),n}function jS(e,t){const n={},o=s(e,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=s(e,["preTunedModel"]);r!=null&&a(n,["preTunedModel"],r);const i=s(e,["trainingDataset"]);i!=null&&cT(i,n,t);const l=s(e,["config"]);return l!=null&&QS(l,n,t),n}function eT(e,t){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function tT(e,t){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function nT(e,t,n){const o={},r=s(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const i=s(e,["pageToken"]);t!==void 0&&i!=null&&a(t,["_query","pageToken"],i);const l=s(e,["filter"]);return t!==void 0&&l!=null&&a(t,["_query","filter"],l),o}function oT(e,t,n){const o={},r=s(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const i=s(e,["pageToken"]);t!==void 0&&i!=null&&a(t,["_query","pageToken"],i);const l=s(e,["filter"]);return t!==void 0&&l!=null&&a(t,["_query","filter"],l),o}function rT(e,t){const n={},o=s(e,["config"]);return o!=null&&nT(o,n),n}function iT(e,t){const n={},o=s(e,["config"]);return o!=null&&oT(o,n),n}function sT(e,t){const n={},o=s(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=s(e,["tunedModels"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Uh(u))),a(n,["tuningJobs"],l)}return n}function lT(e,t){const n={},o=s(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=s(e,["tuningJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Nl(u))),a(n,["tuningJobs"],l)}return n}function aT(e,t){const n={},o=s(e,["name"]);o!=null&&a(n,["model"],o);const r=s(e,["name"]);return r!=null&&a(n,["endpoint"],r),n}function uT(e,t){const n={};if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=s(e,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(n,["examples","examples"],r)}return n}function cT(e,t,n){const o={};let r=s(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const l=s(e,["gcsUri"]);t!==void 0&&l!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(r==="PREFERENCE_TUNING"){const l=s(e,["gcsUri"]);t!==void 0&&l!=null&&a(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let i=s(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=s(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=s(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&a(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(s(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Uh(e,t){const n={},o=s(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(e,["name"]);r!=null&&a(n,["name"],r);const i=s(e,["state"]);i!=null&&a(n,["state"],gh(i));const l=s(e,["createTime"]);l!=null&&a(n,["createTime"],l);const u=s(e,["tuningTask","startTime"]);u!=null&&a(n,["startTime"],u);const c=s(e,["tuningTask","completeTime"]);c!=null&&a(n,["endTime"],c);const d=s(e,["updateTime"]);d!=null&&a(n,["updateTime"],d);const f=s(e,["description"]);f!=null&&a(n,["description"],f);const h=s(e,["baseModel"]);h!=null&&a(n,["baseModel"],h);const p=s(e,["_self"]);return p!=null&&a(n,["tunedModel"],aT(p)),n}function Nl(e,t){const n={},o=s(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(e,["name"]);r!=null&&a(n,["name"],r);const i=s(e,["state"]);i!=null&&a(n,["state"],gh(i));const l=s(e,["createTime"]);l!=null&&a(n,["createTime"],l);const u=s(e,["startTime"]);u!=null&&a(n,["startTime"],u);const c=s(e,["endTime"]);c!=null&&a(n,["endTime"],c);const d=s(e,["updateTime"]);d!=null&&a(n,["updateTime"],d);const f=s(e,["error"]);f!=null&&a(n,["error"],f);const h=s(e,["description"]);h!=null&&a(n,["description"],h);const p=s(e,["baseModel"]);p!=null&&a(n,["baseModel"],p);const v=s(e,["tunedModel"]);v!=null&&a(n,["tunedModel"],v);const E=s(e,["preTunedModel"]);E!=null&&a(n,["preTunedModel"],E);const S=s(e,["supervisedTuningSpec"]);S!=null&&a(n,["supervisedTuningSpec"],S);const A=s(e,["preferenceOptimizationSpec"]);A!=null&&a(n,["preferenceOptimizationSpec"],A);const x=s(e,["tuningDataStats"]);x!=null&&a(n,["tuningDataStats"],x);const y=s(e,["encryptionSpec"]);y!=null&&a(n,["encryptionSpec"],y);const g=s(e,["partnerModelTuningSpec"]);g!=null&&a(n,["partnerModelTuningSpec"],g);const C=s(e,["customBaseModel"]);C!=null&&a(n,["customBaseModel"],C);const _=s(e,["experiment"]);_!=null&&a(n,["experiment"],_);const I=s(e,["labels"]);I!=null&&a(n,["labels"],I);const w=s(e,["outputUri"]);w!=null&&a(n,["outputUri"],w);const R=s(e,["pipelineJob"]);R!=null&&a(n,["pipelineJob"],R);const P=s(e,["serviceAccount"]);P!=null&&a(n,["serviceAccount"],P);const M=s(e,["tunedModelDisplayName"]);M!=null&&a(n,["tunedModelDisplayName"],M);const O=s(e,["veoTuningSpec"]);return O!=null&&a(n,["veoTuningSpec"],O),n}function dT(e,t){const n={},o=s(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(e,["name"]);r!=null&&a(n,["name"],r);const i=s(e,["metadata"]);i!=null&&a(n,["metadata"],i);const l=s(e,["done"]);l!=null&&a(n,["done"],l);const u=s(e,["error"]);return u!=null&&a(n,["error"],u),n}function Gd(e,t){const n={},o=s(e,["gcsUri"]);o!=null&&a(n,["validationDatasetUri"],o);const r=s(e,["vertexDatasetResource"]);return r!=null&&a(n,["validationDatasetUri"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fT extends Jt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Pn(Bt.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),i=await this.tuneMldevInternal(r);let l="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?l=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(l=i.name.split("/operations/")[0]),{name:l,state:Sl.JOB_STATE_QUEUED}}}}async getInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=tT(t);return u=V("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>Nl(f))}else{const d=eT(t);return u=V("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>Uh(f))}}async listInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=iT(t);return u=V("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=lT(f),p=new yd;return Object.assign(p,h),p})}else{const d=rT(t);return u=V("tunedModels",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=sT(f),p=new yd;return Object.assign(p,h),p})}}async cancel(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=OS(t);return u=V("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=KS(f),p=new vd;return Object.assign(p,h),p})}else{const d=WS(t);return u=V("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=YS(f),p=new vd;return Object.assign(p,h),p})}}async tuneInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=jS(t,t);return i=V("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>Nl(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ZS(t);return i=V("tunedModels",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>dT(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pT{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const hT=1024*1024*8,mT=3,gT=1e3,yT=2,Si="x-goog-upload-status";async function vT(e,t,n){var o;const r=await Vh(e,t,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[Si])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function xT(e,t,n){var o;const r=await Vh(e,t,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[Si])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=ch(i),u=new Aa;return Object.assign(u,l),u}async function Vh(e,t,n){var o,r;let i=0,l=0,u=new Tl(new Response),c="upload";for(i=e.size;l<i;){const d=Math.min(hT,i-l),f=e.slice(l,l+d);l+d>=i&&(c+=", finalize");let h=0,p=gT;for(;h<mT&&(u=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((o=u==null?void 0:u.headers)===null||o===void 0)&&o[Si]));)h++,await ET(p),p=p*yT;if(l+=d,((r=u==null?void 0:u.headers)===null||r===void 0?void 0:r[Si])!=="active")break;if(i<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function CT(e){return{size:e.size,type:e.type}}function ET(e){return new Promise(t=>setTimeout(t,e))}class ST{async upload(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await vT(t,n,o)}async uploadToFileSearchStore(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await xT(t,n,o)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await CT(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TT{create(t,n,o){return new _T(t,n,o)}}class _T{constructor(t,n,o){this.url=t,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zd="x-goog-api-key";class wT{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(zd)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(zd,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IT="gl-node/";class AT{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const o=n0(t.httpOptions,t.vertexai,void 0,void 0);o&&(t.httpOptions?t.httpOptions.baseUrl=o:t.httpOptions={baseUrl:o}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new wT(this.apiKey);this.apiClient=new tS({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:IT+"web",uploader:new ST,downloader:new pT}),this.models=new CS(this.apiClient),this.live=new hS(this.apiClient,r,new TT),this.batches=new Rv(this.apiClient),this.chats=new fx(this.models,this.apiClient),this.caches=new ux(this.apiClient),this.files=new Sx(this.apiClient),this.operations=new ES(this.apiClient),this.authTokens=new VS(this.apiClient),this.tunings=new fT(this.apiClient),this.fileSearchStores=new JS(this.apiClient)}}const kT=async e=>{var t,n,o,r;try{const u=(r=(o=(n=(t=(await new AT({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{text:e}]},config:{imageConfig:{aspectRatio:"1:1"}}})).candidates)==null?void 0:t[0])==null?void 0:n.content)==null?void 0:o.parts)==null?void 0:r.find(c=>c.inlineData);if(u&&u.inlineData)return`data:${u.inlineData.mimeType};base64,${u.inlineData.data}`;throw new Error("No image data returned from API")}catch(i){throw console.error("Image generation failed:",i),i}},Ti=1080,qd=["Roboto","Open Sans","Montserrat","Poppins","Lato","Oswald","Raleway","Nunito","Quicksand","Josefin Sans","Ubuntu","Dosis","Titillium Web","Barlow","Heebo","Cabin","Exo 2","Didact Gothic","Varela Round","Merriweather","Playfair Display","Lora","Roboto Slab","Cinzel","Vollkorn","Old Standard TT","Dm Serif Display","Alice","Alike","Anton","Bebas Neue","Fjalla One","Abril Fatface","Alfa Slab One","Bangers","Russo One","Luckiest Guy","Black Ops One","Passion One","Audiowide","Orbitron","Press Start 2P","Monoton","Righteous","Fredoka One","Changa One","Lilita One","Concert One","Carter One","Bowlby One SC","Sigmar One","Ultra","Lobster","Pacifico","Dancing Script","Caveat","Satisfy","Great Vibes","Shadows Into Light","Indie Flower","Amatic SC","Permanent Marker","Sacramento","Cookie","Yellowtail","Courgette","Allura","Parisienne","Kaushan Script","Marck Script","Tangerine","Mr Dafoe","Berkshire Swash","Playball","Yesteryear","Zeyada","League Script","Cedarville Cursive","Comic Neue","Chewy","Handlee","Coming Soon","Patrick Hand","Architects Daughter","Kalam","Gloria Hallelujah","Covered By Your Grace","Annie Use Your Telescope","Nothing You Could Do","Reenie Beanie","Rock Salt","Special Elite","Boogaloo","Neucha","Amita","Creepster","Comfortaa","Signika","Abel","Acme","El Messiri","Merienda","Voltaire","Unkempt","Nanum Pen Script","Lobster Two"].sort(),bd=["#ffffff","#000000","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#a855f7","transparent"],_i=(e,t)=>Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2)),wi=(e,t)=>Math.atan2(t.clientY-e.clientY,t.clientX-e.clientX)*180/Math.PI,Ii=(e,t)=>({x:(e.clientX+t.clientX)/2,y:(e.clientY+t.clientY)/2}),NT=e=>new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}).format(new Date(e));function ye({icon:e,label:t,onClick:n,active:o,danger:r}){return m.jsxs("button",{onClick:n,className:`min-w-[64px] flex flex-col items-center gap-1.5 p-2 rounded-lg transition-all select-none snap-center ${o?"bg-brand-500 text-white shadow-lg shadow-brand-500/30 -translate-y-1":r?"text-red-400 hover:bg-white/10":"text-gray-400 hover:text-white hover:bg-white/10"}`,children:[m.jsx("div",{className:`${o?"scale-110":""} transition-transform`,children:e}),m.jsx("span",{className:"text-[10px] font-medium whitespace-nowrap opacity-90",children:t})]})}function PT({title:e,onClose:t}){return m.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-700/50 bg-workspace-800/80 backdrop-blur-md sticky top-0 z-10",children:[m.jsx("h3",{className:"text-xs font-bold text-white uppercase tracking-wider flex items-center gap-2",children:e}),m.jsx("button",{onClick:t,className:"p-1.5 hover:bg-white/10 rounded-full text-gray-400 hover:text-white bg-gray-700/50",children:m.jsx(Cl,{size:16})})]})}const RT=({isOpen:e,title:t,message:n,onConfirm:o,onCancel:r})=>e?m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-200 px-4",children:m.jsxs("div",{className:"bg-workspace-800/80 backdrop-blur-xl border border-gray-600/50 rounded-xl p-6 shadow-2xl max-w-sm w-full animate-in zoom-in-95 duration-200",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4 text-amber-500",children:[m.jsx(Ry,{size:24}),m.jsx("h3",{className:"text-lg font-bold text-white",children:t})]}),m.jsx("p",{className:"text-gray-200 mb-6 text-sm leading-relaxed",children:n}),m.jsxs("div",{className:"flex gap-3 justify-end",children:[m.jsx("button",{onClick:r,className:"px-4 py-2 rounded-lg bg-gray-700/80 text-white hover:bg-gray-600 font-medium text-sm border border-gray-600",children:"Cancelar"}),m.jsx("button",{onClick:o,className:"px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-500 font-bold text-sm shadow-lg",children:"Excluir"})]})]})}):null,MT=({imageUrl:e,onCancel:t,onSave:n})=>{const[o,r]=F.useState({width:0,height:0,naturalWidth:0,naturalHeight:0}),[i,l]=F.useState({x:10,y:10,width:80,height:80}),u=F.useRef(null),c=F.useRef(null),d=p=>{const v=p.currentTarget;r({width:v.width,height:v.height,naturalWidth:v.naturalWidth,naturalHeight:v.naturalHeight})},f=(p,v)=>{p.preventDefault(),p.stopPropagation();const E=u.current;if(!E)return;const S=E.getBoundingClientRect(),A=_=>{const I="touches"in _?_.touches[0].clientX:_.clientX,w="touches"in _?_.touches[0].clientY:_.clientY;return{x:(I-S.left)/S.width*100,y:(w-S.top)/S.height*100}},x=A(p.nativeEvent),y={...i},g=_=>{_.preventDefault();const I=A(_),w=I.x-x.x,R=I.y-x.y;let P={...y};if(v==="move")P.x=Math.min(Math.max(0,y.x+w),100-y.width),P.y=Math.min(Math.max(0,y.y+R),100-y.height);else{if(v.includes("w")){const M=Math.min(Math.max(0,y.x+w),y.x+y.width-5);P.width=y.width+(y.x-M),P.x=M}if(v.includes("e")&&(P.width=Math.min(Math.max(5,y.width+w),100-y.x)),v.includes("n")){const M=Math.min(Math.max(0,y.y+R),y.y+y.height-5);P.height=y.height+(y.y-M),P.y=M}v.includes("s")&&(P.height=Math.min(Math.max(5,y.height+R),100-y.y))}l(P)},C=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",C),document.removeEventListener("touchmove",g),document.removeEventListener("touchend",C)};document.addEventListener("mousemove",g),document.addEventListener("mouseup",C),document.addEventListener("touchmove",g,{passive:!1}),document.addEventListener("touchend",C)},h=()=>{if(!o.naturalWidth)return;const p=document.createElement("canvas"),v=o.naturalWidth/100,E=o.naturalHeight/100,S=i.x*v,A=i.y*E,x=i.width*v,y=i.height*E;p.width=x,p.height=y;const g=p.getContext("2d");!g||!c.current||(g.drawImage(c.current,S,A,x,y,0,0,x,y),n(p.toDataURL(),x,y))};return m.jsxs("div",{className:"fixed inset-0 z-50 bg-black flex flex-col animate-in fade-in duration-200",children:[m.jsxs("div",{className:"h-14 flex items-center justify-between px-4 bg-workspace-800",children:[m.jsx("button",{onClick:t,className:"text-white text-sm font-medium",children:"Cancelar"}),m.jsx("span",{className:"text-white font-bold uppercase text-sm",children:"Recortar Imagem"}),m.jsxs("button",{onClick:h,className:"bg-brand-600 px-4 py-1.5 rounded-full text-white text-sm font-bold flex items-center gap-1",children:[m.jsx(_a,{size:14})," Pronto"]})]}),m.jsx("div",{className:"flex-1 relative flex items-center justify-center p-8 bg-workspace-900 overflow-hidden touch-none",children:m.jsxs("div",{ref:u,className:"relative inline-block shadow-2xl",children:[m.jsx("img",{ref:c,src:e,onLoad:d,className:"max-w-full max-h-[70vh] object-contain pointer-events-none select-none block",alt:""}),o.width>0&&m.jsxs("div",{className:"absolute border-2 border-white cursor-move touch-none",style:{left:`${i.x}%`,top:`${i.y}%`,width:`${i.width}%`,height:`${i.height}%`,boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.6)"},onMouseDown:p=>f(p,"move"),onTouchStart:p=>f(p,"move"),children:[m.jsxs("div",{className:"absolute inset-0 flex flex-col pointer-events-none opacity-30",children:[m.jsx("div",{className:"flex-1 border-b border-white"}),m.jsx("div",{className:"flex-1 border-b border-white"}),m.jsx("div",{className:"flex-1"})]}),m.jsxs("div",{className:"absolute inset-0 flex pointer-events-none opacity-30",children:[m.jsx("div",{className:"flex-1 border-r border-white"}),m.jsx("div",{className:"flex-1 border-r border-white"}),m.jsx("div",{className:"flex-1"})]}),m.jsx("div",{className:"absolute -top-3 -left-3 w-6 h-6 border-t-4 border-l-4 border-white rounded-tl-sm cursor-nw-resize pointer-events-auto touch-none",onMouseDown:p=>f(p,"nw"),onTouchStart:p=>f(p,"nw")}),m.jsx("div",{className:"absolute -top-3 -right-3 w-6 h-6 border-t-4 border-r-4 border-white rounded-tr-sm cursor-ne-resize pointer-events-auto touch-none",onMouseDown:p=>f(p,"ne"),onTouchStart:p=>f(p,"ne")}),m.jsx("div",{className:"absolute -bottom-3 -left-3 w-6 h-6 border-b-4 border-l-4 border-white rounded-bl-sm cursor-sw-resize pointer-events-auto touch-none",onMouseDown:p=>f(p,"sw"),onTouchStart:p=>f(p,"sw")}),m.jsx("div",{className:"absolute -bottom-3 -right-3 w-6 h-6 border-b-4 border-r-4 border-white rounded-br-sm cursor-se-resize pointer-events-auto touch-none",onMouseDown:p=>f(p,"se"),onTouchStart:p=>f(p,"se")})]})]})})]})},DT=({imageUrl:e,initialMaskUrl:t,onCancel:n,onSave:o})=>{var j,ke;const[r,i]=F.useState("erase"),[l,u]=F.useState(30),[c,d]=F.useState(80),[f,h]=F.useState(40),[p,v]=F.useState(!1),E=F.useRef(null),S=F.useRef(null),A=F.useRef(null),[x,y]=F.useState({x:window.innerWidth/2,y:window.innerHeight/2,scale:.85,rotation:0}),g=F.useRef(x);F.useEffect(()=>{g.current=x},[x]),F.useEffect(()=>{const H=new Image;H.crossOrigin="Anonymous",H.src=e,H.onload=()=>{S.current=H;const J=E.current;if(!J)return;J.width=H.width,J.height=H.height;const B=J.getContext("2d",{willReadFrequently:!0});if(!B)return;if(B.drawImage(H,0,0),t){const K=new Image;K.crossOrigin="Anonymous",K.src=t,K.onload=()=>{B.globalCompositeOperation="destination-in",B.drawImage(K,0,0,J.width,J.height),B.globalCompositeOperation="source-over"}}const k=(window.innerWidth-40)/H.width,G=(window.innerHeight-200)/H.height,U=Math.min(k,G,1);y({x:window.innerWidth/2,y:window.innerHeight/2-50,scale:U,rotation:0})}},[e,t]),F.useEffect(()=>{const H=A.current;if(!H)return;let J=!1,B={...g.current},k=0,G=0,U={x:0,y:0},K=!1;const Z=$=>{if($.preventDefault(),$.ctrlKey){const oe=$.deltaY>0?.9:1.1;y(Ce=>({...Ce,scale:Math.min(5,Math.max(.1,Ce.scale*oe))}))}else y(oe=>({...oe,x:oe.x-$.deltaX,y:oe.y-$.deltaY}))},fe=$=>{if($.touches.length===2)J=!0,K=!1,B={...g.current},k=_i($.touches[0],$.touches[1]),G=wi($.touches[0],$.touches[1]),U=Ii($.touches[0],$.touches[1]);else if($.touches.length===1&&!J){K=!0;const{x:oe,y:Ce}=C($.touches[0].clientX,$.touches[0].clientY);I(oe,Ce)}},ue=$=>{if(J&&$.touches.length===2){$.preventDefault(),$.stopPropagation();const oe=_i($.touches[0],$.touches[1]),Ce=wi($.touches[0],$.touches[1]),Ne=Ii($.touches[0],$.touches[1]),be=oe/k;let He=Ce-G;He>180&&(He-=360),He<-180&&(He+=360);const Fe=Math.min(10,Math.max(.1,B.scale*be)),pe=Ne.x+(B.x-U.x)*be,Be=Ne.y+(B.y-U.y)*be;y({x:pe,y:Be,scale:Fe,rotation:B.rotation+He})}else if(K&&$.touches.length===1){$.preventDefault();const{x:oe,y:Ce}=C($.touches[0].clientX,$.touches[0].clientY);w(oe,Ce)}},ce=$=>{$.touches.length<2&&(J=!1),$.touches.length===0&&(K=!1)};return H.addEventListener("wheel",Z,{passive:!1}),H.addEventListener("touchstart",fe,{passive:!1}),H.addEventListener("touchmove",ue,{passive:!1}),H.addEventListener("touchend",ce),()=>{H.removeEventListener("wheel",Z),H.removeEventListener("touchstart",fe),H.removeEventListener("touchmove",ue),H.removeEventListener("touchend",ce)}},[r,l,c,f,p]);const C=(H,J)=>{if(!E.current)return{x:0,y:0};const B=H-g.current.x,k=J-g.current.y,G=-g.current.rotation*(Math.PI/180),U=Math.cos(G),K=Math.sin(G),Z=B*U-k*K,fe=B*K+k*U,ue=Z/g.current.scale,ce=fe/g.current.scale,$=ue+E.current.width/2,oe=ce+E.current.height/2;return{x:$,y:oe}},_=(H,J)=>{const B=E.current;if(!B||!S.current)return;const k=B.getContext("2d");k&&(r==="erase"?(k.globalCompositeOperation="destination-out",k.beginPath(),k.arc(H,J,l/2,0,Math.PI*2),c<100?(k.shadowBlur=l/2*(1-c/100),k.shadowColor="black"):(k.shadowBlur=0,k.filter="none"),k.fill(),k.shadowBlur=0):r==="restore"&&(k.globalCompositeOperation="source-over",k.save(),k.beginPath(),k.arc(H,J,l/2,0,Math.PI*2),c>=100&&(k.filter="none"),k.clip(),k.drawImage(S.current,0,0),k.restore()))},I=(H,J)=>{r==="erase"||r==="restore"?_(H,J):r==="wand"?M(H,J):r==="smart"&&O(H,J)},w=(H,J)=>{(r==="erase"||r==="restore")&&_(H,J)},R=H=>{const{x:J,y:B}=C(H.clientX,H.clientY);I(J,B)},P=H=>{if(H.buttons===1){const{x:J,y:B}=C(H.clientX,H.clientY);w(J,B)}},M=(H,J)=>{const B=E.current;if(!B)return;const k=B.getContext("2d",{willReadFrequently:!0});if(!k)return;const G=k.getImageData(0,0,B.width,B.height),U=G.data,K=Math.floor(H),Z=Math.floor(J);if(K<0||K>=B.width||Z<0||Z>=B.height)return;const fe=(Z*B.width+K)*4,ue=U[fe],ce=U[fe+1],$=U[fe+2],oe=U[fe+3];if(!p&&oe===0)return;const Ce=f*2.55;for(let Ne=0;Ne<U.length;Ne+=4){if(U[Ne+3]===0&&!p)continue;const be=U[Ne],He=U[Ne+1],Fe=U[Ne+2];Math.abs(be-ue)+Math.abs(He-ce)+Math.abs(Fe-$)<Ce&&(p?U[Ne+3]=255:U[Ne+3]=0)}k.putImageData(G,0,0)},O=(H,J)=>{const B=E.current;if(!B)return;const k=B.getContext("2d",{willReadFrequently:!0});if(!k)return;const G=B.width,U=B.height,K=k.getImageData(0,0,G,U),Z=K.data,fe=Math.floor(H),ue=Math.floor(J);if(fe<0||fe>=G||ue<0||ue>=U)return;const ce=[[fe,ue]],$=new Uint8Array(G*U),oe=(ue*G+fe)*4,Ce=Z[oe],Ne=Z[oe+1],be=Z[oe+2],He=Z[oe+3],Fe=f*2.55;if(!(!p&&He===0)){for(;ce.length;){const[pe,Be]=ce.pop(),dt=Be*G+pe;if($[dt])continue;$[dt]=1;const rt=dt*4,xt=Z[rt],de=Z[rt+1],Rn=Z[rt+2];Math.abs(xt-Ce)+Math.abs(de-Ne)+Math.abs(Rn-be)>Fe||(pe>0&&ce.push([pe-1,Be]),pe<G-1&&ce.push([pe+1,Be]),Be>0&&ce.push([pe,Be-1]),Be<U-1&&ce.push([pe,Be+1]))}for(let pe=0;pe<G*U;pe++)p?$[pe]||(Z[pe*4+3]=0):$[pe]&&(Z[pe*4+3]=0);k.putImageData(K,0,0)}},Q=()=>{E.current&&o(E.current.toDataURL())};return m.jsxs("div",{className:"fixed inset-0 z-50 bg-workspace-900 flex flex-col animate-in fade-in duration-200",children:[m.jsxs("div",{className:"h-14 flex items-center justify-between px-4 bg-workspace-800 border-b border-gray-700 z-10",children:[m.jsx("button",{onClick:n,className:"text-white text-sm font-medium",children:"Cancelar"}),m.jsx("span",{className:"text-white font-bold uppercase text-sm",children:"Removedor de Fundo"}),m.jsxs("button",{onClick:Q,className:"bg-brand-600 px-4 py-1.5 rounded-full text-white text-sm font-bold flex items-center gap-1",children:[m.jsx(_a,{size:14})," Salvar"]})]}),m.jsx("div",{ref:A,className:"flex-1 relative overflow-hidden cursor-crosshair touch-none checkerboard",onMouseDown:R,onMouseMove:P,children:m.jsx("div",{style:{transform:`translate(${x.x}px, ${x.y}px) scale(${x.scale}) rotate(${x.rotation}deg)`,transformOrigin:"top left",position:"absolute",top:0,left:0},className:"origin-top-left",children:m.jsxs("div",{style:{position:"relative",width:((j=S.current)==null?void 0:j.width)||0,height:((ke=S.current)==null?void 0:ke.height)||0,transform:"translate(-50%, -50%)"},children:[m.jsx("img",{src:e,className:"absolute inset-0 opacity-20 pointer-events-none grayscale",alt:"Ghost"}),m.jsx("canvas",{ref:E,className:"absolute inset-0"})]})})}),m.jsxs("div",{className:"bg-workspace-800 border-t border-gray-700 p-4 safe-area-pb z-10",children:[m.jsxs("div",{className:"flex items-center justify-center gap-6 mb-4",children:[(r==="erase"||r==="restore")&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex flex-col items-center gap-1",children:[m.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase",children:"Tamanho"}),m.jsx("input",{type:"range",min:"5",max:"100",value:l,onChange:H=>u(Number(H.target.value)),className:"w-24 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-brand-500"})]}),m.jsxs("div",{className:"flex flex-col items-center gap-1",children:[m.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase",children:"Dureza"}),m.jsx("input",{type:"range",min:"0",max:"100",value:c,onChange:H=>d(Number(H.target.value)),className:"w-24 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-brand-500"})]})]}),(r==="wand"||r==="smart"||r==="auto")&&m.jsxs("div",{className:"flex flex-col items-center gap-1",children:[m.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase",children:"Tolerncia"}),m.jsx("input",{type:"range",min:"0",max:"100",value:f,onChange:H=>h(Number(H.target.value)),className:"w-24 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-brand-500"})]})]}),m.jsxs("div",{className:"flex items-center justify-between gap-2 overflow-x-auto pb-2 custom-scrollbar",children:[m.jsx(ye,{icon:m.jsx(hl,{size:20}),label:"Apagar",active:r==="erase",onClick:()=>i("erase")}),m.jsx(ye,{icon:m.jsx(Uy,{size:20}),label:"Restaurar",active:r==="restore",onClick:()=>i("restore")}),m.jsx("div",{className:"w-px h-8 bg-gray-700 mx-2"}),m.jsx(ye,{icon:m.jsx(uh,{size:20}),label:"Varinha",active:r==="wand",onClick:()=>i("wand")}),m.jsx(ye,{icon:m.jsx(lh,{size:20}),label:"Objeto",active:r==="smart",onClick:()=>i("smart")}),(r==="wand"||r==="smart")&&m.jsx("button",{onClick:()=>v(!p),className:`ml-2 px-3 py-1 rounded text-xs font-bold border ${p?"bg-green-600 border-green-500 text-white":"bg-red-600 border-red-500 text-white"}`,children:p?"MANTER":"APAGAR"})]})]})]})},LT=({isOpen:e,onClose:t,onCreate:n})=>{const[o,r]=F.useState("Novo Projeto"),[i,l]=F.useState(1080),[u,c]=F.useState(1080);return e?m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm animate-in fade-in px-4",children:m.jsxs("div",{className:"bg-workspace-800 rounded-xl border border-gray-600 shadow-2xl w-full max-w-md p-6",children:[m.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Criar Novo Projeto"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:"Nome do Projeto"}),m.jsx("input",{type:"text",value:o,onChange:d=>r(d.target.value),className:"w-full bg-workspace-900 border border-gray-600 rounded-lg p-3 text-white focus:border-brand-500 outline-none"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:"Largura (px)"}),m.jsx("input",{type:"number",value:i,onChange:d=>l(Number(d.target.value)),className:"w-full bg-workspace-900 border border-gray-600 rounded-lg p-3 text-white focus:border-brand-500 outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:"Altura (px)"}),m.jsx("input",{type:"number",value:u,onChange:d=>c(Number(d.target.value)),className:"w-full bg-workspace-900 border border-gray-600 rounded-lg p-3 text-white focus:border-brand-500 outline-none"})]})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[m.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-300 hover:text-white font-medium",children:"Cancelar"}),m.jsx("button",{onClick:()=>n(o,i,u),className:"px-6 py-2 bg-brand-600 hover:bg-brand-500 text-white rounded-lg font-bold",children:"Criar Projeto"})]})]})}):null},FT=()=>{const[e,t]=F.useState(0),[n,o]=F.useState([]),[r,i]=F.useState(null),[l,u]=F.useState(null);F.useEffect(()=>{const p=[...[{title:"Bem-vindo ao Kanva",text:"Crie designs incrveis para suas redes sociais com facilidade.",icon:m.jsx(vl,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-blue-600 to-purple-600"},{title:"Novas Fontes Disponveis",text:"Mais de 80 fontes para deixar seu texto com a cara do seu projeto.",icon:m.jsx(Do,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-emerald-500 to-teal-700"},{title:"Remova Fundo com IA",text:"Use a ferramenta de varinha mgica para recortar fotos instantaneamente.",icon:m.jsx(uh,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-pink-500 to-rose-600"},{title:"Dica Pro: Camadas",text:"Segure o dedo em uma camada para ver opes avanadas.",icon:m.jsx(ih,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-amber-500 to-orange-600"},{title:"Resetar Visualizao",text:"Toque com dois dedos na tela para resetar o zoom e rotao.",icon:m.jsx(lh,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-indigo-500 to-blue-600"},{title:"Organize seus Projetos",text:"Crie diferentes projetos para Stories, Posts ou Capas.",icon:m.jsx(sh,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-violet-600 to-fuchsia-600"},{title:"Contorno em Texto",text:"Adicione bordas coloridas aos seus textos para destacar.",icon:m.jsx(Mo,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-cyan-500 to-blue-500"},{title:"Formas Geomtricas",text:"Adicione estrelas, coraes e tringulos para decorar.",icon:m.jsx(yl,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-red-500 to-orange-500"},{title:"Travar Camadas",text:"Bloqueie o fundo para no mover sem querer enquanto edita.",icon:m.jsx(ml,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-slate-600 to-slate-800"},{title:"Histrico de Edio",text:"Errou? Use os botes de desfazer e refazer no topo.",icon:m.jsx(ah,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-green-500 to-emerald-600"},{title:"Exportar em Alta",text:"Baixe seus designs em alta qualidade para postar.",icon:m.jsx(rh,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-rose-500 to-pink-600"},{title:"Opacidade Criativa",text:"Brinque com transparncia para criar marcas d'gua.",icon:m.jsx(Wr,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-sky-500 to-indigo-500"},{title:"Gerao de Imagem IA",text:"Descreva o que voc imagina e a IA cria para voc.",icon:m.jsx(vl,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-purple-500 to-pink-500"},{title:"Duplicar Elementos",text:"Segure em uma camada e escolha 'Duplicar' para copiar.",icon:m.jsx(nh,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-teal-500 to-cyan-600"},{title:"Recorte de Imagem",text:"Ajuste o enquadramento de suas fotos facilmente.",icon:m.jsx(oh,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-orange-500 to-red-500"}]].sort(()=>.5-Math.random()).slice(0,10);o(p)},[]),F.useEffect(()=>{if(n.length===0)return;const h=setInterval(()=>{t(p=>(p+1)%n.length)},5e3);return()=>clearInterval(h)},[n.length,e]);const c=h=>{i(h.targetTouches[0].clientX)},d=h=>{u(h.targetTouches[0].clientX)},f=()=>{if(!r||!l)return;const h=r-l,p=50;h>p?t(v=>(v+1)%n.length):h<-p&&t(v=>(v-1+n.length)%n.length),i(null),u(null)};return n.length===0?null:m.jsxs("div",{className:"relative w-full h-32 md:h-40 rounded-2xl overflow-hidden mb-8 shadow-2xl group touch-pan-y",onTouchStart:c,onTouchMove:d,onTouchEnd:f,children:[m.jsx("div",{className:"flex h-full transition-transform duration-500 ease-out",style:{transform:`translateX(-${e*100}%)`},children:n.map((h,p)=>m.jsxs("div",{className:`min-w-full h-full ${h.bg} flex items-center px-6 md:px-10`,children:[m.jsx("div",{className:"mr-6 p-3 bg-white/20 rounded-full backdrop-blur-sm",children:h.icon}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg md:text-2xl font-bold text-white mb-1",children:h.title}),m.jsx("p",{className:"text-white/90 text-xs md:text-sm font-medium",children:h.text})]})]},p))}),m.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-2",children:n.map((h,p)=>m.jsx("button",{onClick:()=>t(p),className:`w-2 h-2 rounded-full transition-all ${p===e?"bg-white w-4":"bg-white/40"}`},p))})]})},UT=({onFinish:e})=>{const[t,n]=F.useState(0);return F.useEffect(()=>{const o=setTimeout(()=>n(1),300),r=setTimeout(()=>n(2),1e3),i=setTimeout(()=>e(),3e3);return()=>{clearTimeout(o),clearTimeout(r),clearTimeout(i)}},[e]),m.jsx("div",{className:"fixed inset-0 z-[100] bg-workspace-900 flex items-center justify-center",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:`w-24 h-24 bg-gradient-to-br from-brand-500 to-purple-600 rounded-3xl flex items-center justify-center shadow-2xl shadow-brand-500/40 relative z-10 transition-all duration-700 cubic-bezier(0.34, 1.56, 0.64, 1) ${t>=1?"scale-100 opacity-100 rotate-0":"scale-50 opacity-0 -rotate-45"}`,children:m.jsx("span",{className:"font-bold text-white text-6xl",children:"K"})}),m.jsx("div",{className:`overflow-hidden transition-all duration-1000 ease-out flex items-center ${t>=2?"max-w-[200px] opacity-100 translate-x-0":"max-w-0 opacity-0 -translate-x-10"}`,children:m.jsx("span",{className:"text-6xl font-bold text-white pl-2 tracking-tighter",children:"anva"})})]})})},VT=({onOpenProject:e,onDeleteProject:t})=>{const[n,o]=F.useState([]),[r,i]=F.useState(null),[l,u]=F.useState(!1),[c,d]=F.useState(!1),[f,h]=F.useState(!1);F.useEffect(()=>{const E=localStorage.getItem("kanva_projects");if(E)try{o(JSON.parse(E).sort((A,x)=>x.lastModified-A.lastModified))}catch(A){console.error("Error loading projects",A)}(async()=>{const A=localStorage.getItem("kanva_custom_fonts");if(A)try{const x=JSON.parse(A);for(const y of x){const g=new FontFace(y.name,`url(${y.data})`);try{await g.load(),document.fonts.add(g)}catch(C){console.error(`Failed to load saved font in Home: ${y.name}`,C)}}h(!0)}catch(x){console.error("Error parsing fonts in Home",x)}})()},[]);const p=(E,S,A)=>{const x=S>0?S:1080,y=A>0?A:1080,g={id:Date.now().toString(),name:E||"Projeto Sem Ttulo",width:x,height:y,lastModified:Date.now(),elements:[{id:"background-layer",type:q.SHAPE_RECT,x:0,y:0,width:x,height:y,rotation:0,locked:!0,visible:!0,style:{backgroundColor:"#ffffff",borderWidth:0,borderColor:"transparent",borderRadius:0}}]},C=[g,...n];localStorage.setItem("kanva_projects",JSON.stringify(C)),o(C),u(!1),e(g)},v=E=>{const S=n.filter(A=>A.id!==E);localStorage.setItem("kanva_projects",JSON.stringify(S)),o(S),i(null)};return m.jsxs("div",{className:"fixed inset-0 w-full h-full bg-workspace-900 text-white font-sans flex flex-col overflow-hidden",children:[m.jsxs("div",{className:"max-w-5xl mx-auto w-full flex flex-col h-full",children:[m.jsxs("div",{className:"shrink-0 p-4 md:p-8 pb-2 z-10 bg-workspace-900",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-brand-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg shadow-brand-500/20",children:m.jsx("span",{className:"font-bold text-white text-xl",children:"K"})}),m.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Kanva"})]}),m.jsx("button",{onClick:()=>d(!0),className:"p-2 bg-workspace-800 rounded-full text-gray-400 hover:text-white border border-gray-700 shadow-sm transition-colors hover:bg-workspace-700",children:m.jsx(By,{size:20})})]}),m.jsx(FT,{}),m.jsxs("h2",{className:"text-xl font-bold mb-2 text-gray-200 flex items-center gap-2",children:[m.jsx(sh,{size:20})," Meus Projetos"]})]}),m.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 pt-2 custom-scrollbar",children:m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 pb-8",children:[m.jsxs("button",{onClick:()=>u(!0),className:"aspect-[3/4] rounded-2xl border-2 border-dashed border-gray-700 bg-workspace-800/50 hover:bg-workspace-800 hover:border-brand-500 transition-all flex flex-col items-center justify-center gap-3 group",children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-brand-500/20 flex items-center justify-center text-brand-500 group-hover:bg-brand-500 group-hover:text-white transition-colors",children:m.jsx(gl,{size:24})}),m.jsx("span",{className:"font-bold text-sm text-gray-400 group-hover:text-white",children:"Novo Projeto"})]}),n.map(E=>{const S=E.width||Ti,A=E.height||Ti,g=Math.min(180/S,240/A)*.85;return m.jsxs("div",{className:"relative aspect-[3/4] group bg-workspace-800 rounded-2xl overflow-hidden border border-gray-700 hover:border-gray-500 transition-all shadow-lg hover:shadow-2xl flex flex-col",children:[m.jsx("div",{onClick:()=>e(E),className:"flex-1 bg-white/5 cursor-pointer relative overflow-hidden checkerboard flex items-center justify-center",children:m.jsx("div",{style:{width:"100%",height:"100%",position:"relative",overflow:"hidden"},children:m.jsx("div",{style:{width:S,height:A,transform:`translate(-50%, -50%) scale(${g})`,transformOrigin:"center center",position:"absolute",left:"50%",top:"50%",backgroundColor:"#fff",overflow:"hidden",boxShadow:"0 0 20px rgba(0,0,0,0.1)"},children:E.elements.map(C=>{var P;const _=C.type===q.TEXT,I=C.type===q.IMAGE,w=!_&&!I,R=C.type===q.SHAPE_RECT||C.type===q.SHAPE_CIRCLE;return m.jsxs("div",{style:{position:"absolute",left:C.x,top:C.y,width:C.width,height:C.height,transform:`rotate(${C.rotation}deg)`,opacity:C.style.opacity,zIndex:C.id==="background-layer"?0:1,backgroundColor:R?C.style.backgroundColor:"transparent",borderRadius:C.type===q.SHAPE_CIRCLE?"50%":C.style.borderRadius,borderWidth:R?C.style.borderWidth:0,borderColor:R?C.style.borderColor:"transparent",borderStyle:R&&C.style.borderWidth?"solid":"none",display:"flex",alignItems:"center",justifyContent:C.style.textAlign==="left"?"flex-start":C.style.textAlign==="right"?"flex-end":"center"},children:[_&&m.jsx("div",{style:{fontSize:C.style.fontSize,color:C.style.color,fontFamily:(P=C.style.fontFamily)==null?void 0:P.replace(/\+/g," "),fontWeight:C.style.fontWeight,textAlign:C.style.textAlign||"center",width:"100%",whiteSpace:"pre-wrap",lineHeight:1.2,WebkitTextStrokeWidth:`${C.style.textStrokeWidth||0}px`,WebkitTextStrokeColor:C.style.textStrokeColor||"transparent"},children:C.content}),I&&m.jsx("div",{style:{width:"100%",height:"100%",borderRadius:`${C.style.borderRadius}px`,border:`${C.style.borderWidth||0}px solid ${C.style.borderColor||"transparent"}`,overflow:"hidden",WebkitMaskImage:C.maskEnabled&&C.maskImage?`url(${C.maskImage})`:"none",maskImage:C.maskEnabled&&C.maskImage?`url(${C.maskImage})`:"none",WebkitMaskSize:"100% 100%",maskSize:"100% 100%",WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat"},children:m.jsx("img",{src:C.content,className:"w-full h-full",style:{objectFit:C.style.objectFit||"cover"}})}),!R&&w&&m.jsxs("svg",{viewBox:C.type===q.SHAPE_HEART?"0 0 24 24":"0 0 100 100",preserveAspectRatio:"none",style:{width:"100%",height:"100%",overflow:"visible"},children:[C.type===q.SHAPE_TRIANGLE&&m.jsx("polygon",{points:"50,0 0,100 100,100",fill:C.style.backgroundColor,stroke:C.style.borderColor,strokeWidth:C.style.borderWidth?C.style.borderWidth/2:0}),C.type===q.SHAPE_DIAMOND&&m.jsx("polygon",{points:"50,0 100,50 50,100 0,50",fill:C.style.backgroundColor,stroke:C.style.borderColor,strokeWidth:C.style.borderWidth?C.style.borderWidth/2:0}),C.type===q.SHAPE_STAR&&m.jsx("polygon",{points:"50,0 61,35 98,35 68,57 79,91 50,70 21,91 32,57 2,35 39,35",fill:C.style.backgroundColor,stroke:C.style.borderColor,strokeWidth:C.style.borderWidth?C.style.borderWidth/2:0}),C.type===q.SHAPE_HEART&&m.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z",fill:C.style.backgroundColor,stroke:C.style.borderColor,strokeWidth:C.style.borderWidth?C.style.borderWidth/2:0})]})]},C.id)})},f?"loaded":"loading")})}),m.jsxs("div",{className:"p-3 bg-workspace-800 border-t border-gray-700 flex items-center justify-between",children:[m.jsxs("div",{className:"flex-1 min-w-0 mr-2",children:[m.jsx("h3",{className:"font-bold text-sm text-white truncate",children:E.name}),m.jsxs("p",{className:"text-[10px] text-gray-500 flex items-center gap-1",children:[m.jsx(Vy,{size:10})," ",NT(E.lastModified)]})]}),m.jsx("button",{onClick:()=>i(E.id),className:"p-1.5 text-gray-500 hover:text-red-400 hover:bg-white/5 rounded-lg transition-colors",children:m.jsx(xl,{size:16})})]}),r===E.id&&m.jsxs("div",{className:"absolute inset-0 bg-black/80 flex flex-col items-center justify-center p-4 text-center z-10 animate-in fade-in duration-200",children:[m.jsx("p",{className:"text-white text-sm font-bold mb-3",children:"Excluir este projeto?"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>i(null),className:"px-3 py-1 bg-gray-700 text-xs rounded-md text-white",children:"Cancelar"}),m.jsx("button",{onClick:()=>v(E.id),className:"px-3 py-1 bg-red-600 text-xs rounded-md text-white",children:"Excluir"})]})]})]},E.id)})]})})]}),m.jsx(LT,{isOpen:l,onClose:()=>u(!1),onCreate:p}),c&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm animate-in fade-in px-4",children:m.jsxs("div",{className:"bg-workspace-800 rounded-xl border border-gray-600 shadow-2xl w-full max-w-sm p-6 text-center animate-in zoom-in-95",children:[m.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Sobre o App"}),m.jsxs("div",{className:"space-y-3 text-gray-300 mb-8",children:[m.jsx("p",{className:"font-medium text-lg",children:"Criado por Erik Henrique"}),m.jsx("p",{className:"text-sm text-gray-500 bg-workspace-900 py-1 px-3 rounded-full inline-block",children:"Verso apenas para testes"}),m.jsx("a",{href:"https://instagram.com/erikhenriquesm",target:"_blank",rel:"noopener noreferrer",className:"text-brand-500 font-bold block hover:underline",children:"@erikhenriquesm"})]}),m.jsx("button",{onClick:()=>d(!1),className:"px-6 py-2.5 bg-brand-600 hover:bg-brand-500 text-white rounded-lg font-bold w-full transition-colors shadow-lg",children:"Fechar"})]})})]})},HT=({project:e,onBack:t})=>{var qa,ba,Ba,$a,Ja,Wa,Oa,Ya,Ka,Xa,Qa;const n=e.width||Ti,o=e.height||Ti,r={id:"background-layer",type:q.SHAPE_RECT,x:0,y:0,width:n,height:o,rotation:0,locked:!0,visible:!0,style:{backgroundColor:"#ffffff",borderWidth:0,borderColor:"transparent",borderRadius:0}},[i,l]=F.useState(e.elements&&e.elements.length>0?e.elements:[r]),[u,c]=F.useState(null),[d,f]=F.useState(null),[h,p]=F.useState(null),[v,E]=F.useState(null),[S,A]=F.useState([]),[x,y]=F.useState(!1),[g,C]=F.useState([]),[_,I]=F.useState([]),[w,R]=F.useState(-1),P=F.useRef(!1),[M,O]=F.useState({x:0,y:0,scale:1,rotation:0}),Q=F.useRef(M),j=F.useRef(null),[ke,H]=F.useState(!1),[J,B]=F.useState(!1),[k,G]=F.useState(""),[U,K]=F.useState(""),[Z,fe]=F.useState(!1),[ue,ce]=F.useState(!1),[$,oe]=F.useState({isOpen:!1,elementId:null}),[Ce,Ne]=F.useState(null),[be,He]=F.useState(null),Fe=F.useRef(null),pe=F.useRef({x:0,y:0}),Be=F.useRef(0),dt=F.useRef(null),rt=F.useRef(null),xt=F.useRef(null);F.useEffect(()=>{(async()=>{const W=localStorage.getItem("kanva_custom_fonts");if(W)try{const b=JSON.parse(W),ee=[];for(const le of b){const Ee=new FontFace(le.name,`url(${le.data})`);try{await Ee.load(),document.fonts.add(Ee),ee.push(le.name)}catch(me){console.error(`Failed to load saved font: ${le.name}`,me)}}A(ee)}catch(b){console.error("Error parsing saved fonts",b)}})();const N=localStorage.getItem("kanva_saved_colors");if(N)try{C(JSON.parse(N))}catch{}},[]),F.useEffect(()=>{(()=>{const N=localStorage.getItem("kanva_projects");if(N){const W=JSON.parse(N),b=W.findIndex(ee=>ee.id===e.id);b!==-1&&(W[b]={...W[b],elements:i,lastModified:Date.now()},localStorage.setItem("kanva_projects",JSON.stringify(W)))}})()},[i,e.id]),F.useEffect(()=>{Q.current=M},[M]),F.useEffect(()=>{const T=()=>{const N=window.innerWidth,W=window.innerHeight-80,b=Math.min(N/(n+100),W/(o+100));O({x:window.innerWidth/2,y:(window.innerHeight-80)/2,scale:b,rotation:0})};return T(),window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[n,o]),F.useEffect(()=>{const T=N=>{if(ue&&dt.current&&!dt.current.contains(N.target)){const W=document.getElementById("layer-context-menu");if(W&&W.contains(N.target))return;ce(!1)}};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[ue]);const de=F.useCallback(T=>{if(P.current)return;const N=_.slice(0,w+1);N.push(JSON.parse(JSON.stringify(T))),N.length>20&&N.shift(),I(N),R(N.length-1)},[_,w]);F.useEffect(()=>{_.length===0&&(I([[...i]]),R(0))},[]),F.useEffect(()=>{f(null)},[u]);const Rn=()=>{if(w>0){P.current=!0;const T=_[w-1];l(JSON.parse(JSON.stringify(T))),R(w-1),setTimeout(()=>{P.current=!1},0)}},Da=()=>{if(w<_.length-1){P.current=!0;const T=_[w+1];l(JSON.parse(JSON.stringify(T))),R(w+1),setTimeout(()=>{P.current=!1},0)}},fr=(T,N,W,b)=>{const ee=Date.now().toString(),le=400,Ee=400;let me=le,D=Ee;if(W&&b){const Re=le/W;me=le,D=b*Re}const re={id:ee,type:T,x:n/2-me/2,y:o/2-D/2,width:me,height:D,rotation:0,visible:!0,content:N||(T===q.TEXT?"Kanva":""),style:{backgroundColor:T===q.TEXT||T===q.IMAGE?"transparent":"#0ea5e9",color:T===q.TEXT?"#000000":"#ffffff",fontSize:48,borderRadius:0,borderColor:T===q.TEXT?"transparent":"#ffffff",borderWidth:0,fontFamily:"Roboto",textAlign:"center",objectFit:"contain"}},te=[...i,re];l(te),c(ee),de(te)},Ie=(T,N)=>{const W=i.map(b=>b.id===T?{...b,...N,style:{...b.style,...N.style}}:b);return l(W),W},Gh=T=>{const N=i.find(le=>le.id===T);if(!N)return;const W=Date.now().toString(),b={...N,id:W,x:N.x+40,y:N.y+40},ee=[...i,b];l(ee),c(W),de(ee),E(null)},Dt=()=>{de(i)},La=()=>{u&&oe({isOpen:!0,elementId:u})},zh=T=>{oe({isOpen:!0,elementId:T}),E(null)},qh=()=>{if($.elementId){const T=i.filter(N=>N.id!==$.elementId);l(T),c(null),de(T)}oe({isOpen:!1,elementId:null})},Fa=(T,N)=>{N&&N.stopPropagation();const W=i.find(b=>b.id===T);if(W){const b=Ie(T,{locked:!W.locked});!W.locked&&u===T&&c(null),de(b),v===T&&E(null)}},Ua=(T,N)=>{N&&N.stopPropagation();const W=i.find(b=>b.id===T);if(W){const b=Ie(T,{visible:!(W.visible??!0)});de(b),v===T&&E(null)}},bh=(T,N)=>{N.preventDefault(),N.stopPropagation(),N.button===0&&(p(T),N.target.setPointerCapture(N.pointerId))},Bh=T=>{if(!h)return;T.preventDefault();const N=document.elementFromPoint(T.clientX,T.clientY),W=N==null?void 0:N.closest("[data-layer-id]");if(W){const b=W.getAttribute("data-layer-id");b&&b!==h&&l(ee=>{const le=ee.findIndex(re=>re.id===h),Ee=ee.findIndex(re=>re.id===b);if(le===-1||Ee===-1)return ee;const me=[...ee],[D]=me.splice(le,1);return me.splice(Ee,0,D),me})}},Oi=T=>{if(h){T.preventDefault(),p(null),de(i);try{T.target.releasePointerCapture(T.pointerId)}catch{}}},$h=(T,N)=>{N.target.closest(".drag-handle")||N.target.closest("button")||(pe.current={x:N.clientX,y:N.clientY},Fe.current=setTimeout(()=>{E(T)},500))},Va=()=>{Fe.current&&(clearTimeout(Fe.current),Fe.current=null)},Jh=T=>{if(Fe.current){const N=Math.abs(T.clientX-pe.current.x),W=Math.abs(T.clientY-pe.current.y);(N>10||W>10)&&(clearTimeout(Fe.current),Fe.current=null)}},Wh=async T=>{var ee;const N=(ee=T.target.files)==null?void 0:ee[0];if(!N)return;const W=N.name.replace(/\.[^/.]+$/,"").replace(/[^a-zA-Z0-9]/g,""),b=new FileReader;b.onload=async le=>{var D;const Ee=(D=le.target)==null?void 0:D.result;if(!Ee)return;const me=new FontFace(W,`url(${Ee})`);try{await me.load(),document.fonts.add(me),S.includes(W)||A(Re=>[W,...Re]);const re=localStorage.getItem("kanva_custom_fonts"),te=re?JSON.parse(re):[];if(!te.some(Re=>Re.name===W)){const Re=[...te,{name:W,data:Ee}];localStorage.setItem("kanva_custom_fonts",JSON.stringify(Re))}if(u){const Re=Ie(u,{style:{fontFamily:W}});de(Re)}}catch(re){console.error("Failed to load font",re),alert("Erro ao carregar a fonte. Verifique se o arquivo  vlido (.ttf, .otf, .woff).")}},b.readAsDataURL(N),xt.current&&(xt.current.value="")};F.useEffect(()=>{const T=j.current;if(!T)return;let N=!1,W=0,b=0,ee={x:0,y:0},le={...Q.current};const Ee=te=>{if(te.preventDefault(),te.ctrlKey){const Re=te.deltaY>0?.9:1.1;O(Mn=>({...Mn,scale:Math.min(5,Math.max(.1,Mn.scale*Re))}))}else O(Re=>({...Re,x:Re.x-te.deltaX,y:Re.y-te.deltaY}))},me=te=>{if(te.touches.length===2){const Re=Date.now();if(Re-Be.current<300){const Mn=window.innerWidth,hr=window.innerHeight-80,go=Math.min(Mn/(n+100),hr/(o+100));O({x:window.innerWidth/2,y:(window.innerHeight-80)/2,scale:go,rotation:0}),Be.current=0;return}else Be.current=Re;N=!0,le={...Q.current},W=_i(te.touches[0],te.touches[1]),b=wi(te.touches[0],te.touches[1]),ee=Ii(te.touches[0],te.touches[1])}},D=te=>{if(N&&te.touches.length===2){te.preventDefault();const Re=_i(te.touches[0],te.touches[1]),Mn=wi(te.touches[0],te.touches[1]),hr=Ii(te.touches[0],te.touches[1]),go=Re/W;let yo=Mn-b;yo>180&&(yo-=360),yo<-180&&(yo+=360);let Yi=le.rotation+yo;const Za=(mr=>{let vo=mr%360;return vo<0&&(vo+=360),vo})(Yi);[0,90,180,270,360].forEach(mr=>{if(Math.abs(Za-mr)<5){const vo=mr-Za;Yi+=vo}});const Zh=Math.min(5,Math.max(.1,le.scale*go)),jh=hr.x+(le.x-ee.x)*go,em=hr.y+(le.y-ee.y)*go;O({x:jh,y:em,scale:Zh,rotation:Yi})}},re=te=>{te.touches.length<2&&(N=!1)};return T.addEventListener("wheel",Ee,{passive:!1}),T.addEventListener("touchstart",me,{passive:!1}),T.addEventListener("touchmove",D,{passive:!1}),T.addEventListener("touchend",re),()=>{T.removeEventListener("wheel",Ee),T.removeEventListener("touchstart",me),T.removeEventListener("touchmove",D),T.removeEventListener("touchend",re)}},[n,o]);const Oh=async()=>{fe(!0);try{const T=await kT(U),N=new Image;N.src=T,N.onload=()=>{fr(q.IMAGE,T,N.naturalWidth,N.naturalHeight)},H(!1),K("")}catch{alert("Falha ao gerar imagem.")}finally{fe(!1)}},Yh=T=>{var W;const N=(W=T.target.files)==null?void 0:W[0];if(N){const b=new FileReader;b.onload=ee=>{var me;const le=(me=ee.target)==null?void 0:me.result,Ee=new Image;Ee.src=le,Ee.onload=()=>{fr(q.IMAGE,le,Ee.naturalWidth,Ee.naturalHeight)}},b.readAsDataURL(N)}rt.current&&(rt.current.value="")},Kh=(T,N,W)=>{if(Ce){const b=i.find(ee=>ee.id===Ce);if(b){const ee=N/W,le=b.width/ee,Ee=Ie(Ce,{content:T,height:le,width:b.width});de(Ee)}Ne(null)}},Xh=T=>{if(be){const N=Ie(be,{maskImage:T,maskEnabled:!0});de(N),He(null)}},Ha=()=>{const T=new Set;return i.forEach(N=>{N.style.color&&N.style.color!=="transparent"&&T.add(N.style.color),N.style.backgroundColor&&N.style.backgroundColor!=="transparent"&&T.add(N.style.backgroundColor),N.style.borderColor&&N.style.borderColor!=="transparent"&&T.add(N.style.borderColor),N.style.textStrokeColor&&N.style.textStrokeColor!=="transparent"&&T.add(N.style.textStrokeColor)}),Array.from(T)},pr=T=>{if(!g.includes(T)){const N=[T,...g];C(N),localStorage.setItem("kanva_saved_colors",JSON.stringify(N))}},Ga=T=>{const N=g.filter(W=>W!==T);C(N),localStorage.setItem("kanva_saved_colors",JSON.stringify(N))},za=async T=>{if(!window.EyeDropper){alert("Seu navegador no suporta a ferramenta de conta-gotas.");return}try{const W=await new window.EyeDropper().open();T(W.sRGBHex)}catch{console.log("User canceled eyedropper")}},Y=i.find(T=>T.id===u),Qh=()=>{if(!Y||!d)return null;const T="absolute bottom-[74px] left-2 right-2 bg-workspace-800/90 backdrop-blur-xl border border-gray-600/50 rounded-2xl p-3 shadow-2xl animate-in slide-in-from-bottom-5 z-30";switch(d){case"font":return m.jsxs("div",{className:T,children:[m.jsx("input",{type:"file",ref:xt,className:"hidden",accept:".ttf,.otf,.woff,.woff2",onChange:Wh}),m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("h4",{className:"text-white text-xs font-bold uppercase sticky left-0",children:"Fontes"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>y(!x),className:`text-[10px] px-2 py-1 rounded-full font-bold border ${x?"bg-brand-500 border-brand-500 text-white":"bg-transparent border-gray-500 text-gray-400"}`,children:x?"Minhas":"Todas"}),m.jsxs("span",{className:"text-[10px] text-gray-400",children:[x?S.length:qd.length+S.length," estilos"]})]})]}),m.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 custom-scrollbar px-1 snap-x",children:[m.jsxs("button",{onClick:()=>{var D;return(D=xt.current)==null?void 0:D.click()},className:"shrink-0 px-3 py-2 rounded-xl border flex flex-col items-center justify-center gap-1 transition-all w-[110px] h-[70px] snap-center bg-gray-800/50 border-dashed border-gray-500 hover:bg-gray-700 hover:border-white text-gray-400 hover:text-white",children:[m.jsx(zy,{size:24}),m.jsx("span",{className:"text-[9px] font-bold",children:"Upload"})]}),(x?S:[...S,...qd]).map(D=>m.jsxs("button",{onClick:()=>{Ie(Y.id,{style:{fontFamily:D}}),de(i)},className:`shrink-0 px-3 py-2 rounded-xl border flex flex-col items-center justify-between transition-all w-[110px] h-[70px] snap-center
                      ${Y.style.fontFamily===D?"bg-brand-500/20 border-brand-500 ring-1 ring-brand-500":"bg-gray-800/50 border-gray-700 hover:bg-gray-700 hover:border-gray-500"}`,children:[m.jsx("span",{style:{fontFamily:D},className:"text-2xl text-white whitespace-nowrap leading-none mt-1",children:"Ag"}),m.jsx("span",{className:"text-[9px] text-gray-400 truncate w-full text-center font-medium mt-auto",children:D})]},D))]})]});case"size":return m.jsxs("div",{className:T,children:[m.jsxs("div",{className:"flex justify-between mb-2",children:[m.jsx("h4",{className:"text-white text-xs font-bold uppercase",children:"Tamanho"}),m.jsxs("span",{className:"text-brand-400 text-xs",children:[Y.style.fontSize,"px"]})]}),m.jsx("input",{type:"range",min:"10",max:"200",value:Y.style.fontSize,onChange:D=>Ie(Y.id,{style:{fontSize:Number(D.target.value)}}),onMouseUp:Dt,onTouchEnd:Dt,className:"w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-brand-500"})]});case"opacity":return m.jsxs("div",{className:T,children:[m.jsxs("div",{className:"flex justify-between mb-2",children:[m.jsx("h4",{className:"text-white text-xs font-bold uppercase",children:"Opacidade"}),m.jsxs("span",{className:"text-brand-400 text-xs",children:[Math.round((Y.style.opacity??1)*100),"%"]})]}),m.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:Y.style.opacity??1,onChange:D=>Ie(Y.id,{style:{opacity:Number(D.target.value)}}),onMouseUp:Dt,onTouchEnd:Dt,className:"w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-brand-500"})]});case"color":const N=Y.type===q.TEXT?Y.style.color||"#000000":Y.style.backgroundColor||"transparent",W=D=>{const re=Y.type===q.TEXT?"color":"backgroundColor";Ie(Y.id,{style:{[re]:D}})},b=D=>{const re=Y.type===q.TEXT?"color":"backgroundColor",te=Ie(Y.id,{style:{[re]:D}});de(te)};return m.jsxs("div",{className:`${T} max-h-[60vh] overflow-y-auto`,children:[m.jsxs("div",{className:"flex items-center justify-between mb-4 sticky top-0 bg-workspace-800/95 backdrop-blur z-10 pb-2 border-b border-gray-700",children:[m.jsx("h4",{className:"text-white text-xs font-bold uppercase",children:Y.type===q.TEXT?"Cor do Texto":"Cor de Preenchimento"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-500",style:{backgroundColor:N}}),m.jsx("input",{type:"text",value:N,onChange:D=>W(D.target.value),onBlur:()=>b(N),className:"bg-gray-800 text-white text-xs p-1 rounded w-20 border border-gray-600 focus:border-brand-500 outline-none uppercase font-mono text-center"})]})]}),m.jsxs("div",{className:"space-y-5",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:()=>za(b),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white p-2 rounded-lg flex items-center justify-center gap-2 text-xs font-bold transition-colors",children:[m.jsx(fc,{size:16})," Conta-gotas"]}),m.jsxs("div",{className:"relative flex-1 group",children:[m.jsx("input",{type:"color",value:N,onChange:D=>W(D.target.value),onBlur:D=>b(D.target.value),className:"absolute inset-0 opacity-0 w-full h-full cursor-pointer"}),m.jsxs("button",{className:"w-full bg-gradient-to-r from-red-500 via-green-500 to-blue-500 p-2 rounded-lg text-white text-xs font-bold shadow-sm flex items-center justify-center gap-2",children:[m.jsx(Dr,{size:16,className:"drop-shadow-md"})," Espectro"]})]}),m.jsxs("button",{onClick:()=>pr(N),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white p-2 rounded-lg flex items-center justify-center gap-2 text-xs font-bold transition-colors",children:[m.jsx(pc,{size:16})," Salvar"]})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase mb-2 block",children:"Cores do Documento"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:Ha().map((D,re)=>m.jsx("button",{onClick:()=>b(D),className:`w-8 h-8 rounded-full border border-gray-600 shadow-sm ${N===D?"ring-2 ring-white scale-110":"hover:scale-105"} transition-all`,style:{backgroundColor:D}},re))})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-2",children:[m.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase block",children:"Minha Paleta"}),g.length>0&&m.jsx("span",{className:"text-[9px] text-gray-500 italic",children:"Segure para excluir"})]}),m.jsxs("div",{className:"grid grid-cols-6 gap-2",children:[g.map((D,re)=>m.jsx("button",{onClick:()=>b(D),onContextMenu:te=>{te.preventDefault(),Ga(D)},className:`w-8 h-8 rounded-full border border-gray-600 shadow-sm relative group ${N===D?"ring-2 ring-white scale-110":"hover:scale-105"} transition-all`,style:{backgroundColor:D}},re)),m.jsx("button",{className:"w-8 h-8 rounded-full border border-gray-600 border-dashed flex items-center justify-center text-gray-500 hover:text-white hover:border-white transition-colors",onClick:()=>pr(N),children:m.jsx(gl,{size:14})})]})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase mb-2 block",children:"Padro"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:bd.map(D=>m.jsx("button",{onClick:()=>b(D),className:`w-8 h-8 rounded-full border border-gray-600 shadow-sm ${N===D?"ring-2 ring-white scale-110":"hover:scale-105"} transition-all`,style:{backgroundColor:D}},D))})]})]})]});case"stroke":const ee=Y.type===q.TEXT?Y.style.textStrokeColor||"#000000":Y.style.borderColor||"#000000",le=Y.type===q.TEXT?Y.style.textStrokeWidth||0:Y.style.borderWidth||0,Ee=D=>{const re=Y.type===q.TEXT?"textStrokeColor":"borderColor";Ie(Y.id,{style:{[re]:D}})},me=D=>{const re=Y.type===q.TEXT?"textStrokeColor":"borderColor",te=Ie(Y.id,{style:{[re]:D}});de(te)};return m.jsxs("div",{className:`${T} max-h-[60vh] overflow-y-auto`,children:[m.jsx("div",{className:"flex items-center justify-between mb-4 sticky top-0 bg-workspace-800/95 backdrop-blur z-10 pb-2 border-b border-gray-700",children:m.jsx("h4",{className:"text-white text-xs font-bold uppercase",children:"Contorno"})}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between mb-2",children:[m.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase block",children:"Espessura"}),m.jsxs("span",{className:"text-brand-400 text-xs",children:[le,"px"]})]}),m.jsx("input",{type:"range",min:"0",max:"20",value:le,onChange:D=>{const re=Y.type===q.TEXT?"textStrokeWidth":"borderWidth";Ie(Y.id,{style:{[re]:Number(D.target.value)}})},onMouseUp:Dt,onTouchEnd:Dt,className:"w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-brand-500"})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase block",children:"Cor"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-500",style:{backgroundColor:ee}}),m.jsx("input",{type:"text",value:ee,onChange:D=>Ee(D.target.value),onBlur:()=>me(ee),className:"bg-gray-800 text-white text-[10px] p-1 rounded w-16 border border-gray-600 focus:border-brand-500 outline-none uppercase font-mono text-center"})]})]}),m.jsxs("div",{className:"space-y-5",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:()=>za(me),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white p-2 rounded-lg flex items-center justify-center gap-2 text-xs font-bold transition-colors",children:[m.jsx(fc,{size:16})," Conta-gotas"]}),m.jsxs("div",{className:"relative flex-1 group",children:[m.jsx("input",{type:"color",value:ee,onChange:D=>Ee(D.target.value),onBlur:D=>me(D.target.value),className:"absolute inset-0 opacity-0 w-full h-full cursor-pointer"}),m.jsxs("button",{className:"w-full bg-gradient-to-r from-red-500 via-green-500 to-blue-500 p-2 rounded-lg text-white text-xs font-bold shadow-sm flex items-center justify-center gap-2",children:[m.jsx(Dr,{size:16,className:"drop-shadow-md"})," Espectro"]})]}),m.jsxs("button",{onClick:()=>pr(ee),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white p-2 rounded-lg flex items-center justify-center gap-2 text-xs font-bold transition-colors",children:[m.jsx(pc,{size:16})," Salvar"]})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase mb-2 block",children:"Cores do Documento"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:Ha().map((D,re)=>m.jsx("button",{onClick:()=>me(D),className:`w-8 h-8 rounded-full border border-gray-600 shadow-sm ${ee===D?"ring-2 ring-white scale-110":"hover:scale-105"} transition-all`,style:{backgroundColor:D}},re))})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-2",children:[m.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase block",children:"Minha Paleta"}),g.length>0&&m.jsx("span",{className:"text-[9px] text-gray-500 italic",children:"Segure para excluir"})]}),m.jsxs("div",{className:"grid grid-cols-6 gap-2",children:[g.map((D,re)=>m.jsx("button",{onClick:()=>me(D),onContextMenu:te=>{te.preventDefault(),Ga(D)},className:`w-8 h-8 rounded-full border border-gray-600 shadow-sm relative group ${ee===D?"ring-2 ring-white scale-110":"hover:scale-105"} transition-all`,style:{backgroundColor:D}},re)),m.jsx("button",{className:"w-8 h-8 rounded-full border border-gray-600 border-dashed flex items-center justify-center text-gray-500 hover:text-white hover:border-white transition-colors",onClick:()=>pr(ee),children:m.jsx(gl,{size:14})})]})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase mb-2 block",children:"Padro"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:bd.map(D=>m.jsx("button",{onClick:()=>me(D),className:`w-8 h-8 rounded-full border border-gray-600 shadow-sm ${ee===D?"ring-2 ring-white scale-110":"hover:scale-105"} transition-all`,style:{backgroundColor:D}},D))})]})]})]})]})]});case"align":return m.jsxs("div",{className:T,children:[m.jsx("h4",{className:"text-white text-xs font-bold uppercase mb-3",children:"Alinhamento"}),m.jsx("div",{className:"flex bg-gray-700 rounded-lg p-1",children:[{val:"left",icon:m.jsx(ac,{size:20})},{val:"center",icon:m.jsx(My,{size:20})},{val:"right",icon:m.jsx(Ly,{size:20})},{val:"justify",icon:m.jsx(Dy,{size:20})}].map(D=>m.jsx("button",{onClick:()=>{const re=Ie(Y.id,{style:{textAlign:D.val}});de(re)},className:`flex-1 p-2 rounded flex justify-center ${Y.style.textAlign===D.val?"bg-brand-500 text-white":"text-gray-400 hover:text-white"}`,children:D.icon},D.val))})]});case"radius":return m.jsxs("div",{className:T,children:[m.jsxs("div",{className:"flex justify-between mb-2",children:[m.jsx("h4",{className:"text-white text-xs font-bold uppercase",children:"Arredondar"}),m.jsxs("span",{className:"text-brand-400 text-xs",children:[Y.style.borderRadius,"px"]})]}),m.jsx("input",{type:"range",min:"0",max:"200",value:Y.style.borderRadius||0,onChange:D=>Ie(Y.id,{style:{borderRadius:Number(D.target.value)}}),onMouseUp:Dt,onTouchEnd:Dt,className:"w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-brand-500"})]});case"crop":return m.jsxs("div",{className:T,children:[m.jsx("h4",{className:"text-white text-xs font-bold uppercase mb-3",children:"Ajuste de Imagem"}),m.jsxs("div",{className:"flex bg-gray-700 rounded-lg p-1",children:[m.jsx("button",{onClick:()=>{const D=Ie(Y.id,{style:{objectFit:"cover"}});de(D)},className:`flex-1 py-2 px-4 rounded text-xs font-medium ${Y.style.objectFit==="cover"?"bg-brand-500 text-white":"text-gray-400"}`,children:"Preencher"}),m.jsx("button",{onClick:()=>{const D=Ie(Y.id,{style:{objectFit:"contain"}});de(D)},className:`flex-1 py-2 px-4 rounded text-xs font-medium ${Y.style.objectFit==="contain"?"bg-brand-500 text-white":"text-gray-400"}`,children:"Ajustar"}),m.jsx("button",{onClick:()=>{const D=Ie(Y.id,{style:{objectFit:"fill"}});de(D)},className:`flex-1 py-2 px-4 rounded text-xs font-medium ${Y.style.objectFit==="fill"?"bg-brand-500 text-white":"text-gray-400"}`,children:"Esticar"})]})]});case"shape-type":return m.jsxs("div",{className:T,children:[m.jsx("h4",{className:"text-white text-xs font-bold uppercase mb-3",children:"Tipo de Forma"}),m.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{type:q.SHAPE_RECT,icon:m.jsx(Yy,{size:20}),label:"Quad"},{type:q.SHAPE_CIRCLE,icon:m.jsx(uc,{size:20}),label:"Circ"},{type:q.SHAPE_TRIANGLE,icon:m.jsx(Xy,{size:20}),label:"Tri"},{type:q.SHAPE_DIAMOND,icon:m.jsx(Gy,{size:20}),label:"Diam"},{type:q.SHAPE_STAR,icon:m.jsx(Ky,{size:20}),label:"Est"},{type:q.SHAPE_HEART,icon:m.jsx(by,{size:20}),label:"Cora"}].map(D=>m.jsxs("button",{onClick:()=>{const re=Ie(Y.id,{type:D.type});de(re)},className:`p-2 rounded flex flex-col items-center gap-1 ${Y.type===D.type?"bg-brand-500 text-white":"bg-gray-700 text-gray-400"}`,children:[D.icon,m.jsx("span",{className:"text-[9px]",children:D.label})]},D.type))})]});default:return null}};return m.jsxs("div",{className:"fixed inset-0 w-full h-full bg-workspace-900 overflow-hidden flex flex-col font-sans select-none text-gray-100",children:[m.jsx("input",{type:"file",ref:rt,onChange:Yh,accept:"image/*",className:"hidden"}),m.jsxs("header",{className:"h-14 shrink-0 bg-workspace-800 border-b border-gray-700 flex items-center justify-between px-4 z-20 shadow-lg",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-full text-gray-300",children:m.jsx(Fy,{size:20})}),m.jsx("span",{className:"font-bold text-sm text-gray-300",children:e.name})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:Rn,className:"p-2 text-gray-400 hover:text-white hover:bg-white/5 rounded-full",children:m.jsx(ah,{size:18})}),m.jsx("button",{onClick:Da,className:"p-2 text-gray-400 hover:text-white hover:bg-white/5 rounded-full",children:m.jsx($y,{size:18})}),m.jsx("div",{className:"w-px h-6 bg-gray-700 mx-1"}),m.jsxs("button",{onClick:()=>ce(!0),className:"p-2 text-gray-400 hover:text-white hover:bg-white/5 rounded-full relative",children:[m.jsx(ih,{size:18}),m.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-brand-500 rounded-full"})]}),m.jsxs("button",{className:"bg-white text-workspace-900 px-4 py-1.5 rounded-full text-sm font-bold flex items-center gap-2 hover:bg-gray-100 transition-colors shadow-lg",children:[m.jsx(rh,{size:16}),m.jsx("span",{className:"hidden sm:inline",children:"Exportar"})]})]})]}),m.jsxs("main",{className:"flex-1 relative overflow-hidden bg-workspace-900 touch-none",children:[m.jsx("div",{ref:j,style:{transform:`translate(${M.x-n/2}px, ${M.y-o/2}px) scale(${M.scale}) rotate(${M.rotation}deg)`,transformOrigin:`${n/2}px ${o/2}px`,width:n,height:o,position:"absolute",top:0,left:0,willChange:"transform"},className:"checkerboard shadow-2xl relative overflow-hidden",onMouseDown:()=>{u&&c(null)},onTouchStart:()=>{u&&c(null)},children:i.map(T=>m.jsx(Zy,{element:T,isSelected:u===T.id,canvasScale:M.scale,canvasRotation:M.rotation,onSelect:c,onUpdate:Ie,onInteractionEnd:Dt,onDelete:La},T.id))}),m.jsxs("div",{ref:dt,className:`absolute top-4 right-4 w-72 bg-workspace-800/85 backdrop-blur-xl border border-gray-600/50 rounded-xl shadow-2xl flex flex-col transition-all duration-300 transform origin-top-right z-30 max-h-[60vh] ${ue?"scale-100 opacity-100":"scale-90 opacity-0 pointer-events-none"}`,children:[m.jsx(PT,{title:"Camadas",onClose:()=>ce(!1)}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-1 custom-scrollbar",children:[m.jsx("div",{className:"text-[10px] text-gray-500 px-2 py-1 italic text-center",children:"Segure para opes ou arraste para ordenar"}),[...i].reverse().map((T,N)=>{var W;return m.jsxs("div",{"data-layer-id":T.id,onClick:b=>{b.stopPropagation(),c(T.id)},onPointerDown:b=>$h(T.id,b),onPointerUp:Va,onPointerLeave:Va,onPointerMove:Jh,className:`relative flex items-center gap-2 p-2 rounded-lg cursor-pointer group border transition-all select-none ${h===T.id?"opacity-50 scale-95 bg-brand-500/10 border-brand-500 border-dashed":u===T.id?"bg-brand-500/20 border-brand-500/50 shadow-sm":"bg-transparent border-transparent hover:bg-white/5"}`,onContextMenu:b=>b.preventDefault(),children:[m.jsx("div",{className:"drag-handle text-gray-500 hover:text-white cursor-grab active:cursor-grabbing p-1 touch-none",onPointerDown:b=>bh(T.id,b),onPointerMove:Bh,onPointerUp:Oi,onPointerCancel:Oi,onLostPointerCapture:Oi,style:{touchAction:"none"},children:m.jsx(qy,{size:14})}),m.jsx("div",{className:"flex items-center gap-1 shrink-0",children:m.jsx("div",{className:"w-8 h-8 bg-workspace-900 rounded border border-gray-600 flex items-center justify-center overflow-hidden shrink-0",children:T.type===q.IMAGE?m.jsx("img",{src:T.content,className:"w-full h-full object-cover",alt:""}):T.type===q.TEXT?m.jsx(Do,{size:14,className:"text-gray-400"}):m.jsx("div",{className:"w-4 h-4 rounded-sm",style:{backgroundColor:T.style.backgroundColor}})})}),m.jsx("div",{className:"flex-1 min-w-0",children:m.jsx("span",{className:"text-[10px] font-bold text-gray-300 uppercase tracking-wider block truncate",children:T.type===q.TEXT?((W=T.content)==null?void 0:W.slice(0,15))||"Texto":T.type===q.IMAGE?"Imagem":"Forma"})}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("button",{onClick:b=>Ua(T.id,b),className:`p-1.5 rounded hover:bg-white/10 ${T.visible===!1?"text-gray-500":"text-gray-400 hover:text-white"}`,children:T.visible===!1?m.jsx(cc,{size:14}):m.jsx(dc,{size:14})}),m.jsx("button",{onClick:b=>Fa(T.id,b),className:`p-1.5 rounded hover:bg-white/10 ${T.locked?"text-yellow-500":"text-gray-400 hover:text-white"}`,children:T.locked?m.jsx(ml,{size:14}):m.jsx(hc,{size:14})})]})]},T.id)})]}),v&&m.jsxs("div",{id:"layer-context-menu",className:"absolute inset-x-2 bottom-2 bg-workspace-900 border border-gray-600 rounded-lg shadow-2xl p-2 z-50 animate-in slide-in-from-bottom-2 fade-in duration-200",onPointerDown:T=>T.stopPropagation(),children:[m.jsxs("div",{className:"flex items-center justify-between mb-2 pb-2 border-b border-gray-700",children:[m.jsx("span",{className:"text-xs font-bold text-white uppercase ml-1",children:"Opes da Camada"}),m.jsx("button",{onClick:()=>E(null),className:"p-1 hover:bg-white/10 rounded-full",children:m.jsx(Cl,{size:14})})]}),m.jsxs("div",{className:"grid grid-cols-4 gap-1",children:[m.jsxs("button",{onClick:()=>Gh(v),className:"flex flex-col items-center gap-1 p-2 rounded hover:bg-white/5 text-gray-300 hover:text-white",children:[m.jsx(nh,{size:18}),m.jsx("span",{className:"text-[9px]",children:"Duplicar"})]}),m.jsxs("button",{onClick:()=>Fa(v),className:`flex flex-col items-center gap-1 p-2 rounded hover:bg-white/5 ${(qa=i.find(T=>T.id===v))!=null&&qa.locked?"text-yellow-400":"text-gray-300"}`,children:[(ba=i.find(T=>T.id===v))!=null&&ba.locked?m.jsx(ml,{size:18}):m.jsx(hc,{size:18}),m.jsx("span",{className:"text-[9px]",children:"Travar"})]}),m.jsxs("button",{onClick:()=>Ua(v),className:`flex flex-col items-center gap-1 p-2 rounded hover:bg-white/5 ${((Ba=i.find(T=>T.id===v))==null?void 0:Ba.visible)===!1?"text-gray-500":"text-gray-300"}`,children:[(($a=i.find(T=>T.id===v))==null?void 0:$a.visible)===!1?m.jsx(cc,{size:18}):m.jsx(dc,{size:18}),m.jsx("span",{className:"text-[9px]",children:"Visvel"})]}),m.jsxs("button",{onClick:()=>zh(v),className:"flex flex-col items-center gap-1 p-2 rounded hover:bg-red-500/20 text-red-400 hover:text-red-300",children:[m.jsx(xl,{size:18}),m.jsx("span",{className:"text-[9px]",children:"Excluir"})]}),((Ja=i.find(T=>T.id===v))==null?void 0:Ja.type)===q.IMAGE&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:()=>{He(v),E(null)},className:"flex flex-col items-center gap-1 p-2 rounded hover:bg-white/5 text-gray-300 hover:text-white",children:[m.jsx(hl,{size:18}),m.jsx("span",{className:"text-[9px]",children:"Editar Mscara"})]}),((Wa=i.find(T=>T.id===v))==null?void 0:Wa.maskImage)&&m.jsxs("button",{onClick:()=>{const T=i.find(N=>N.id===v);if(T){const N=Ie(v,{maskEnabled:!T.maskEnabled});de(N)}},className:`flex flex-col items-center gap-1 p-2 rounded hover:bg-white/5 ${(Oa=i.find(T=>T.id===v))!=null&&Oa.maskEnabled?"text-brand-400":"text-gray-600"}`,children:[(Ya=i.find(T=>T.id===v))!=null&&Ya.maskEnabled?m.jsx(_a,{size:18}):m.jsx(Cl,{size:18}),m.jsx("span",{className:"text-[9px]",children:"Mscara"})]})]})]})]})]}),Qh()]}),m.jsx("footer",{className:"h-20 shrink-0 bg-workspace-800 border-t border-gray-700 flex items-center px-4 overflow-x-auto gap-2 custom-scrollbar z-20",children:Y?m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>{c(null),f(null)},className:"mr-2 p-2 bg-gray-700 rounded-full text-white",children:m.jsx(Hy,{size:16})}),Y.type===q.TEXT&&m.jsxs(m.Fragment,{children:[m.jsx(ye,{icon:m.jsx(Mo,{size:20}),label:"Editar",onClick:()=>{Y&&(G(Y.content||""),B(!0))}}),m.jsx(ye,{icon:m.jsx(Do,{size:20}),label:"Fonte",active:d==="font",onClick:()=>f(d==="font"?null:"font")}),m.jsx(ye,{icon:m.jsx(Wy,{size:20}),label:"Tamanho",active:d==="size",onClick:()=>f(d==="size"?null:"size")}),m.jsx(ye,{icon:m.jsx(Dr,{size:20}),label:"Cor",active:d==="color",onClick:()=>f(d==="color"?null:"color")}),m.jsx(ye,{icon:m.jsx(ac,{size:20}),label:"Alinhar",active:d==="align",onClick:()=>f(d==="align"?null:"align")}),m.jsx(ye,{icon:m.jsx(Wr,{size:20}),label:"Opacidade",active:d==="opacity",onClick:()=>f(d==="opacity"?null:"opacity")}),m.jsx(ye,{icon:m.jsx(Mo,{size:20}),label:"Contorno",active:d==="stroke",onClick:()=>f(d==="stroke"?null:"stroke")})]}),Y.type===q.IMAGE&&m.jsxs(m.Fragment,{children:[m.jsx(ye,{icon:m.jsx(oh,{size:20}),label:"Ajustar",active:d==="crop",onClick:()=>f(d==="crop"?null:"crop")}),m.jsx(ye,{icon:m.jsx(Oy,{size:20}),label:"Recortar",onClick:()=>Ne(Y.id)}),m.jsx(ye,{icon:m.jsx(hl,{size:20}),label:"R. Fundo",onClick:()=>He(Y.id)}),m.jsx(ye,{icon:m.jsx(uc,{size:20}),label:"Arredondar",active:d==="radius",onClick:()=>f(d==="radius"?null:"radius")}),m.jsx(ye,{icon:m.jsx(Mo,{size:20}),label:"Borda",active:d==="stroke",onClick:()=>f(d==="stroke"?null:"stroke")}),m.jsx(ye,{icon:m.jsx(Wr,{size:20}),label:"Opacidade",active:d==="opacity",onClick:()=>f(d==="opacity"?null:"opacity")})]}),(Y.type===q.SHAPE_RECT||Y.type===q.SHAPE_CIRCLE||Y.type===q.SHAPE_TRIANGLE||Y.type===q.SHAPE_STAR||Y.type===q.SHAPE_HEART||Y.type===q.SHAPE_DIAMOND)&&m.jsxs(m.Fragment,{children:[m.jsx(ye,{icon:m.jsx(yl,{size:20}),label:"Forma",active:d==="shape-type",onClick:()=>f(d==="shape-type"?null:"shape-type")}),m.jsx(ye,{icon:m.jsx(Dr,{size:20}),label:"Cor",active:d==="color",onClick:()=>f(d==="color"?null:"color")}),m.jsx(ye,{icon:m.jsx(Mo,{size:20}),label:"Borda",active:d==="stroke",onClick:()=>f(d==="stroke"?null:"stroke")}),m.jsx(ye,{icon:m.jsx(Wr,{size:20}),label:"Opacidade",active:d==="opacity",onClick:()=>f(d==="opacity"?null:"opacity")})]}),m.jsx("div",{className:"w-px h-8 bg-gray-600 mx-2"}),m.jsx(ye,{icon:m.jsx(xl,{size:20}),label:"Excluir",danger:!0,onClick:La})]}):m.jsxs(m.Fragment,{children:[m.jsx(ye,{icon:m.jsx(Do,{size:20}),label:"Texto",onClick:()=>fr(q.TEXT)}),m.jsx(ye,{icon:m.jsx(Qy,{size:20}),label:"Foto",onClick:()=>{var T;return(T=rt.current)==null?void 0:T.click()}}),m.jsx(ye,{icon:m.jsx(yl,{size:20}),label:"Forma",onClick:()=>fr(q.SHAPE_RECT)})]})}),J&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-200 px-4",children:m.jsxs("div",{className:"bg-workspace-800/90 backdrop-blur-xl border border-gray-600/50 rounded-xl p-6 shadow-2xl max-w-sm w-full animate-in zoom-in-95 duration-200",children:[m.jsxs("h3",{className:"text-white font-bold text-lg mb-4 flex items-center gap-2",children:[m.jsx(Do,{className:"text-brand-500"})," Editar Texto"]}),m.jsx("textarea",{value:k,onChange:T=>G(T.target.value),className:"w-full bg-workspace-900 text-white p-3 rounded-lg border border-gray-600 focus:border-brand-500 outline-none mb-4 h-32 resize-none font-sans text-lg",autoFocus:!0,onFocus:T=>T.target.select()}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx("button",{onClick:()=>B(!1),className:"px-4 py-2 text-gray-400 hover:text-white",children:"Cancelar"}),m.jsx("button",{onClick:()=>{u&&(Ie(u,{content:k}),de(i)),B(!1)},className:"px-6 py-2 bg-brand-600 hover:bg-brand-500 text-white rounded-lg font-bold",children:"Salvar"})]})]})}),ke&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-200 px-4",children:m.jsxs("div",{className:"bg-workspace-800/90 backdrop-blur-xl border border-gray-600/50 rounded-xl p-6 shadow-2xl max-w-sm w-full",children:[m.jsxs("h3",{className:"text-white font-bold text-lg mb-4 flex items-center gap-2",children:[m.jsx(vl,{className:"text-brand-500"})," Gerar Imagem com IA"]}),m.jsx("textarea",{value:U,onChange:T=>K(T.target.value),placeholder:"Descreva a imagem que voc quer criar...",className:"w-full bg-workspace-900 text-white p-3 rounded-lg border border-gray-600 focus:border-brand-500 outline-none mb-4 h-32 resize-none"}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx("button",{onClick:()=>H(!1),className:"px-4 py-2 text-gray-400 hover:text-white",children:"Cancelar"}),m.jsx("button",{onClick:Oh,disabled:!U.trim()||Z,className:"px-6 py-2 bg-brand-600 hover:bg-brand-500 text-white rounded-lg font-bold flex items-center gap-2 disabled:opacity-50",children:Z?"Gerando...":"Gerar"})]})]})}),m.jsx(RT,{isOpen:$.isOpen,title:"Excluir Elemento?",message:"Tem certeza que deseja remover este item do seu design? Esta ao pode ser desfeita depois.",onConfirm:qh,onCancel:()=>oe({isOpen:!1,elementId:null})}),Ce&&m.jsx(MT,{imageUrl:((Ka=i.find(T=>T.id===Ce))==null?void 0:Ka.content)||"",onCancel:()=>Ne(null),onSave:Kh}),be&&m.jsx(DT,{imageUrl:((Xa=i.find(T=>T.id===be))==null?void 0:Xa.content)||"",initialMaskUrl:(Qa=i.find(T=>T.id===be))==null?void 0:Qa.maskImage,onCancel:()=>He(null),onSave:Xh})]})},GT=()=>{const[e,t]=F.useState(!0),[n,o]=F.useState("home"),[r,i]=F.useState(null),l=c=>{i(c),o("editor")},u=()=>{o("home"),i(null)};return m.jsx(m.Fragment,{children:e?m.jsx(UT,{onFinish:()=>t(!1)}):m.jsxs(m.Fragment,{children:[n==="home"&&m.jsx(VT,{onOpenProject:l,onDeleteProject:()=>{}}),n==="editor"&&r&&m.jsx(HT,{project:r,onBack:u})]})})},Hh=document.getElementById("root");if(!Hh)throw new Error("Could not find root element to mount to");const zT=Es.createRoot(Hh);zT.render(m.jsx(ym.StrictMode,{children:m.jsx(GT,{})}));
