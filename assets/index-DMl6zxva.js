(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function dg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Mf={exports:{}},Yi={},Df={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sr=Symbol.for("react.element"),fg=Symbol.for("react.portal"),pg=Symbol.for("react.fragment"),hg=Symbol.for("react.strict_mode"),mg=Symbol.for("react.profiler"),gg=Symbol.for("react.provider"),yg=Symbol.for("react.context"),vg=Symbol.for("react.forward_ref"),xg=Symbol.for("react.suspense"),Eg=Symbol.for("react.memo"),wg=Symbol.for("react.lazy"),Pu=Symbol.iterator;function Cg(e){return e===null||typeof e!="object"?null:(e=Pu&&e[Pu]||e["@@iterator"],typeof e=="function"?e:null)}var Lf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bf=Object.assign,Uf={};function _o(e,t,n){this.props=e,this.context=t,this.refs=Uf,this.updater=n||Lf}_o.prototype.isReactComponent={};_o.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_o.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ff(){}Ff.prototype=_o.prototype;function ua(e,t,n){this.props=e,this.context=t,this.refs=Uf,this.updater=n||Lf}var ca=ua.prototype=new Ff;ca.constructor=ua;bf(ca,_o.prototype);ca.isPureReactComponent=!0;var Mu=Array.isArray,Vf=Object.prototype.hasOwnProperty,da={current:null},Hf={key:!0,ref:!0,__self:!0,__source:!0};function Gf(e,t,n){var o,r={},i=null,l=null;if(t!=null)for(o in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Vf.call(t,o)&&!Hf.hasOwnProperty(o)&&(r[o]=t[o]);var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}if(e&&e.defaultProps)for(o in u=e.defaultProps,u)r[o]===void 0&&(r[o]=u[o]);return{$$typeof:Sr,type:e,key:i,ref:l,props:r,_owner:da.current}}function Sg(e,t){return{$$typeof:Sr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fa(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sr}function Tg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Du=/\/+/g;function Cs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Tg(""+e.key):t.toString(36)}function Zr(e,t,n,o,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Sr:case fg:l=!0}}if(l)return l=e,r=r(l),e=o===""?"."+Cs(l,0):o,Mu(r)?(n="",e!=null&&(n=e.replace(Du,"$&/")+"/"),Zr(r,t,n,"",function(d){return d})):r!=null&&(fa(r)&&(r=Sg(r,n+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(Du,"$&/")+"/")+e)),t.push(r)),1;if(l=0,o=o===""?".":o+":",Mu(e))for(var u=0;u<e.length;u++){i=e[u];var c=o+Cs(i,u);l+=Zr(i,t,n,c,r)}else if(c=Cg(e),typeof c=="function")for(e=c.call(e),u=0;!(i=e.next()).done;)i=i.value,c=o+Cs(i,u++),l+=Zr(i,t,n,c,r);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Rr(e,t,n){if(e==null)return e;var o=[],r=0;return Zr(e,o,"","",function(i){return t.call(n,i,r++)}),o}function _g(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var lt={current:null},jr={transition:null},Ig={ReactCurrentDispatcher:lt,ReactCurrentBatchConfig:jr,ReactCurrentOwner:da};function zf(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:Rr,forEach:function(e,t,n){Rr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Rr(e,function(){t++}),t},toArray:function(e){return Rr(e,function(t){return t})||[]},only:function(e){if(!fa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ue.Component=_o;ue.Fragment=pg;ue.Profiler=mg;ue.PureComponent=ua;ue.StrictMode=hg;ue.Suspense=xg;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ig;ue.act=zf;ue.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=bf({},e.props),r=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=da.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)Vf.call(t,c)&&!Hf.hasOwnProperty(c)&&(o[c]=t[c]===void 0&&u!==void 0?u[c]:t[c])}var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:Sr,type:e.type,key:r,ref:i,props:o,_owner:l}};ue.createContext=function(e){return e={$$typeof:yg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gg,_context:e},e.Consumer=e};ue.createElement=Gf;ue.createFactory=function(e){var t=Gf.bind(null,e);return t.type=e,t};ue.createRef=function(){return{current:null}};ue.forwardRef=function(e){return{$$typeof:vg,render:e}};ue.isValidElement=fa;ue.lazy=function(e){return{$$typeof:wg,_payload:{_status:-1,_result:e},_init:_g}};ue.memo=function(e,t){return{$$typeof:Eg,type:e,compare:t===void 0?null:t}};ue.startTransition=function(e){var t=jr.transition;jr.transition={};try{e()}finally{jr.transition=t}};ue.unstable_act=zf;ue.useCallback=function(e,t){return lt.current.useCallback(e,t)};ue.useContext=function(e){return lt.current.useContext(e)};ue.useDebugValue=function(){};ue.useDeferredValue=function(e){return lt.current.useDeferredValue(e)};ue.useEffect=function(e,t){return lt.current.useEffect(e,t)};ue.useId=function(){return lt.current.useId()};ue.useImperativeHandle=function(e,t,n){return lt.current.useImperativeHandle(e,t,n)};ue.useInsertionEffect=function(e,t){return lt.current.useInsertionEffect(e,t)};ue.useLayoutEffect=function(e,t){return lt.current.useLayoutEffect(e,t)};ue.useMemo=function(e,t){return lt.current.useMemo(e,t)};ue.useReducer=function(e,t,n){return lt.current.useReducer(e,t,n)};ue.useRef=function(e){return lt.current.useRef(e)};ue.useState=function(e){return lt.current.useState(e)};ue.useSyncExternalStore=function(e,t,n){return lt.current.useSyncExternalStore(e,t,n)};ue.useTransition=function(){return lt.current.useTransition()};ue.version="18.3.1";Df.exports=ue;var D=Df.exports;const Ag=dg(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kg=D,Ng=Symbol.for("react.element"),Rg=Symbol.for("react.fragment"),Pg=Object.prototype.hasOwnProperty,Mg=kg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dg={key:!0,ref:!0,__self:!0,__source:!0};function Bf(e,t,n){var o,r={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(o in t)Pg.call(t,o)&&!Dg.hasOwnProperty(o)&&(r[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)r[o]===void 0&&(r[o]=t[o]);return{$$typeof:Ng,type:e,key:i,ref:l,props:r,_owner:Mg.current}}Yi.Fragment=Rg;Yi.jsx=Bf;Yi.jsxs=Bf;Mf.exports=Yi;var h=Mf.exports,Qs={},qf={exports:{}},xt={},$f={exports:{}},Of={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(b,J){var Q=b.length;b.push(J);e:for(;0<Q;){var V=Q-1>>>1,fe=b[V];if(0<r(fe,J))b[V]=J,b[Q]=fe,Q=V;else break e}}function n(b){return b.length===0?null:b[0]}function o(b){if(b.length===0)return null;var J=b[0],Q=b.pop();if(Q!==J){b[0]=Q;e:for(var V=0,fe=b.length,$e=fe>>>1;V<$e;){var H=2*(V+1)-1,W=b[H],O=H+1,Z=b[O];if(0>r(W,Q))O<fe&&0>r(Z,W)?(b[V]=Z,b[O]=Q,V=O):(b[V]=W,b[H]=Q,V=H);else if(O<fe&&0>r(Z,Q))b[V]=Z,b[O]=Q,V=O;else break e}}return J}function r(b,J){var Q=b.sortIndex-J.sortIndex;return Q!==0?Q:b.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var c=[],d=[],f=1,m=null,p=3,g=!1,E=!1,C=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(b){for(var J=n(d);J!==null;){if(J.callback===null)o(d);else if(J.startTime<=b)o(d),J.sortIndex=J.expirationTime,t(c,J);else break;J=n(d)}}function w(b){if(C=!1,x(b),!E)if(n(c)!==null)E=!0,B(T);else{var J=n(d);J!==null&&re(w,J.startTime-b)}}function T(b,J){E=!1,C&&(C=!1,v(R),R=-1),g=!0;var Q=p;try{for(x(J),m=n(c);m!==null&&(!(m.expirationTime>J)||b&&!K());){var V=m.callback;if(typeof V=="function"){m.callback=null,p=m.priorityLevel;var fe=V(m.expirationTime<=J);J=e.unstable_now(),typeof fe=="function"?m.callback=fe:m===n(c)&&o(c),x(J)}else o(c);m=n(c)}if(m!==null)var $e=!0;else{var H=n(d);H!==null&&re(w,H.startTime-J),$e=!1}return $e}finally{m=null,p=Q,g=!1}}var A=!1,k=null,R=-1,P=5,M=-1;function K(){return!(e.unstable_now()-M<P)}function oe(){if(k!==null){var b=e.unstable_now();M=b;var J=!0;try{J=k(!0,b)}finally{J?X():(A=!1,k=null)}}else A=!1}var X;if(typeof y=="function")X=function(){y(oe)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,F=ne.port2;ne.port1.onmessage=oe,X=function(){F.postMessage(null)}}else X=function(){S(oe,0)};function B(b){k=b,A||(A=!0,X())}function re(b,J){R=S(function(){b(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_continueExecution=function(){E||g||(E=!0,B(T))},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(b){switch(p){case 1:case 2:case 3:var J=3;break;default:J=p}var Q=p;p=J;try{return b()}finally{p=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(b,J){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var Q=p;p=b;try{return J()}finally{p=Q}},e.unstable_scheduleCallback=function(b,J,Q){var V=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?V+Q:V):Q=V,b){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=Q+fe,b={id:f++,callback:J,priorityLevel:b,startTime:Q,expirationTime:fe,sortIndex:-1},Q>V?(b.sortIndex=Q,t(d,b),n(c)===null&&b===n(d)&&(C?(v(R),R=-1):C=!0,re(w,Q-V))):(b.sortIndex=fe,t(c,b),E||g||(E=!0,B(T))),b},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(b){var J=p;return function(){var Q=p;p=J;try{return b.apply(this,arguments)}finally{p=Q}}}})(Of);$f.exports=Of;var Lg=$f.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg=D,vt=Lg;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wf=new Set,sr={};function Bn(e,t){vo(e,t),vo(e+"Capture",t)}function vo(e,t){for(sr[e]=t,e=0;e<t.length;e++)Wf.add(t[e])}var Qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zs=Object.prototype.hasOwnProperty,Ug=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lu={},bu={};function Fg(e){return Zs.call(bu,e)?!0:Zs.call(Lu,e)?!1:Ug.test(e)?bu[e]=!0:(Lu[e]=!0,!1)}function Vg(e,t,n,o){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Hg(e,t,n,o){if(t===null||typeof t>"u"||Vg(e,t,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function at(e,t,n,o,r,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var Xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xe[e]=new at(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xe[t]=new at(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xe[e]=new at(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xe[e]=new at(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xe[e]=new at(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xe[e]=new at(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xe[e]=new at(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xe[e]=new at(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xe[e]=new at(e,5,!1,e.toLowerCase(),null,!1,!1)});var pa=/[\-:]([a-z])/g;function ha(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(pa,ha);Xe[t]=new at(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(pa,ha);Xe[t]=new at(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(pa,ha);Xe[t]=new at(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xe[e]=new at(e,1,!1,e.toLowerCase(),null,!1,!1)});Xe.xlinkHref=new at("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xe[e]=new at(e,1,!1,e.toLowerCase(),null,!0,!0)});function ma(e,t,n,o){var r=Xe.hasOwnProperty(t)?Xe[t]:null;(r!==null?r.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Hg(t,n,r,o)&&(n=null),o||r===null?Fg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,o=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}var nn=bg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pr=Symbol.for("react.element"),Yn=Symbol.for("react.portal"),Kn=Symbol.for("react.fragment"),ga=Symbol.for("react.strict_mode"),js=Symbol.for("react.profiler"),Jf=Symbol.for("react.provider"),Yf=Symbol.for("react.context"),ya=Symbol.for("react.forward_ref"),el=Symbol.for("react.suspense"),tl=Symbol.for("react.suspense_list"),va=Symbol.for("react.memo"),an=Symbol.for("react.lazy"),Kf=Symbol.for("react.offscreen"),Uu=Symbol.iterator;function bo(e){return e===null||typeof e!="object"?null:(e=Uu&&e[Uu]||e["@@iterator"],typeof e=="function"?e:null)}var Ne=Object.assign,Ss;function Oo(e){if(Ss===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ss=t&&t[1]||""}return`
`+Ss+e}var Ts=!1;function _s(e,t){if(!e||Ts)return"";Ts=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var o=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){o=d}e.call(t.prototype)}else{try{throw Error()}catch(d){o=d}e()}}catch(d){if(d&&o&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),i=o.stack.split(`
`),l=r.length-1,u=i.length-1;1<=l&&0<=u&&r[l]!==i[u];)u--;for(;1<=l&&0<=u;l--,u--)if(r[l]!==i[u]){if(l!==1||u!==1)do if(l--,u--,0>u||r[l]!==i[u]){var c=`
`+r[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=u);break}}}finally{Ts=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Oo(e):""}function Gg(e){switch(e.tag){case 5:return Oo(e.type);case 16:return Oo("Lazy");case 13:return Oo("Suspense");case 19:return Oo("SuspenseList");case 0:case 2:case 15:return e=_s(e.type,!1),e;case 11:return e=_s(e.type.render,!1),e;case 1:return e=_s(e.type,!0),e;default:return""}}function nl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kn:return"Fragment";case Yn:return"Portal";case js:return"Profiler";case ga:return"StrictMode";case el:return"Suspense";case tl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Yf:return(e.displayName||"Context")+".Consumer";case Jf:return(e._context.displayName||"Context")+".Provider";case ya:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case va:return t=e.displayName||null,t!==null?t:nl(e.type)||"Memo";case an:t=e._payload,e=e._init;try{return nl(e(t))}catch{}}return null}function zg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nl(t);case 8:return t===ga?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Sn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Bg(e){var t=Xf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(l){o=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(l){o=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mr(e){e._valueTracker||(e._valueTracker=Bg(e))}function Qf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=Xf(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ol(e,t){var n=t.checked;return Ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Fu(e,t){var n=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;n=Sn(t.value!=null?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zf(e,t){t=t.checked,t!=null&&ma(e,"checked",t,!1)}function rl(e,t){Zf(e,t);var n=Sn(t.value),o=t.type;if(n!=null)o==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?il(e,t.type,n):t.hasOwnProperty("defaultValue")&&il(e,t.type,Sn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Vu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function il(e,t,n){(t!=="number"||hi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Wo=Array.isArray;function uo(e,t,n,o){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&o&&(e[n].defaultSelected=!0)}else{for(n=""+Sn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,o&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function sl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return Ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(Wo(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Sn(n)}}function jf(e,t){var n=Sn(t.value),o=Sn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),o!=null&&(e.defaultValue=""+o)}function Gu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ep(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ll(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ep(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Dr,tp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,o,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Dr=Dr||document.createElement("div"),Dr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Dr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function lr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Qo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qg=["Webkit","ms","Moz","O"];Object.keys(Qo).forEach(function(e){qg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qo[t]=Qo[e]})});function np(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Qo.hasOwnProperty(e)&&Qo[e]?(""+t).trim():t+"px"}function op(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=n.indexOf("--")===0,r=np(n,t[n],o);n==="float"&&(n="cssFloat"),o?e.setProperty(n,r):e[n]=r}}var $g=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function al(e,t){if(t){if($g[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function ul(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cl=null;function xa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dl=null,co=null,fo=null;function zu(e){if(e=Ir(e)){if(typeof dl!="function")throw Error(L(280));var t=e.stateNode;t&&(t=ji(t),dl(e.stateNode,e.type,t))}}function rp(e){co?fo?fo.push(e):fo=[e]:co=e}function ip(){if(co){var e=co,t=fo;if(fo=co=null,zu(e),t)for(e=0;e<t.length;e++)zu(t[e])}}function sp(e,t){return e(t)}function lp(){}var Is=!1;function ap(e,t,n){if(Is)return e(t,n);Is=!0;try{return sp(e,t,n)}finally{Is=!1,(co!==null||fo!==null)&&(lp(),ip())}}function ar(e,t){var n=e.stateNode;if(n===null)return null;var o=ji(n);if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var fl=!1;if(Qt)try{var Uo={};Object.defineProperty(Uo,"passive",{get:function(){fl=!0}}),window.addEventListener("test",Uo,Uo),window.removeEventListener("test",Uo,Uo)}catch{fl=!1}function Og(e,t,n,o,r,i,l,u,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(f){this.onError(f)}}var Zo=!1,mi=null,gi=!1,pl=null,Wg={onError:function(e){Zo=!0,mi=e}};function Jg(e,t,n,o,r,i,l,u,c){Zo=!1,mi=null,Og.apply(Wg,arguments)}function Yg(e,t,n,o,r,i,l,u,c){if(Jg.apply(this,arguments),Zo){if(Zo){var d=mi;Zo=!1,mi=null}else throw Error(L(198));gi||(gi=!0,pl=d)}}function qn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function up(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Bu(e){if(qn(e)!==e)throw Error(L(188))}function Kg(e){var t=e.alternate;if(!t){if(t=qn(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,o=t;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(o=r.return,o!==null){n=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Bu(r),e;if(i===o)return Bu(r),t;i=i.sibling}throw Error(L(188))}if(n.return!==o.return)n=r,o=i;else{for(var l=!1,u=r.child;u;){if(u===n){l=!0,n=r,o=i;break}if(u===o){l=!0,o=r,n=i;break}u=u.sibling}if(!l){for(u=i.child;u;){if(u===n){l=!0,n=i,o=r;break}if(u===o){l=!0,o=i,n=r;break}u=u.sibling}if(!l)throw Error(L(189))}}if(n.alternate!==o)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function cp(e){return e=Kg(e),e!==null?dp(e):null}function dp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=dp(e);if(t!==null)return t;e=e.sibling}return null}var fp=vt.unstable_scheduleCallback,qu=vt.unstable_cancelCallback,Xg=vt.unstable_shouldYield,Qg=vt.unstable_requestPaint,Fe=vt.unstable_now,Zg=vt.unstable_getCurrentPriorityLevel,Ea=vt.unstable_ImmediatePriority,pp=vt.unstable_UserBlockingPriority,yi=vt.unstable_NormalPriority,jg=vt.unstable_LowPriority,hp=vt.unstable_IdlePriority,Ki=null,Bt=null;function e0(e){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Ki,e,void 0,(e.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:o0,t0=Math.log,n0=Math.LN2;function o0(e){return e>>>=0,e===0?32:31-(t0(e)/n0|0)|0}var Lr=64,br=4194304;function Jo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vi(e,t){var n=e.pendingLanes;if(n===0)return 0;var o=0,r=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var u=l&~r;u!==0?o=Jo(u):(i&=l,i!==0&&(o=Jo(i)))}else l=n&~r,l!==0?o=Jo(l):i!==0&&(o=Jo(i));if(o===0)return 0;if(t!==0&&t!==o&&!(t&r)&&(r=o&-o,i=t&-t,r>=i||r===16&&(i&4194240)!==0))return t;if(o&4&&(o|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)n=31-Dt(t),r=1<<n,o|=e[n],t&=~r;return o}function r0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function i0(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-Dt(i),u=1<<l,c=r[l];c===-1?(!(u&n)||u&o)&&(r[l]=r0(u,t)):c<=t&&(e.expiredLanes|=u),i&=~u}}function hl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mp(){var e=Lr;return Lr<<=1,!(Lr&4194240)&&(Lr=64),e}function As(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Tr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dt(t),e[t]=n}function s0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-Dt(n),i=1<<r;t[r]=0,o[r]=-1,e[r]=-1,n&=~i}}function wa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-Dt(n),r=1<<o;r&t|e[o]&t&&(e[o]|=t),n&=~r}}var ye=0;function gp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yp,Ca,vp,xp,Ep,ml=!1,Ur=[],mn=null,gn=null,yn=null,ur=new Map,cr=new Map,cn=[],l0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $u(e,t){switch(e){case"focusin":case"focusout":mn=null;break;case"dragenter":case"dragleave":gn=null;break;case"mouseover":case"mouseout":yn=null;break;case"pointerover":case"pointerout":ur.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cr.delete(t.pointerId)}}function Fo(e,t,n,o,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},t!==null&&(t=Ir(t),t!==null&&Ca(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function a0(e,t,n,o,r){switch(t){case"focusin":return mn=Fo(mn,e,t,n,o,r),!0;case"dragenter":return gn=Fo(gn,e,t,n,o,r),!0;case"mouseover":return yn=Fo(yn,e,t,n,o,r),!0;case"pointerover":var i=r.pointerId;return ur.set(i,Fo(ur.get(i)||null,e,t,n,o,r)),!0;case"gotpointercapture":return i=r.pointerId,cr.set(i,Fo(cr.get(i)||null,e,t,n,o,r)),!0}return!1}function wp(e){var t=Mn(e.target);if(t!==null){var n=qn(t);if(n!==null){if(t=n.tag,t===13){if(t=up(n),t!==null){e.blockedOn=t,Ep(e.priority,function(){vp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ei(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=gl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);cl=o,n.target.dispatchEvent(o),cl=null}else return t=Ir(n),t!==null&&Ca(t),e.blockedOn=n,!1;t.shift()}return!0}function Ou(e,t,n){ei(e)&&n.delete(t)}function u0(){ml=!1,mn!==null&&ei(mn)&&(mn=null),gn!==null&&ei(gn)&&(gn=null),yn!==null&&ei(yn)&&(yn=null),ur.forEach(Ou),cr.forEach(Ou)}function Vo(e,t){e.blockedOn===t&&(e.blockedOn=null,ml||(ml=!0,vt.unstable_scheduleCallback(vt.unstable_NormalPriority,u0)))}function dr(e){function t(r){return Vo(r,e)}if(0<Ur.length){Vo(Ur[0],e);for(var n=1;n<Ur.length;n++){var o=Ur[n];o.blockedOn===e&&(o.blockedOn=null)}}for(mn!==null&&Vo(mn,e),gn!==null&&Vo(gn,e),yn!==null&&Vo(yn,e),ur.forEach(t),cr.forEach(t),n=0;n<cn.length;n++)o=cn[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<cn.length&&(n=cn[0],n.blockedOn===null);)wp(n),n.blockedOn===null&&cn.shift()}var po=nn.ReactCurrentBatchConfig,xi=!0;function c0(e,t,n,o){var r=ye,i=po.transition;po.transition=null;try{ye=1,Sa(e,t,n,o)}finally{ye=r,po.transition=i}}function d0(e,t,n,o){var r=ye,i=po.transition;po.transition=null;try{ye=4,Sa(e,t,n,o)}finally{ye=r,po.transition=i}}function Sa(e,t,n,o){if(xi){var r=gl(e,t,n,o);if(r===null)Fs(e,t,o,Ei,n),$u(e,o);else if(a0(r,e,t,n,o))o.stopPropagation();else if($u(e,o),t&4&&-1<l0.indexOf(e)){for(;r!==null;){var i=Ir(r);if(i!==null&&yp(i),i=gl(e,t,n,o),i===null&&Fs(e,t,o,Ei,n),i===r)break;r=i}r!==null&&o.stopPropagation()}else Fs(e,t,o,null,n)}}var Ei=null;function gl(e,t,n,o){if(Ei=null,e=xa(o),e=Mn(e),e!==null)if(t=qn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=up(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ei=e,null}function Cp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zg()){case Ea:return 1;case pp:return 4;case yi:case jg:return 16;case hp:return 536870912;default:return 16}default:return 16}}var fn=null,Ta=null,ti=null;function Sp(){if(ti)return ti;var e,t=Ta,n=t.length,o,r="value"in fn?fn.value:fn.textContent,i=r.length;for(e=0;e<n&&t[e]===r[e];e++);var l=n-e;for(o=1;o<=l&&t[n-o]===r[i-o];o++);return ti=r.slice(e,1<o?1-o:void 0)}function ni(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fr(){return!0}function Wu(){return!1}function Et(e){function t(n,o,r,i,l){this._reactName=n,this._targetInst=r,this.type=o,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Fr:Wu,this.isPropagationStopped=Wu,this}return Ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fr)},persist:function(){},isPersistent:Fr}),t}var Io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_a=Et(Io),_r=Ne({},Io,{view:0,detail:0}),f0=Et(_r),ks,Ns,Ho,Xi=Ne({},_r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ia,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ho&&(Ho&&e.type==="mousemove"?(ks=e.screenX-Ho.screenX,Ns=e.screenY-Ho.screenY):Ns=ks=0,Ho=e),ks)},movementY:function(e){return"movementY"in e?e.movementY:Ns}}),Ju=Et(Xi),p0=Ne({},Xi,{dataTransfer:0}),h0=Et(p0),m0=Ne({},_r,{relatedTarget:0}),Rs=Et(m0),g0=Ne({},Io,{animationName:0,elapsedTime:0,pseudoElement:0}),y0=Et(g0),v0=Ne({},Io,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),x0=Et(v0),E0=Ne({},Io,{data:0}),Yu=Et(E0),w0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},C0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function T0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=S0[e])?!!t[e]:!1}function Ia(){return T0}var _0=Ne({},_r,{key:function(e){if(e.key){var t=w0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ni(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?C0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ia,charCode:function(e){return e.type==="keypress"?ni(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ni(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),I0=Et(_0),A0=Ne({},Xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ku=Et(A0),k0=Ne({},_r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ia}),N0=Et(k0),R0=Ne({},Io,{propertyName:0,elapsedTime:0,pseudoElement:0}),P0=Et(R0),M0=Ne({},Xi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),D0=Et(M0),L0=[9,13,27,32],Aa=Qt&&"CompositionEvent"in window,jo=null;Qt&&"documentMode"in document&&(jo=document.documentMode);var b0=Qt&&"TextEvent"in window&&!jo,Tp=Qt&&(!Aa||jo&&8<jo&&11>=jo),Xu=" ",Qu=!1;function _p(e,t){switch(e){case"keyup":return L0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ip(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xn=!1;function U0(e,t){switch(e){case"compositionend":return Ip(t);case"keypress":return t.which!==32?null:(Qu=!0,Xu);case"textInput":return e=t.data,e===Xu&&Qu?null:e;default:return null}}function F0(e,t){if(Xn)return e==="compositionend"||!Aa&&_p(e,t)?(e=Sp(),ti=Ta=fn=null,Xn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tp&&t.locale!=="ko"?null:t.data;default:return null}}var V0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!V0[e.type]:t==="textarea"}function Ap(e,t,n,o){rp(o),t=wi(t,"onChange"),0<t.length&&(n=new _a("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var er=null,fr=null;function H0(e){Vp(e,0)}function Qi(e){var t=jn(e);if(Qf(t))return e}function G0(e,t){if(e==="change")return t}var kp=!1;if(Qt){var Ps;if(Qt){var Ms="oninput"in document;if(!Ms){var ju=document.createElement("div");ju.setAttribute("oninput","return;"),Ms=typeof ju.oninput=="function"}Ps=Ms}else Ps=!1;kp=Ps&&(!document.documentMode||9<document.documentMode)}function ec(){er&&(er.detachEvent("onpropertychange",Np),fr=er=null)}function Np(e){if(e.propertyName==="value"&&Qi(fr)){var t=[];Ap(t,fr,e,xa(e)),ap(H0,t)}}function z0(e,t,n){e==="focusin"?(ec(),er=t,fr=n,er.attachEvent("onpropertychange",Np)):e==="focusout"&&ec()}function B0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qi(fr)}function q0(e,t){if(e==="click")return Qi(t)}function $0(e,t){if(e==="input"||e==="change")return Qi(t)}function O0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ft=typeof Object.is=="function"?Object.is:O0;function pr(e,t){if(Ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!Zs.call(t,r)||!Ft(e[r],t[r]))return!1}return!0}function tc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nc(e,t){var n=tc(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tc(n)}}function Rp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pp(){for(var e=window,t=hi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=hi(e.document)}return t}function ka(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function W0(e){var t=Pp(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Rp(n.ownerDocument.documentElement,n)){if(o!==null&&ka(n)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,i=Math.min(o.start,r);o=o.end===void 0?i:Math.min(o.end,r),!e.extend&&i>o&&(r=o,o=i,i=r),r=nc(n,i);var l=nc(n,o);r&&l&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),i>o?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var J0=Qt&&"documentMode"in document&&11>=document.documentMode,Qn=null,yl=null,tr=null,vl=!1;function oc(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vl||Qn==null||Qn!==hi(o)||(o=Qn,"selectionStart"in o&&ka(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),tr&&pr(tr,o)||(tr=o,o=wi(yl,"onSelect"),0<o.length&&(t=new _a("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=Qn)))}function Vr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zn={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionend:Vr("Transition","TransitionEnd")},Ds={},Mp={};Qt&&(Mp=document.createElement("div").style,"AnimationEvent"in window||(delete Zn.animationend.animation,delete Zn.animationiteration.animation,delete Zn.animationstart.animation),"TransitionEvent"in window||delete Zn.transitionend.transition);function Zi(e){if(Ds[e])return Ds[e];if(!Zn[e])return e;var t=Zn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Mp)return Ds[e]=t[n];return e}var Dp=Zi("animationend"),Lp=Zi("animationiteration"),bp=Zi("animationstart"),Up=Zi("transitionend"),Fp=new Map,rc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _n(e,t){Fp.set(e,t),Bn(t,[e])}for(var Ls=0;Ls<rc.length;Ls++){var bs=rc[Ls],Y0=bs.toLowerCase(),K0=bs[0].toUpperCase()+bs.slice(1);_n(Y0,"on"+K0)}_n(Dp,"onAnimationEnd");_n(Lp,"onAnimationIteration");_n(bp,"onAnimationStart");_n("dblclick","onDoubleClick");_n("focusin","onFocus");_n("focusout","onBlur");_n(Up,"onTransitionEnd");vo("onMouseEnter",["mouseout","mouseover"]);vo("onMouseLeave",["mouseout","mouseover"]);vo("onPointerEnter",["pointerout","pointerover"]);vo("onPointerLeave",["pointerout","pointerover"]);Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yo));function ic(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,Yg(o,t,void 0,e),e.currentTarget=null}function Vp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],r=o.event;o=o.listeners;e:{var i=void 0;if(t)for(var l=o.length-1;0<=l;l--){var u=o[l],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==i&&r.isPropagationStopped())break e;ic(r,u,d),i=c}else for(l=0;l<o.length;l++){if(u=o[l],c=u.instance,d=u.currentTarget,u=u.listener,c!==i&&r.isPropagationStopped())break e;ic(r,u,d),i=c}}}if(gi)throw e=pl,gi=!1,pl=null,e}function Ce(e,t){var n=t[Sl];n===void 0&&(n=t[Sl]=new Set);var o=e+"__bubble";n.has(o)||(Hp(t,e,2,!1),n.add(o))}function Us(e,t,n){var o=0;t&&(o|=4),Hp(n,e,o,t)}var Hr="_reactListening"+Math.random().toString(36).slice(2);function hr(e){if(!e[Hr]){e[Hr]=!0,Wf.forEach(function(n){n!=="selectionchange"&&(X0.has(n)||Us(n,!1,e),Us(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hr]||(t[Hr]=!0,Us("selectionchange",!1,t))}}function Hp(e,t,n,o){switch(Cp(t)){case 1:var r=c0;break;case 4:r=d0;break;default:r=Sa}n=r.bind(null,t,n,e),r=void 0,!fl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),o?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Fs(e,t,n,o,r){var i=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var l=o.tag;if(l===3||l===4){var u=o.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(l===4)for(l=o.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;l=l.return}for(;u!==null;){if(l=Mn(u),l===null)return;if(c=l.tag,c===5||c===6){o=i=l;continue e}u=u.parentNode}}o=o.return}ap(function(){var d=i,f=xa(n),m=[];e:{var p=Fp.get(e);if(p!==void 0){var g=_a,E=e;switch(e){case"keypress":if(ni(n)===0)break e;case"keydown":case"keyup":g=I0;break;case"focusin":E="focus",g=Rs;break;case"focusout":E="blur",g=Rs;break;case"beforeblur":case"afterblur":g=Rs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Ju;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=h0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=N0;break;case Dp:case Lp:case bp:g=y0;break;case Up:g=P0;break;case"scroll":g=f0;break;case"wheel":g=D0;break;case"copy":case"cut":case"paste":g=x0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Ku}var C=(t&4)!==0,S=!C&&e==="scroll",v=C?p!==null?p+"Capture":null:p;C=[];for(var y=d,x;y!==null;){x=y;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,v!==null&&(w=ar(y,v),w!=null&&C.push(mr(y,w,x)))),S)break;y=y.return}0<C.length&&(p=new g(p,E,null,n,f),m.push({event:p,listeners:C}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",p&&n!==cl&&(E=n.relatedTarget||n.fromElement)&&(Mn(E)||E[Zt]))break e;if((g||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,g?(E=n.relatedTarget||n.toElement,g=d,E=E?Mn(E):null,E!==null&&(S=qn(E),E!==S||E.tag!==5&&E.tag!==6)&&(E=null)):(g=null,E=d),g!==E)){if(C=Ju,w="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(C=Ku,w="onPointerLeave",v="onPointerEnter",y="pointer"),S=g==null?p:jn(g),x=E==null?p:jn(E),p=new C(w,y+"leave",g,n,f),p.target=S,p.relatedTarget=x,w=null,Mn(f)===d&&(C=new C(v,y+"enter",E,n,f),C.target=x,C.relatedTarget=S,w=C),S=w,g&&E)t:{for(C=g,v=E,y=0,x=C;x;x=Wn(x))y++;for(x=0,w=v;w;w=Wn(w))x++;for(;0<y-x;)C=Wn(C),y--;for(;0<x-y;)v=Wn(v),x--;for(;y--;){if(C===v||v!==null&&C===v.alternate)break t;C=Wn(C),v=Wn(v)}C=null}else C=null;g!==null&&sc(m,p,g,C,!1),E!==null&&S!==null&&sc(m,S,E,C,!0)}}e:{if(p=d?jn(d):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var T=G0;else if(Zu(p))if(kp)T=$0;else{T=B0;var A=z0}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=q0);if(T&&(T=T(e,d))){Ap(m,T,n,f);break e}A&&A(e,p,d),e==="focusout"&&(A=p._wrapperState)&&A.controlled&&p.type==="number"&&il(p,"number",p.value)}switch(A=d?jn(d):window,e){case"focusin":(Zu(A)||A.contentEditable==="true")&&(Qn=A,yl=d,tr=null);break;case"focusout":tr=yl=Qn=null;break;case"mousedown":vl=!0;break;case"contextmenu":case"mouseup":case"dragend":vl=!1,oc(m,n,f);break;case"selectionchange":if(J0)break;case"keydown":case"keyup":oc(m,n,f)}var k;if(Aa)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Xn?_p(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Tp&&n.locale!=="ko"&&(Xn||R!=="onCompositionStart"?R==="onCompositionEnd"&&Xn&&(k=Sp()):(fn=f,Ta="value"in fn?fn.value:fn.textContent,Xn=!0)),A=wi(d,R),0<A.length&&(R=new Yu(R,e,null,n,f),m.push({event:R,listeners:A}),k?R.data=k:(k=Ip(n),k!==null&&(R.data=k)))),(k=b0?U0(e,n):F0(e,n))&&(d=wi(d,"onBeforeInput"),0<d.length&&(f=new Yu("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:d}),f.data=k))}Vp(m,t)})}function mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function wi(e,t){for(var n=t+"Capture",o=[];e!==null;){var r=e,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=ar(e,n),i!=null&&o.unshift(mr(e,i,r)),i=ar(e,t),i!=null&&o.push(mr(e,i,r))),e=e.return}return o}function Wn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sc(e,t,n,o,r){for(var i=t._reactName,l=[];n!==null&&n!==o;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===o)break;u.tag===5&&d!==null&&(u=d,r?(c=ar(n,i),c!=null&&l.unshift(mr(n,c,u))):r||(c=ar(n,i),c!=null&&l.push(mr(n,c,u)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Q0=/\r\n?/g,Z0=/\u0000|\uFFFD/g;function lc(e){return(typeof e=="string"?e:""+e).replace(Q0,`
`).replace(Z0,"")}function Gr(e,t,n){if(t=lc(t),lc(e)!==t&&n)throw Error(L(425))}function Ci(){}var xl=null,El=null;function wl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Cl=typeof setTimeout=="function"?setTimeout:void 0,j0=typeof clearTimeout=="function"?clearTimeout:void 0,ac=typeof Promise=="function"?Promise:void 0,ey=typeof queueMicrotask=="function"?queueMicrotask:typeof ac<"u"?function(e){return ac.resolve(null).then(e).catch(ty)}:Cl;function ty(e){setTimeout(function(){throw e})}function Vs(e,t){var n=t,o=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(o===0){e.removeChild(r),dr(t);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=r}while(n);dr(t)}function vn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function uc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ao=Math.random().toString(36).slice(2),zt="__reactFiber$"+Ao,gr="__reactProps$"+Ao,Zt="__reactContainer$"+Ao,Sl="__reactEvents$"+Ao,ny="__reactListeners$"+Ao,oy="__reactHandles$"+Ao;function Mn(e){var t=e[zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zt]||n[zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=uc(e);e!==null;){if(n=e[zt])return n;e=uc(e)}return t}e=n,n=e.parentNode}return null}function Ir(e){return e=e[zt]||e[Zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function jn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function ji(e){return e[gr]||null}var Tl=[],eo=-1;function In(e){return{current:e}}function Te(e){0>eo||(e.current=Tl[eo],Tl[eo]=null,eo--)}function Ee(e,t){eo++,Tl[eo]=e.current,e.current=t}var Tn={},nt=In(Tn),ft=In(!1),Fn=Tn;function xo(e,t){var n=e.type.contextTypes;if(!n)return Tn;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=t[i];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function pt(e){return e=e.childContextTypes,e!=null}function Si(){Te(ft),Te(nt)}function cc(e,t,n){if(nt.current!==Tn)throw Error(L(168));Ee(nt,t),Ee(ft,n)}function Gp(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var r in o)if(!(r in t))throw Error(L(108,zg(e)||"Unknown",r));return Ne({},n,o)}function Ti(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Tn,Fn=nt.current,Ee(nt,e),Ee(ft,ft.current),!0}function dc(e,t,n){var o=e.stateNode;if(!o)throw Error(L(169));n?(e=Gp(e,t,Fn),o.__reactInternalMemoizedMergedChildContext=e,Te(ft),Te(nt),Ee(nt,e)):Te(ft),Ee(ft,n)}var Jt=null,es=!1,Hs=!1;function zp(e){Jt===null?Jt=[e]:Jt.push(e)}function ry(e){es=!0,zp(e)}function An(){if(!Hs&&Jt!==null){Hs=!0;var e=0,t=ye;try{var n=Jt;for(ye=1;e<n.length;e++){var o=n[e];do o=o(!0);while(o!==null)}Jt=null,es=!1}catch(r){throw Jt!==null&&(Jt=Jt.slice(e+1)),fp(Ea,An),r}finally{ye=t,Hs=!1}}return null}var to=[],no=0,_i=null,Ii=0,wt=[],Ct=0,Vn=null,Yt=1,Kt="";function Nn(e,t){to[no++]=Ii,to[no++]=_i,_i=e,Ii=t}function Bp(e,t,n){wt[Ct++]=Yt,wt[Ct++]=Kt,wt[Ct++]=Vn,Vn=e;var o=Yt;e=Kt;var r=32-Dt(o)-1;o&=~(1<<r),n+=1;var i=32-Dt(t)+r;if(30<i){var l=r-r%5;i=(o&(1<<l)-1).toString(32),o>>=l,r-=l,Yt=1<<32-Dt(t)+r|n<<r|o,Kt=i+e}else Yt=1<<i|n<<r|o,Kt=e}function Na(e){e.return!==null&&(Nn(e,1),Bp(e,1,0))}function Ra(e){for(;e===_i;)_i=to[--no],to[no]=null,Ii=to[--no],to[no]=null;for(;e===Vn;)Vn=wt[--Ct],wt[Ct]=null,Kt=wt[--Ct],wt[Ct]=null,Yt=wt[--Ct],wt[Ct]=null}var yt=null,gt=null,_e=!1,Mt=null;function qp(e,t){var n=St(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function fc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yt=e,gt=vn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yt=e,gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Vn!==null?{id:Yt,overflow:Kt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=St(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,yt=e,gt=null,!0):!1;default:return!1}}function _l(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Il(e){if(_e){var t=gt;if(t){var n=t;if(!fc(e,t)){if(_l(e))throw Error(L(418));t=vn(n.nextSibling);var o=yt;t&&fc(e,t)?qp(o,n):(e.flags=e.flags&-4097|2,_e=!1,yt=e)}}else{if(_l(e))throw Error(L(418));e.flags=e.flags&-4097|2,_e=!1,yt=e}}}function pc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yt=e}function zr(e){if(e!==yt)return!1;if(!_e)return pc(e),_e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wl(e.type,e.memoizedProps)),t&&(t=gt)){if(_l(e))throw $p(),Error(L(418));for(;t;)qp(e,t),t=vn(t.nextSibling)}if(pc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){gt=vn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}gt=null}}else gt=yt?vn(e.stateNode.nextSibling):null;return!0}function $p(){for(var e=gt;e;)e=vn(e.nextSibling)}function Eo(){gt=yt=null,_e=!1}function Pa(e){Mt===null?Mt=[e]:Mt.push(e)}var iy=nn.ReactCurrentBatchConfig;function Go(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var o=n.stateNode}if(!o)throw Error(L(147,e));var r=o,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var u=r.refs;l===null?delete u[i]:u[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function Br(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hc(e){var t=e._init;return t(e._payload)}function Op(e){function t(v,y){if(e){var x=v.deletions;x===null?(v.deletions=[y],v.flags|=16):x.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function o(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function r(v,y){return v=Cn(v,y),v.index=0,v.sibling=null,v}function i(v,y,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<y?(v.flags|=2,y):x):(v.flags|=2,y)):(v.flags|=1048576,y)}function l(v){return e&&v.alternate===null&&(v.flags|=2),v}function u(v,y,x,w){return y===null||y.tag!==6?(y=Ws(x,v.mode,w),y.return=v,y):(y=r(y,x),y.return=v,y)}function c(v,y,x,w){var T=x.type;return T===Kn?f(v,y,x.props.children,w,x.key):y!==null&&(y.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===an&&hc(T)===y.type)?(w=r(y,x.props),w.ref=Go(v,y,x),w.return=v,w):(w=ui(x.type,x.key,x.props,null,v.mode,w),w.ref=Go(v,y,x),w.return=v,w)}function d(v,y,x,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Js(x,v.mode,w),y.return=v,y):(y=r(y,x.children||[]),y.return=v,y)}function f(v,y,x,w,T){return y===null||y.tag!==7?(y=Un(x,v.mode,w,T),y.return=v,y):(y=r(y,x),y.return=v,y)}function m(v,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ws(""+y,v.mode,x),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Pr:return x=ui(y.type,y.key,y.props,null,v.mode,x),x.ref=Go(v,null,y),x.return=v,x;case Yn:return y=Js(y,v.mode,x),y.return=v,y;case an:var w=y._init;return m(v,w(y._payload),x)}if(Wo(y)||bo(y))return y=Un(y,v.mode,x,null),y.return=v,y;Br(v,y)}return null}function p(v,y,x,w){var T=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return T!==null?null:u(v,y,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Pr:return x.key===T?c(v,y,x,w):null;case Yn:return x.key===T?d(v,y,x,w):null;case an:return T=x._init,p(v,y,T(x._payload),w)}if(Wo(x)||bo(x))return T!==null?null:f(v,y,x,w,null);Br(v,x)}return null}function g(v,y,x,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(x)||null,u(y,v,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Pr:return v=v.get(w.key===null?x:w.key)||null,c(y,v,w,T);case Yn:return v=v.get(w.key===null?x:w.key)||null,d(y,v,w,T);case an:var A=w._init;return g(v,y,x,A(w._payload),T)}if(Wo(w)||bo(w))return v=v.get(x)||null,f(y,v,w,T,null);Br(y,w)}return null}function E(v,y,x,w){for(var T=null,A=null,k=y,R=y=0,P=null;k!==null&&R<x.length;R++){k.index>R?(P=k,k=null):P=k.sibling;var M=p(v,k,x[R],w);if(M===null){k===null&&(k=P);break}e&&k&&M.alternate===null&&t(v,k),y=i(M,y,R),A===null?T=M:A.sibling=M,A=M,k=P}if(R===x.length)return n(v,k),_e&&Nn(v,R),T;if(k===null){for(;R<x.length;R++)k=m(v,x[R],w),k!==null&&(y=i(k,y,R),A===null?T=k:A.sibling=k,A=k);return _e&&Nn(v,R),T}for(k=o(v,k);R<x.length;R++)P=g(k,v,R,x[R],w),P!==null&&(e&&P.alternate!==null&&k.delete(P.key===null?R:P.key),y=i(P,y,R),A===null?T=P:A.sibling=P,A=P);return e&&k.forEach(function(K){return t(v,K)}),_e&&Nn(v,R),T}function C(v,y,x,w){var T=bo(x);if(typeof T!="function")throw Error(L(150));if(x=T.call(x),x==null)throw Error(L(151));for(var A=T=null,k=y,R=y=0,P=null,M=x.next();k!==null&&!M.done;R++,M=x.next()){k.index>R?(P=k,k=null):P=k.sibling;var K=p(v,k,M.value,w);if(K===null){k===null&&(k=P);break}e&&k&&K.alternate===null&&t(v,k),y=i(K,y,R),A===null?T=K:A.sibling=K,A=K,k=P}if(M.done)return n(v,k),_e&&Nn(v,R),T;if(k===null){for(;!M.done;R++,M=x.next())M=m(v,M.value,w),M!==null&&(y=i(M,y,R),A===null?T=M:A.sibling=M,A=M);return _e&&Nn(v,R),T}for(k=o(v,k);!M.done;R++,M=x.next())M=g(k,v,R,M.value,w),M!==null&&(e&&M.alternate!==null&&k.delete(M.key===null?R:M.key),y=i(M,y,R),A===null?T=M:A.sibling=M,A=M);return e&&k.forEach(function(oe){return t(v,oe)}),_e&&Nn(v,R),T}function S(v,y,x,w){if(typeof x=="object"&&x!==null&&x.type===Kn&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Pr:e:{for(var T=x.key,A=y;A!==null;){if(A.key===T){if(T=x.type,T===Kn){if(A.tag===7){n(v,A.sibling),y=r(A,x.props.children),y.return=v,v=y;break e}}else if(A.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===an&&hc(T)===A.type){n(v,A.sibling),y=r(A,x.props),y.ref=Go(v,A,x),y.return=v,v=y;break e}n(v,A);break}else t(v,A);A=A.sibling}x.type===Kn?(y=Un(x.props.children,v.mode,w,x.key),y.return=v,v=y):(w=ui(x.type,x.key,x.props,null,v.mode,w),w.ref=Go(v,y,x),w.return=v,v=w)}return l(v);case Yn:e:{for(A=x.key;y!==null;){if(y.key===A)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(v,y.sibling),y=r(y,x.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=Js(x,v.mode,w),y.return=v,v=y}return l(v);case an:return A=x._init,S(v,y,A(x._payload),w)}if(Wo(x))return E(v,y,x,w);if(bo(x))return C(v,y,x,w);Br(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(v,y.sibling),y=r(y,x),y.return=v,v=y):(n(v,y),y=Ws(x,v.mode,w),y.return=v,v=y),l(v)):n(v,y)}return S}var wo=Op(!0),Wp=Op(!1),Ai=In(null),ki=null,oo=null,Ma=null;function Da(){Ma=oo=ki=null}function La(e){var t=Ai.current;Te(Ai),e._currentValue=t}function Al(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function ho(e,t){ki=e,Ma=oo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(dt=!0),e.firstContext=null)}function It(e){var t=e._currentValue;if(Ma!==e)if(e={context:e,memoizedValue:t,next:null},oo===null){if(ki===null)throw Error(L(308));oo=e,ki.dependencies={lanes:0,firstContext:e}}else oo=oo.next=e;return t}var Dn=null;function ba(e){Dn===null?Dn=[e]:Dn.push(e)}function Jp(e,t,n,o){var r=t.interleaved;return r===null?(n.next=n,ba(t)):(n.next=r.next,r.next=n),t.interleaved=n,jt(e,o)}function jt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var un=!1;function Ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xn(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,de&2){var r=o.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),o.pending=t,jt(e,n)}return r=o.interleaved,r===null?(t.next=t,ba(o)):(t.next=r.next,r.next=t),o.interleaved=t,jt(e,n)}function oi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,wa(e,n)}}function mc(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?r=i=t:i=i.next=t}else r=i=t;n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,effects:o.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ni(e,t,n,o){var r=e.updateQueue;un=!1;var i=r.firstBaseUpdate,l=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var c=u,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var f=e.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==l&&(u===null?f.firstBaseUpdate=d:u.next=d,f.lastBaseUpdate=c))}if(i!==null){var m=r.baseState;l=0,f=d=c=null,u=i;do{var p=u.lane,g=u.eventTime;if((o&p)===p){f!==null&&(f=f.next={eventTime:g,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var E=e,C=u;switch(p=t,g=n,C.tag){case 1:if(E=C.payload,typeof E=="function"){m=E.call(g,m,p);break e}m=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=C.payload,p=typeof E=="function"?E.call(g,m,p):E,p==null)break e;m=Ne({},m,p);break e;case 2:un=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,p=r.effects,p===null?r.effects=[u]:p.push(u))}else g={eventTime:g,lane:p,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(d=f=g,c=m):f=f.next=g,l|=p;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;p=u,u=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(f===null&&(c=m),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=f,t=r.shared.interleaved,t!==null){r=t;do l|=r.lane,r=r.next;while(r!==t)}else i===null&&(r.shared.lanes=0);Gn|=l,e.lanes=l,e.memoizedState=m}}function gc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],r=o.callback;if(r!==null){if(o.callback=null,o=n,typeof r!="function")throw Error(L(191,r));r.call(o)}}}var Ar={},qt=In(Ar),yr=In(Ar),vr=In(Ar);function Ln(e){if(e===Ar)throw Error(L(174));return e}function Fa(e,t){switch(Ee(vr,t),Ee(yr,e),Ee(qt,Ar),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ll(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ll(t,e)}Te(qt),Ee(qt,t)}function Co(){Te(qt),Te(yr),Te(vr)}function Kp(e){Ln(vr.current);var t=Ln(qt.current),n=ll(t,e.type);t!==n&&(Ee(yr,e),Ee(qt,n))}function Va(e){yr.current===e&&(Te(qt),Te(yr))}var Ae=In(0);function Ri(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gs=[];function Ha(){for(var e=0;e<Gs.length;e++)Gs[e]._workInProgressVersionPrimary=null;Gs.length=0}var ri=nn.ReactCurrentDispatcher,zs=nn.ReactCurrentBatchConfig,Hn=0,ke=null,Be=null,Oe=null,Pi=!1,nr=!1,xr=0,sy=0;function Ze(){throw Error(L(321))}function Ga(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ft(e[n],t[n]))return!1;return!0}function za(e,t,n,o,r,i){if(Hn=i,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ri.current=e===null||e.memoizedState===null?cy:dy,e=n(o,r),nr){i=0;do{if(nr=!1,xr=0,25<=i)throw Error(L(301));i+=1,Oe=Be=null,t.updateQueue=null,ri.current=fy,e=n(o,r)}while(nr)}if(ri.current=Mi,t=Be!==null&&Be.next!==null,Hn=0,Oe=Be=ke=null,Pi=!1,t)throw Error(L(300));return e}function Ba(){var e=xr!==0;return xr=0,e}function Gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?ke.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function At(){if(Be===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=Oe===null?ke.memoizedState:Oe.next;if(t!==null)Oe=t,Be=e;else{if(e===null)throw Error(L(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Oe===null?ke.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function Er(e,t){return typeof t=="function"?t(e):t}function Bs(e){var t=At(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var o=Be,r=o.baseQueue,i=n.pending;if(i!==null){if(r!==null){var l=r.next;r.next=i.next,i.next=l}o.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,o=o.baseState;var u=l=null,c=null,d=i;do{var f=d.lane;if((Hn&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),o=d.hasEagerState?d.eagerState:e(o,d.action);else{var m={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=m,l=o):c=c.next=m,ke.lanes|=f,Gn|=f}d=d.next}while(d!==null&&d!==i);c===null?l=o:c.next=u,Ft(o,t.memoizedState)||(dt=!0),t.memoizedState=o,t.baseState=l,t.baseQueue=c,n.lastRenderedState=o}if(e=n.interleaved,e!==null){r=e;do i=r.lane,ke.lanes|=i,Gn|=i,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function qs(e){var t=At(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var o=n.dispatch,r=n.pending,i=t.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do i=e(i,l.action),l=l.next;while(l!==r);Ft(i,t.memoizedState)||(dt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,o]}function Xp(){}function Qp(e,t){var n=ke,o=At(),r=t(),i=!Ft(o.memoizedState,r);if(i&&(o.memoizedState=r,dt=!0),o=o.queue,qa(eh.bind(null,n,o,e),[e]),o.getSnapshot!==t||i||Oe!==null&&Oe.memoizedState.tag&1){if(n.flags|=2048,wr(9,jp.bind(null,n,o,r,t),void 0,null),We===null)throw Error(L(349));Hn&30||Zp(n,t,r)}return r}function Zp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function jp(e,t,n,o){t.value=n,t.getSnapshot=o,th(t)&&nh(e)}function eh(e,t,n){return n(function(){th(t)&&nh(e)})}function th(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ft(e,n)}catch{return!0}}function nh(e){var t=jt(e,1);t!==null&&Lt(t,e,1,-1)}function yc(e){var t=Gt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:e},t.queue=e,e=e.dispatch=uy.bind(null,ke,e),[t.memoizedState,e]}function wr(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function oh(){return At().memoizedState}function ii(e,t,n,o){var r=Gt();ke.flags|=e,r.memoizedState=wr(1|t,n,void 0,o===void 0?null:o)}function ts(e,t,n,o){var r=At();o=o===void 0?null:o;var i=void 0;if(Be!==null){var l=Be.memoizedState;if(i=l.destroy,o!==null&&Ga(o,l.deps)){r.memoizedState=wr(t,n,i,o);return}}ke.flags|=e,r.memoizedState=wr(1|t,n,i,o)}function vc(e,t){return ii(8390656,8,e,t)}function qa(e,t){return ts(2048,8,e,t)}function rh(e,t){return ts(4,2,e,t)}function ih(e,t){return ts(4,4,e,t)}function sh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lh(e,t,n){return n=n!=null?n.concat([e]):null,ts(4,4,sh.bind(null,t,e),n)}function $a(){}function ah(e,t){var n=At();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&Ga(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function uh(e,t){var n=At();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&Ga(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function ch(e,t,n){return Hn&21?(Ft(n,t)||(n=mp(),ke.lanes|=n,Gn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,dt=!0),e.memoizedState=n)}function ly(e,t){var n=ye;ye=n!==0&&4>n?n:4,e(!0);var o=zs.transition;zs.transition={};try{e(!1),t()}finally{ye=n,zs.transition=o}}function dh(){return At().memoizedState}function ay(e,t,n){var o=wn(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},fh(e))ph(t,n);else if(n=Jp(e,t,n,o),n!==null){var r=it();Lt(n,e,o,r),hh(n,t,o)}}function uy(e,t,n){var o=wn(e),r={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(fh(e))ph(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,u=i(l,n);if(r.hasEagerState=!0,r.eagerState=u,Ft(u,l)){var c=t.interleaved;c===null?(r.next=r,ba(t)):(r.next=c.next,c.next=r),t.interleaved=r;return}}catch{}finally{}n=Jp(e,t,r,o),n!==null&&(r=it(),Lt(n,e,o,r),hh(n,t,o))}}function fh(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function ph(e,t){nr=Pi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hh(e,t,n){if(n&4194240){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,wa(e,n)}}var Mi={readContext:It,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},cy={readContext:It,useCallback:function(e,t){return Gt().memoizedState=[e,t===void 0?null:t],e},useContext:It,useEffect:vc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ii(4194308,4,sh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ii(4194308,4,e,t)},useInsertionEffect:function(e,t){return ii(4,2,e,t)},useMemo:function(e,t){var n=Gt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=Gt();return t=n!==void 0?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=ay.bind(null,ke,e),[o.memoizedState,e]},useRef:function(e){var t=Gt();return e={current:e},t.memoizedState=e},useState:yc,useDebugValue:$a,useDeferredValue:function(e){return Gt().memoizedState=e},useTransition:function(){var e=yc(!1),t=e[0];return e=ly.bind(null,e[1]),Gt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=ke,r=Gt();if(_e){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),We===null)throw Error(L(349));Hn&30||Zp(o,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,vc(eh.bind(null,o,i,e),[e]),o.flags|=2048,wr(9,jp.bind(null,o,i,n,t),void 0,null),n},useId:function(){var e=Gt(),t=We.identifierPrefix;if(_e){var n=Kt,o=Yt;n=(o&~(1<<32-Dt(o)-1)).toString(32)+n,t=":"+t+"R"+n,n=xr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=sy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dy={readContext:It,useCallback:ah,useContext:It,useEffect:qa,useImperativeHandle:lh,useInsertionEffect:rh,useLayoutEffect:ih,useMemo:uh,useReducer:Bs,useRef:oh,useState:function(){return Bs(Er)},useDebugValue:$a,useDeferredValue:function(e){var t=At();return ch(t,Be.memoizedState,e)},useTransition:function(){var e=Bs(Er)[0],t=At().memoizedState;return[e,t]},useMutableSource:Xp,useSyncExternalStore:Qp,useId:dh,unstable_isNewReconciler:!1},fy={readContext:It,useCallback:ah,useContext:It,useEffect:qa,useImperativeHandle:lh,useInsertionEffect:rh,useLayoutEffect:ih,useMemo:uh,useReducer:qs,useRef:oh,useState:function(){return qs(Er)},useDebugValue:$a,useDeferredValue:function(e){var t=At();return Be===null?t.memoizedState=e:ch(t,Be.memoizedState,e)},useTransition:function(){var e=qs(Er)[0],t=At().memoizedState;return[e,t]},useMutableSource:Xp,useSyncExternalStore:Qp,useId:dh,unstable_isNewReconciler:!1};function Rt(e,t){if(e&&e.defaultProps){t=Ne({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function kl(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:Ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ns={isMounted:function(e){return(e=e._reactInternals)?qn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=it(),r=wn(e),i=Xt(o,r);i.payload=t,n!=null&&(i.callback=n),t=xn(e,i,r),t!==null&&(Lt(t,e,r,o),oi(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=it(),r=wn(e),i=Xt(o,r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=xn(e,i,r),t!==null&&(Lt(t,e,r,o),oi(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=it(),o=wn(e),r=Xt(n,o);r.tag=2,t!=null&&(r.callback=t),t=xn(e,r,o),t!==null&&(Lt(t,e,o,n),oi(t,e,o))}};function xc(e,t,n,o,r,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,i,l):t.prototype&&t.prototype.isPureReactComponent?!pr(n,o)||!pr(r,i):!0}function mh(e,t,n){var o=!1,r=Tn,i=t.contextType;return typeof i=="object"&&i!==null?i=It(i):(r=pt(t)?Fn:nt.current,o=t.contextTypes,i=(o=o!=null)?xo(e,r):Tn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ns,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ec(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&ns.enqueueReplaceState(t,t.state,null)}function Nl(e,t,n,o){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Ua(e);var i=t.contextType;typeof i=="object"&&i!==null?r.context=It(i):(i=pt(t)?Fn:nt.current,r.context=xo(e,i)),r.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(kl(e,t,i,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&ns.enqueueReplaceState(r,r.state,null),Ni(e,n,r,o),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function So(e,t){try{var n="",o=t;do n+=Gg(o),o=o.return;while(o);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:r,digest:null}}function $s(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Rl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var py=typeof WeakMap=="function"?WeakMap:Map;function gh(e,t,n){n=Xt(-1,n),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){Li||(Li=!0,Gl=o),Rl(e,t)},n}function yh(e,t,n){n=Xt(-1,n),n.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var r=t.value;n.payload=function(){return o(r)},n.callback=function(){Rl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Rl(e,t),typeof o!="function"&&(En===null?En=new Set([this]):En.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function wc(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new py;var r=new Set;o.set(t,r)}else r=o.get(t),r===void 0&&(r=new Set,o.set(t,r));r.has(n)||(r.add(n),e=Ay.bind(null,e,t,n),t.then(e,e))}function Cc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Sc(e,t,n,o,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Xt(-1,1),t.tag=2,xn(n,t,1))),n.lanes|=1),e)}var hy=nn.ReactCurrentOwner,dt=!1;function rt(e,t,n,o){t.child=e===null?Wp(t,null,n,o):wo(t,e.child,n,o)}function Tc(e,t,n,o,r){n=n.render;var i=t.ref;return ho(t,r),o=za(e,t,n,o,i,r),n=Ba(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,en(e,t,r)):(_e&&n&&Na(t),t.flags|=1,rt(e,t,o,r),t.child)}function _c(e,t,n,o,r){if(e===null){var i=n.type;return typeof i=="function"&&!Za(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,vh(e,t,i,o,r)):(e=ui(n.type,null,o,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&r)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:pr,n(l,o)&&e.ref===t.ref)return en(e,t,r)}return t.flags|=1,e=Cn(i,o),e.ref=t.ref,e.return=t,t.child=e}function vh(e,t,n,o,r){if(e!==null){var i=e.memoizedProps;if(pr(i,o)&&e.ref===t.ref)if(dt=!1,t.pendingProps=o=i,(e.lanes&r)!==0)e.flags&131072&&(dt=!0);else return t.lanes=e.lanes,en(e,t,r)}return Pl(e,t,n,o,r)}function xh(e,t,n){var o=t.pendingProps,r=o.children,i=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(io,mt),mt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ee(io,mt),mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=i!==null?i.baseLanes:n,Ee(io,mt),mt|=o}else i!==null?(o=i.baseLanes|n,t.memoizedState=null):o=n,Ee(io,mt),mt|=o;return rt(e,t,r,n),t.child}function Eh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Pl(e,t,n,o,r){var i=pt(n)?Fn:nt.current;return i=xo(t,i),ho(t,r),n=za(e,t,n,o,i,r),o=Ba(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,en(e,t,r)):(_e&&o&&Na(t),t.flags|=1,rt(e,t,n,r),t.child)}function Ic(e,t,n,o,r){if(pt(n)){var i=!0;Ti(t)}else i=!1;if(ho(t,r),t.stateNode===null)si(e,t),mh(t,n,o),Nl(t,n,o,r),o=!0;else if(e===null){var l=t.stateNode,u=t.memoizedProps;l.props=u;var c=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=It(d):(d=pt(n)?Fn:nt.current,d=xo(t,d));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==o||c!==d)&&Ec(t,l,o,d),un=!1;var p=t.memoizedState;l.state=p,Ni(t,o,l,r),c=t.memoizedState,u!==o||p!==c||ft.current||un?(typeof f=="function"&&(kl(t,n,f,o),c=t.memoizedState),(u=un||xc(t,n,u,o,p,c,d))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=c),l.props=o,l.state=c,l.context=d,o=u):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{l=t.stateNode,Yp(e,t),u=t.memoizedProps,d=t.type===t.elementType?u:Rt(t.type,u),l.props=d,m=t.pendingProps,p=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=It(c):(c=pt(n)?Fn:nt.current,c=xo(t,c));var g=n.getDerivedStateFromProps;(f=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==m||p!==c)&&Ec(t,l,o,c),un=!1,p=t.memoizedState,l.state=p,Ni(t,o,l,r);var E=t.memoizedState;u!==m||p!==E||ft.current||un?(typeof g=="function"&&(kl(t,n,g,o),E=t.memoizedState),(d=un||xc(t,n,d,o,p,E,c)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(o,E,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(o,E,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=E),l.props=o,l.state=E,l.context=c,o=d):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),o=!1)}return Ml(e,t,n,o,i,r)}function Ml(e,t,n,o,r,i){Eh(e,t);var l=(t.flags&128)!==0;if(!o&&!l)return r&&dc(t,n,!1),en(e,t,i);o=t.stateNode,hy.current=t;var u=l&&typeof n.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&l?(t.child=wo(t,e.child,null,i),t.child=wo(t,null,u,i)):rt(e,t,u,i),t.memoizedState=o.state,r&&dc(t,n,!0),t.child}function wh(e){var t=e.stateNode;t.pendingContext?cc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cc(e,t.context,!1),Fa(e,t.containerInfo)}function Ac(e,t,n,o,r){return Eo(),Pa(r),t.flags|=256,rt(e,t,n,o),t.child}var Dl={dehydrated:null,treeContext:null,retryLane:0};function Ll(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ch(e,t,n){var o=t.pendingProps,r=Ae.current,i=!1,l=(t.flags&128)!==0,u;if((u=l)||(u=e!==null&&e.memoizedState===null?!1:(r&2)!==0),u?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),Ee(Ae,r&1),e===null)return Il(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=o.children,e=o.fallback,i?(o=t.mode,i=t.child,l={mode:"hidden",children:l},!(o&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=is(l,o,0,null),e=Un(e,o,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ll(n),t.memoizedState=Dl,e):Oa(t,l));if(r=e.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return my(e,t,l,o,u,r,n);if(i){i=o.fallback,l=t.mode,r=e.child,u=r.sibling;var c={mode:"hidden",children:o.children};return!(l&1)&&t.child!==r?(o=t.child,o.childLanes=0,o.pendingProps=c,t.deletions=null):(o=Cn(r,c),o.subtreeFlags=r.subtreeFlags&14680064),u!==null?i=Cn(u,i):(i=Un(i,l,n,null),i.flags|=2),i.return=t,o.return=t,o.sibling=i,t.child=o,o=i,i=t.child,l=e.child.memoizedState,l=l===null?Ll(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Dl,o}return i=e.child,e=i.sibling,o=Cn(i,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Oa(e,t){return t=is({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qr(e,t,n,o){return o!==null&&Pa(o),wo(t,e.child,null,n),e=Oa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function my(e,t,n,o,r,i,l){if(n)return t.flags&256?(t.flags&=-257,o=$s(Error(L(422))),qr(e,t,l,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=o.fallback,r=t.mode,o=is({mode:"visible",children:o.children},r,0,null),i=Un(i,r,l,null),i.flags|=2,o.return=t,i.return=t,o.sibling=i,t.child=o,t.mode&1&&wo(t,e.child,null,l),t.child.memoizedState=Ll(l),t.memoizedState=Dl,i);if(!(t.mode&1))return qr(e,t,l,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var u=o.dgst;return o=u,i=Error(L(419)),o=$s(i,o,void 0),qr(e,t,l,o)}if(u=(l&e.childLanes)!==0,dt||u){if(o=We,o!==null){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|l)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,jt(e,r),Lt(o,e,r,-1))}return Qa(),o=$s(Error(L(421))),qr(e,t,l,o)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=ky.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,gt=vn(r.nextSibling),yt=t,_e=!0,Mt=null,e!==null&&(wt[Ct++]=Yt,wt[Ct++]=Kt,wt[Ct++]=Vn,Yt=e.id,Kt=e.overflow,Vn=t),t=Oa(t,o.children),t.flags|=4096,t)}function kc(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Al(e.return,t,n)}function Os(e,t,n,o,r){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=n,i.tailMode=r)}function Sh(e,t,n){var o=t.pendingProps,r=o.revealOrder,i=o.tail;if(rt(e,t,o.children,n),o=Ae.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kc(e,n,t);else if(e.tag===19)kc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Ee(Ae,o),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Ri(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Os(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Ri(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Os(t,!0,n,null,i);break;case"together":Os(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function si(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function en(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=Cn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Cn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function gy(e,t,n){switch(t.tag){case 3:wh(t),Eo();break;case 5:Kp(t);break;case 1:pt(t.type)&&Ti(t);break;case 4:Fa(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,r=t.memoizedProps.value;Ee(Ai,o._currentValue),o._currentValue=r;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Ee(Ae,Ae.current&1),t.flags|=128,null):n&t.child.childLanes?Ch(e,t,n):(Ee(Ae,Ae.current&1),e=en(e,t,n),e!==null?e.sibling:null);Ee(Ae,Ae.current&1);break;case 19:if(o=(n&t.childLanes)!==0,e.flags&128){if(o)return Sh(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ee(Ae,Ae.current),o)break;return null;case 22:case 23:return t.lanes=0,xh(e,t,n)}return en(e,t,n)}var Th,bl,_h,Ih;Th=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bl=function(){};_h=function(e,t,n,o){var r=e.memoizedProps;if(r!==o){e=t.stateNode,Ln(qt.current);var i=null;switch(n){case"input":r=ol(e,r),o=ol(e,o),i=[];break;case"select":r=Ne({},r,{value:void 0}),o=Ne({},o,{value:void 0}),i=[];break;case"textarea":r=sl(e,r),o=sl(e,o),i=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Ci)}al(n,o);var l;n=null;for(d in r)if(!o.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var u=r[d];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(sr.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in o){var c=o[d];if(u=r!=null?r[d]:void 0,o.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(sr.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ce("scroll",e),i||u===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Ih=function(e,t,n,o){n!==o&&(t.flags|=4)};function zo(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function je(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function yy(e,t,n){var o=t.pendingProps;switch(Ra(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(t),null;case 1:return pt(t.type)&&Si(),je(t),null;case 3:return o=t.stateNode,Co(),Te(ft),Te(nt),Ha(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(zr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mt!==null&&(ql(Mt),Mt=null))),bl(e,t),je(t),null;case 5:Va(t);var r=Ln(vr.current);if(n=t.type,e!==null&&t.stateNode!=null)_h(e,t,n,o,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(L(166));return je(t),null}if(e=Ln(qt.current),zr(t)){o=t.stateNode,n=t.type;var i=t.memoizedProps;switch(o[zt]=t,o[gr]=i,e=(t.mode&1)!==0,n){case"dialog":Ce("cancel",o),Ce("close",o);break;case"iframe":case"object":case"embed":Ce("load",o);break;case"video":case"audio":for(r=0;r<Yo.length;r++)Ce(Yo[r],o);break;case"source":Ce("error",o);break;case"img":case"image":case"link":Ce("error",o),Ce("load",o);break;case"details":Ce("toggle",o);break;case"input":Fu(o,i),Ce("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},Ce("invalid",o);break;case"textarea":Hu(o,i),Ce("invalid",o)}al(n,i),r=null;for(var l in i)if(i.hasOwnProperty(l)){var u=i[l];l==="children"?typeof u=="string"?o.textContent!==u&&(i.suppressHydrationWarning!==!0&&Gr(o.textContent,u,e),r=["children",u]):typeof u=="number"&&o.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&Gr(o.textContent,u,e),r=["children",""+u]):sr.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&Ce("scroll",o)}switch(n){case"input":Mr(o),Vu(o,i,!0);break;case"textarea":Mr(o),Gu(o);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(o.onclick=Ci)}o=r,t.updateQueue=o,o!==null&&(t.flags|=4)}else{l=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ep(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=l.createElement(n,{is:o.is}):(e=l.createElement(n),n==="select"&&(l=e,o.multiple?l.multiple=!0:o.size&&(l.size=o.size))):e=l.createElementNS(e,n),e[zt]=t,e[gr]=o,Th(e,t,!1,!1),t.stateNode=e;e:{switch(l=ul(n,o),n){case"dialog":Ce("cancel",e),Ce("close",e),r=o;break;case"iframe":case"object":case"embed":Ce("load",e),r=o;break;case"video":case"audio":for(r=0;r<Yo.length;r++)Ce(Yo[r],e);r=o;break;case"source":Ce("error",e),r=o;break;case"img":case"image":case"link":Ce("error",e),Ce("load",e),r=o;break;case"details":Ce("toggle",e),r=o;break;case"input":Fu(e,o),r=ol(e,o),Ce("invalid",e);break;case"option":r=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},r=Ne({},o,{value:void 0}),Ce("invalid",e);break;case"textarea":Hu(e,o),r=sl(e,o),Ce("invalid",e);break;default:r=o}al(n,r),u=r;for(i in u)if(u.hasOwnProperty(i)){var c=u[i];i==="style"?op(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&tp(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&lr(e,c):typeof c=="number"&&lr(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(sr.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ce("scroll",e):c!=null&&ma(e,i,c,l))}switch(n){case"input":Mr(e),Vu(e,o,!1);break;case"textarea":Mr(e),Gu(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Sn(o.value));break;case"select":e.multiple=!!o.multiple,i=o.value,i!=null?uo(e,!!o.multiple,i,!1):o.defaultValue!=null&&uo(e,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=Ci)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return je(t),null;case 6:if(e&&t.stateNode!=null)Ih(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(L(166));if(n=Ln(vr.current),Ln(qt.current),zr(t)){if(o=t.stateNode,n=t.memoizedProps,o[zt]=t,(i=o.nodeValue!==n)&&(e=yt,e!==null))switch(e.tag){case 3:Gr(o.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gr(o.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[zt]=t,t.stateNode=o}return je(t),null;case 13:if(Te(Ae),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_e&&gt!==null&&t.mode&1&&!(t.flags&128))$p(),Eo(),t.flags|=98560,i=!1;else if(i=zr(t),o!==null&&o.dehydrated!==null){if(e===null){if(!i)throw Error(L(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(L(317));i[zt]=t}else Eo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;je(t),i=!1}else Mt!==null&&(ql(Mt),Mt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||Ae.current&1?qe===0&&(qe=3):Qa())),t.updateQueue!==null&&(t.flags|=4),je(t),null);case 4:return Co(),bl(e,t),e===null&&hr(t.stateNode.containerInfo),je(t),null;case 10:return La(t.type._context),je(t),null;case 17:return pt(t.type)&&Si(),je(t),null;case 19:if(Te(Ae),i=t.memoizedState,i===null)return je(t),null;if(o=(t.flags&128)!==0,l=i.rendering,l===null)if(o)zo(i,!1);else{if(qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Ri(e),l!==null){for(t.flags|=128,zo(i,!1),o=l.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;n!==null;)i=n,e=o,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ee(Ae,Ae.current&1|2),t.child}e=e.sibling}i.tail!==null&&Fe()>To&&(t.flags|=128,o=!0,zo(i,!1),t.lanes=4194304)}else{if(!o)if(e=Ri(l),e!==null){if(t.flags|=128,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),zo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!_e)return je(t),null}else 2*Fe()-i.renderingStartTime>To&&n!==1073741824&&(t.flags|=128,o=!0,zo(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Fe(),t.sibling=null,n=Ae.current,Ee(Ae,o?n&1|2:n&1),t):(je(t),null);case 22:case 23:return Xa(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?mt&1073741824&&(je(t),t.subtreeFlags&6&&(t.flags|=8192)):je(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function vy(e,t){switch(Ra(t),t.tag){case 1:return pt(t.type)&&Si(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Co(),Te(ft),Te(nt),Ha(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Va(t),null;case 13:if(Te(Ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Eo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Te(Ae),null;case 4:return Co(),null;case 10:return La(t.type._context),null;case 22:case 23:return Xa(),null;case 24:return null;default:return null}}var $r=!1,et=!1,xy=typeof WeakSet=="function"?WeakSet:Set,q=null;function ro(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){De(e,t,o)}else n.current=null}function Ul(e,t,n){try{n()}catch(o){De(e,t,o)}}var Nc=!1;function Ey(e,t){if(xl=xi,e=Pp(),ka(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,u=-1,c=-1,d=0,f=0,m=e,p=null;t:for(;;){for(var g;m!==n||r!==0&&m.nodeType!==3||(u=l+r),m!==i||o!==0&&m.nodeType!==3||(c=l+o),m.nodeType===3&&(l+=m.nodeValue.length),(g=m.firstChild)!==null;)p=m,m=g;for(;;){if(m===e)break t;if(p===n&&++d===r&&(u=l),p===i&&++f===o&&(c=l),(g=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=g}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(El={focusedElem:e,selectionRange:n},xi=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var C=E.memoizedProps,S=E.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?C:Rt(t.type,C),S);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(w){De(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return E=Nc,Nc=!1,E}function or(e,t,n){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,i!==void 0&&Ul(t,n,i)}r=r.next}while(r!==o)}}function os(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function Fl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ah(e){var t=e.alternate;t!==null&&(e.alternate=null,Ah(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zt],delete t[gr],delete t[Sl],delete t[ny],delete t[oy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kh(e){return e.tag===5||e.tag===3||e.tag===4}function Rc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vl(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ci));else if(o!==4&&(e=e.child,e!==null))for(Vl(e,t,n),e=e.sibling;e!==null;)Vl(e,t,n),e=e.sibling}function Hl(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Hl(e,t,n),e=e.sibling;e!==null;)Hl(e,t,n),e=e.sibling}var Ye=null,Pt=!1;function ln(e,t,n){for(n=n.child;n!==null;)Nh(e,t,n),n=n.sibling}function Nh(e,t,n){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Ki,n)}catch{}switch(n.tag){case 5:et||ro(n,t);case 6:var o=Ye,r=Pt;Ye=null,ln(e,t,n),Ye=o,Pt=r,Ye!==null&&(Pt?(e=Ye,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ye.removeChild(n.stateNode));break;case 18:Ye!==null&&(Pt?(e=Ye,n=n.stateNode,e.nodeType===8?Vs(e.parentNode,n):e.nodeType===1&&Vs(e,n),dr(e)):Vs(Ye,n.stateNode));break;case 4:o=Ye,r=Pt,Ye=n.stateNode.containerInfo,Pt=!0,ln(e,t,n),Ye=o,Pt=r;break;case 0:case 11:case 14:case 15:if(!et&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var i=r,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Ul(n,t,l),r=r.next}while(r!==o)}ln(e,t,n);break;case 1:if(!et&&(ro(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(u){De(n,t,u)}ln(e,t,n);break;case 21:ln(e,t,n);break;case 22:n.mode&1?(et=(o=et)||n.memoizedState!==null,ln(e,t,n),et=o):ln(e,t,n);break;default:ln(e,t,n)}}function Pc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new xy),t.forEach(function(o){var r=Ny.bind(null,e,o);n.has(o)||(n.add(o),o.then(r,r))})}}function Nt(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var r=n[o];try{var i=e,l=t,u=l;e:for(;u!==null;){switch(u.tag){case 5:Ye=u.stateNode,Pt=!1;break e;case 3:Ye=u.stateNode.containerInfo,Pt=!0;break e;case 4:Ye=u.stateNode.containerInfo,Pt=!0;break e}u=u.return}if(Ye===null)throw Error(L(160));Nh(i,l,r),Ye=null,Pt=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){De(r,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Rh(t,e),t=t.sibling}function Rh(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nt(t,e),Ht(e),o&4){try{or(3,e,e.return),os(3,e)}catch(C){De(e,e.return,C)}try{or(5,e,e.return)}catch(C){De(e,e.return,C)}}break;case 1:Nt(t,e),Ht(e),o&512&&n!==null&&ro(n,n.return);break;case 5:if(Nt(t,e),Ht(e),o&512&&n!==null&&ro(n,n.return),e.flags&32){var r=e.stateNode;try{lr(r,"")}catch(C){De(e,e.return,C)}}if(o&4&&(r=e.stateNode,r!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,u=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&Zf(r,i),ul(u,l);var d=ul(u,i);for(l=0;l<c.length;l+=2){var f=c[l],m=c[l+1];f==="style"?op(r,m):f==="dangerouslySetInnerHTML"?tp(r,m):f==="children"?lr(r,m):ma(r,f,m,d)}switch(u){case"input":rl(r,i);break;case"textarea":jf(r,i);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?uo(r,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?uo(r,!!i.multiple,i.defaultValue,!0):uo(r,!!i.multiple,i.multiple?[]:"",!1))}r[gr]=i}catch(C){De(e,e.return,C)}}break;case 6:if(Nt(t,e),Ht(e),o&4){if(e.stateNode===null)throw Error(L(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(C){De(e,e.return,C)}}break;case 3:if(Nt(t,e),Ht(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{dr(t.containerInfo)}catch(C){De(e,e.return,C)}break;case 4:Nt(t,e),Ht(e);break;case 13:Nt(t,e),Ht(e),r=e.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Ya=Fe())),o&4&&Pc(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(et=(d=et)||f,Nt(t,e),et=d):Nt(t,e),Ht(e),o&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(q=e,f=e.child;f!==null;){for(m=q=f;q!==null;){switch(p=q,g=p.child,p.tag){case 0:case 11:case 14:case 15:or(4,p,p.return);break;case 1:ro(p,p.return);var E=p.stateNode;if(typeof E.componentWillUnmount=="function"){o=p,n=p.return;try{t=o,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(C){De(o,n,C)}}break;case 5:ro(p,p.return);break;case 22:if(p.memoizedState!==null){Dc(m);continue}}g!==null?(g.return=p,q=g):Dc(m)}f=f.sibling}e:for(f=null,m=e;;){if(m.tag===5){if(f===null){f=m;try{r=m.stateNode,d?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=m.stateNode,c=m.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=np("display",l))}catch(C){De(e,e.return,C)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(C){De(e,e.return,C)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Nt(t,e),Ht(e),o&4&&Pc(e);break;case 21:break;default:Nt(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(kh(n)){var o=n;break e}n=n.return}throw Error(L(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&(lr(r,""),o.flags&=-33);var i=Rc(e);Hl(e,i,r);break;case 3:case 4:var l=o.stateNode.containerInfo,u=Rc(e);Vl(e,u,l);break;default:throw Error(L(161))}}catch(c){De(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wy(e,t,n){q=e,Ph(e)}function Ph(e,t,n){for(var o=(e.mode&1)!==0;q!==null;){var r=q,i=r.child;if(r.tag===22&&o){var l=r.memoizedState!==null||$r;if(!l){var u=r.alternate,c=u!==null&&u.memoizedState!==null||et;u=$r;var d=et;if($r=l,(et=c)&&!d)for(q=r;q!==null;)l=q,c=l.child,l.tag===22&&l.memoizedState!==null?Lc(r):c!==null?(c.return=l,q=c):Lc(r);for(;i!==null;)q=i,Ph(i),i=i.sibling;q=r,$r=u,et=d}Mc(e)}else r.subtreeFlags&8772&&i!==null?(i.return=r,q=i):Mc(e)}}function Mc(e){for(;q!==null;){var t=q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:et||os(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!et)if(n===null)o.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Rt(t.type,n.memoizedProps);o.componentDidUpdate(r,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&gc(t,i,o);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}gc(t,l,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&dr(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}et||t.flags&512&&Fl(t)}catch(p){De(t,t.return,p)}}if(t===e){q=null;break}if(n=t.sibling,n!==null){n.return=t.return,q=n;break}q=t.return}}function Dc(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,q=n;break}q=t.return}}function Lc(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{os(4,t)}catch(c){De(t,n,c)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var r=t.return;try{o.componentDidMount()}catch(c){De(t,r,c)}}var i=t.return;try{Fl(t)}catch(c){De(t,i,c)}break;case 5:var l=t.return;try{Fl(t)}catch(c){De(t,l,c)}}}catch(c){De(t,t.return,c)}if(t===e){q=null;break}var u=t.sibling;if(u!==null){u.return=t.return,q=u;break}q=t.return}}var Cy=Math.ceil,Di=nn.ReactCurrentDispatcher,Wa=nn.ReactCurrentOwner,Tt=nn.ReactCurrentBatchConfig,de=0,We=null,ze=null,Ke=0,mt=0,io=In(0),qe=0,Cr=null,Gn=0,rs=0,Ja=0,rr=null,ct=null,Ya=0,To=1/0,Wt=null,Li=!1,Gl=null,En=null,Or=!1,pn=null,bi=0,ir=0,zl=null,li=-1,ai=0;function it(){return de&6?Fe():li!==-1?li:li=Fe()}function wn(e){return e.mode&1?de&2&&Ke!==0?Ke&-Ke:iy.transition!==null?(ai===0&&(ai=mp()),ai):(e=ye,e!==0||(e=window.event,e=e===void 0?16:Cp(e.type)),e):1}function Lt(e,t,n,o){if(50<ir)throw ir=0,zl=null,Error(L(185));Tr(e,n,o),(!(de&2)||e!==We)&&(e===We&&(!(de&2)&&(rs|=n),qe===4&&dn(e,Ke)),ht(e,o),n===1&&de===0&&!(t.mode&1)&&(To=Fe()+500,es&&An()))}function ht(e,t){var n=e.callbackNode;i0(e,t);var o=vi(e,e===We?Ke:0);if(o===0)n!==null&&qu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(n!=null&&qu(n),t===1)e.tag===0?ry(bc.bind(null,e)):zp(bc.bind(null,e)),ey(function(){!(de&6)&&An()}),n=null;else{switch(gp(o)){case 1:n=Ea;break;case 4:n=pp;break;case 16:n=yi;break;case 536870912:n=hp;break;default:n=yi}n=Hh(n,Mh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Mh(e,t){if(li=-1,ai=0,de&6)throw Error(L(327));var n=e.callbackNode;if(mo()&&e.callbackNode!==n)return null;var o=vi(e,e===We?Ke:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=Ui(e,o);else{t=o;var r=de;de|=2;var i=Lh();(We!==e||Ke!==t)&&(Wt=null,To=Fe()+500,bn(e,t));do try{_y();break}catch(u){Dh(e,u)}while(!0);Da(),Di.current=i,de=r,ze!==null?t=0:(We=null,Ke=0,t=qe)}if(t!==0){if(t===2&&(r=hl(e),r!==0&&(o=r,t=Bl(e,r))),t===1)throw n=Cr,bn(e,0),dn(e,o),ht(e,Fe()),n;if(t===6)dn(e,o);else{if(r=e.current.alternate,!(o&30)&&!Sy(r)&&(t=Ui(e,o),t===2&&(i=hl(e),i!==0&&(o=i,t=Bl(e,i))),t===1))throw n=Cr,bn(e,0),dn(e,o),ht(e,Fe()),n;switch(e.finishedWork=r,e.finishedLanes=o,t){case 0:case 1:throw Error(L(345));case 2:Rn(e,ct,Wt);break;case 3:if(dn(e,o),(o&130023424)===o&&(t=Ya+500-Fe(),10<t)){if(vi(e,0)!==0)break;if(r=e.suspendedLanes,(r&o)!==o){it(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Cl(Rn.bind(null,e,ct,Wt),t);break}Rn(e,ct,Wt);break;case 4:if(dn(e,o),(o&4194240)===o)break;for(t=e.eventTimes,r=-1;0<o;){var l=31-Dt(o);i=1<<l,l=t[l],l>r&&(r=l),o&=~i}if(o=r,o=Fe()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Cy(o/1960))-o,10<o){e.timeoutHandle=Cl(Rn.bind(null,e,ct,Wt),o);break}Rn(e,ct,Wt);break;case 5:Rn(e,ct,Wt);break;default:throw Error(L(329))}}}return ht(e,Fe()),e.callbackNode===n?Mh.bind(null,e):null}function Bl(e,t){var n=rr;return e.current.memoizedState.isDehydrated&&(bn(e,t).flags|=256),e=Ui(e,t),e!==2&&(t=ct,ct=n,t!==null&&ql(t)),e}function ql(e){ct===null?ct=e:ct.push.apply(ct,e)}function Sy(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var r=n[o],i=r.getSnapshot;r=r.value;try{if(!Ft(i(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dn(e,t){for(t&=~Ja,t&=~rs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Dt(t),o=1<<n;e[n]=-1,t&=~o}}function bc(e){if(de&6)throw Error(L(327));mo();var t=vi(e,0);if(!(t&1))return ht(e,Fe()),null;var n=Ui(e,t);if(e.tag!==0&&n===2){var o=hl(e);o!==0&&(t=o,n=Bl(e,o))}if(n===1)throw n=Cr,bn(e,0),dn(e,t),ht(e,Fe()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rn(e,ct,Wt),ht(e,Fe()),null}function Ka(e,t){var n=de;de|=1;try{return e(t)}finally{de=n,de===0&&(To=Fe()+500,es&&An())}}function zn(e){pn!==null&&pn.tag===0&&!(de&6)&&mo();var t=de;de|=1;var n=Tt.transition,o=ye;try{if(Tt.transition=null,ye=1,e)return e()}finally{ye=o,Tt.transition=n,de=t,!(de&6)&&An()}}function Xa(){mt=io.current,Te(io)}function bn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,j0(n)),ze!==null)for(n=ze.return;n!==null;){var o=n;switch(Ra(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Si();break;case 3:Co(),Te(ft),Te(nt),Ha();break;case 5:Va(o);break;case 4:Co();break;case 13:Te(Ae);break;case 19:Te(Ae);break;case 10:La(o.type._context);break;case 22:case 23:Xa()}n=n.return}if(We=e,ze=e=Cn(e.current,null),Ke=mt=t,qe=0,Cr=null,Ja=rs=Gn=0,ct=rr=null,Dn!==null){for(t=0;t<Dn.length;t++)if(n=Dn[t],o=n.interleaved,o!==null){n.interleaved=null;var r=o.next,i=n.pending;if(i!==null){var l=i.next;i.next=r,o.next=l}n.pending=o}Dn=null}return e}function Dh(e,t){do{var n=ze;try{if(Da(),ri.current=Mi,Pi){for(var o=ke.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}Pi=!1}if(Hn=0,Oe=Be=ke=null,nr=!1,xr=0,Wa.current=null,n===null||n.return===null){qe=1,Cr=t,ze=null;break}e:{var i=e,l=n.return,u=n,c=t;if(t=Ke,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=u,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=Cc(l);if(g!==null){g.flags&=-257,Sc(g,l,u,i,t),g.mode&1&&wc(i,d,t),t=g,c=d;var E=t.updateQueue;if(E===null){var C=new Set;C.add(c),t.updateQueue=C}else E.add(c);break e}else{if(!(t&1)){wc(i,d,t),Qa();break e}c=Error(L(426))}}else if(_e&&u.mode&1){var S=Cc(l);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Sc(S,l,u,i,t),Pa(So(c,u));break e}}i=c=So(c,u),qe!==4&&(qe=2),rr===null?rr=[i]:rr.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=gh(i,c,t);mc(i,v);break e;case 1:u=c;var y=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(En===null||!En.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=yh(i,u,t);mc(i,w);break e}}i=i.return}while(i!==null)}Uh(n)}catch(T){t=T,ze===n&&n!==null&&(ze=n=n.return);continue}break}while(!0)}function Lh(){var e=Di.current;return Di.current=Mi,e===null?Mi:e}function Qa(){(qe===0||qe===3||qe===2)&&(qe=4),We===null||!(Gn&268435455)&&!(rs&268435455)||dn(We,Ke)}function Ui(e,t){var n=de;de|=2;var o=Lh();(We!==e||Ke!==t)&&(Wt=null,bn(e,t));do try{Ty();break}catch(r){Dh(e,r)}while(!0);if(Da(),de=n,Di.current=o,ze!==null)throw Error(L(261));return We=null,Ke=0,qe}function Ty(){for(;ze!==null;)bh(ze)}function _y(){for(;ze!==null&&!Xg();)bh(ze)}function bh(e){var t=Vh(e.alternate,e,mt);e.memoizedProps=e.pendingProps,t===null?Uh(e):ze=t,Wa.current=null}function Uh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=vy(n,t),n!==null){n.flags&=32767,ze=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qe=6,ze=null;return}}else if(n=yy(n,t,mt),n!==null){ze=n;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);qe===0&&(qe=5)}function Rn(e,t,n){var o=ye,r=Tt.transition;try{Tt.transition=null,ye=1,Iy(e,t,n,o)}finally{Tt.transition=r,ye=o}return null}function Iy(e,t,n,o){do mo();while(pn!==null);if(de&6)throw Error(L(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(s0(e,i),e===We&&(ze=We=null,Ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Or||(Or=!0,Hh(yi,function(){return mo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Tt.transition,Tt.transition=null;var l=ye;ye=1;var u=de;de|=4,Wa.current=null,Ey(e,n),Rh(n,e),W0(El),xi=!!xl,El=xl=null,e.current=n,wy(n),Qg(),de=u,ye=l,Tt.transition=i}else e.current=n;if(Or&&(Or=!1,pn=e,bi=r),i=e.pendingLanes,i===0&&(En=null),e0(n.stateNode),ht(e,Fe()),t!==null)for(o=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],o(r.value,{componentStack:r.stack,digest:r.digest});if(Li)throw Li=!1,e=Gl,Gl=null,e;return bi&1&&e.tag!==0&&mo(),i=e.pendingLanes,i&1?e===zl?ir++:(ir=0,zl=e):ir=0,An(),null}function mo(){if(pn!==null){var e=gp(bi),t=Tt.transition,n=ye;try{if(Tt.transition=null,ye=16>e?16:e,pn===null)var o=!1;else{if(e=pn,pn=null,bi=0,de&6)throw Error(L(331));var r=de;for(de|=4,q=e.current;q!==null;){var i=q,l=i.child;if(q.flags&16){var u=i.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(q=d;q!==null;){var f=q;switch(f.tag){case 0:case 11:case 15:or(8,f,i)}var m=f.child;if(m!==null)m.return=f,q=m;else for(;q!==null;){f=q;var p=f.sibling,g=f.return;if(Ah(f),f===d){q=null;break}if(p!==null){p.return=g,q=p;break}q=g}}}var E=i.alternate;if(E!==null){var C=E.child;if(C!==null){E.child=null;do{var S=C.sibling;C.sibling=null,C=S}while(C!==null)}}q=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,q=l;else e:for(;q!==null;){if(i=q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:or(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,q=v;break e}q=i.return}}var y=e.current;for(q=y;q!==null;){l=q;var x=l.child;if(l.subtreeFlags&2064&&x!==null)x.return=l,q=x;else e:for(l=y;q!==null;){if(u=q,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:os(9,u)}}catch(T){De(u,u.return,T)}if(u===l){q=null;break e}var w=u.sibling;if(w!==null){w.return=u.return,q=w;break e}q=u.return}}if(de=r,An(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Ki,e)}catch{}o=!0}return o}finally{ye=n,Tt.transition=t}}return!1}function Uc(e,t,n){t=So(n,t),t=gh(e,t,1),e=xn(e,t,1),t=it(),e!==null&&(Tr(e,1,t),ht(e,t))}function De(e,t,n){if(e.tag===3)Uc(e,e,n);else for(;t!==null;){if(t.tag===3){Uc(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(En===null||!En.has(o))){e=So(n,e),e=yh(t,e,1),t=xn(t,e,1),e=it(),t!==null&&(Tr(t,1,e),ht(t,e));break}}t=t.return}}function Ay(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),t=it(),e.pingedLanes|=e.suspendedLanes&n,We===e&&(Ke&n)===n&&(qe===4||qe===3&&(Ke&130023424)===Ke&&500>Fe()-Ya?bn(e,0):Ja|=n),ht(e,t)}function Fh(e,t){t===0&&(e.mode&1?(t=br,br<<=1,!(br&130023424)&&(br=4194304)):t=1);var n=it();e=jt(e,t),e!==null&&(Tr(e,t,n),ht(e,n))}function ky(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Fh(e,n)}function Ny(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(L(314))}o!==null&&o.delete(t),Fh(e,n)}var Vh;Vh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ft.current)dt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return dt=!1,gy(e,t,n);dt=!!(e.flags&131072)}else dt=!1,_e&&t.flags&1048576&&Bp(t,Ii,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;si(e,t),e=t.pendingProps;var r=xo(t,nt.current);ho(t,n),r=za(null,t,o,e,r,n);var i=Ba();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(o)?(i=!0,Ti(t)):i=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Ua(t),r.updater=ns,t.stateNode=r,r._reactInternals=t,Nl(t,o,e,n),t=Ml(null,t,o,!0,i,n)):(t.tag=0,_e&&i&&Na(t),rt(null,t,r,n),t=t.child),t;case 16:o=t.elementType;e:{switch(si(e,t),e=t.pendingProps,r=o._init,o=r(o._payload),t.type=o,r=t.tag=Py(o),e=Rt(o,e),r){case 0:t=Pl(null,t,o,e,n);break e;case 1:t=Ic(null,t,o,e,n);break e;case 11:t=Tc(null,t,o,e,n);break e;case 14:t=_c(null,t,o,Rt(o.type,e),n);break e}throw Error(L(306,o,""))}return t;case 0:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:Rt(o,r),Pl(e,t,o,r,n);case 1:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:Rt(o,r),Ic(e,t,o,r,n);case 3:e:{if(wh(t),e===null)throw Error(L(387));o=t.pendingProps,i=t.memoizedState,r=i.element,Yp(e,t),Ni(t,o,null,n);var l=t.memoizedState;if(o=l.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){r=So(Error(L(423)),t),t=Ac(e,t,o,n,r);break e}else if(o!==r){r=So(Error(L(424)),t),t=Ac(e,t,o,n,r);break e}else for(gt=vn(t.stateNode.containerInfo.firstChild),yt=t,_e=!0,Mt=null,n=Wp(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Eo(),o===r){t=en(e,t,n);break e}rt(e,t,o,n)}t=t.child}return t;case 5:return Kp(t),e===null&&Il(t),o=t.type,r=t.pendingProps,i=e!==null?e.memoizedProps:null,l=r.children,wl(o,r)?l=null:i!==null&&wl(o,i)&&(t.flags|=32),Eh(e,t),rt(e,t,l,n),t.child;case 6:return e===null&&Il(t),null;case 13:return Ch(e,t,n);case 4:return Fa(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=wo(t,null,o,n):rt(e,t,o,n),t.child;case 11:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:Rt(o,r),Tc(e,t,o,r,n);case 7:return rt(e,t,t.pendingProps,n),t.child;case 8:return rt(e,t,t.pendingProps.children,n),t.child;case 12:return rt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,r=t.pendingProps,i=t.memoizedProps,l=r.value,Ee(Ai,o._currentValue),o._currentValue=l,i!==null)if(Ft(i.value,l)){if(i.children===r.children&&!ft.current){t=en(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var u=i.dependencies;if(u!==null){l=i.child;for(var c=u.firstContext;c!==null;){if(c.context===o){if(i.tag===1){c=Xt(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Al(i.return,n,t),u.lanes|=n;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(L(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Al(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}rt(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,o=t.pendingProps.children,ho(t,n),r=It(r),o=o(r),t.flags|=1,rt(e,t,o,n),t.child;case 14:return o=t.type,r=Rt(o,t.pendingProps),r=Rt(o.type,r),_c(e,t,o,r,n);case 15:return vh(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:Rt(o,r),si(e,t),t.tag=1,pt(o)?(e=!0,Ti(t)):e=!1,ho(t,n),mh(t,o,r),Nl(t,o,r,n),Ml(null,t,o,!0,e,n);case 19:return Sh(e,t,n);case 22:return xh(e,t,n)}throw Error(L(156,t.tag))};function Hh(e,t){return fp(e,t)}function Ry(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,t,n,o){return new Ry(e,t,n,o)}function Za(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Py(e){if(typeof e=="function")return Za(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ya)return 11;if(e===va)return 14}return 2}function Cn(e,t){var n=e.alternate;return n===null?(n=St(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ui(e,t,n,o,r,i){var l=2;if(o=e,typeof e=="function")Za(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Kn:return Un(n.children,r,i,t);case ga:l=8,r|=8;break;case js:return e=St(12,n,t,r|2),e.elementType=js,e.lanes=i,e;case el:return e=St(13,n,t,r),e.elementType=el,e.lanes=i,e;case tl:return e=St(19,n,t,r),e.elementType=tl,e.lanes=i,e;case Kf:return is(n,r,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Jf:l=10;break e;case Yf:l=9;break e;case ya:l=11;break e;case va:l=14;break e;case an:l=16,o=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=St(l,n,t,r),t.elementType=e,t.type=o,t.lanes=i,t}function Un(e,t,n,o){return e=St(7,e,o,t),e.lanes=n,e}function is(e,t,n,o){return e=St(22,e,o,t),e.elementType=Kf,e.lanes=n,e.stateNode={isHidden:!1},e}function Ws(e,t,n){return e=St(6,e,null,t),e.lanes=n,e}function Js(e,t,n){return t=St(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function My(e,t,n,o,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=As(0),this.expirationTimes=As(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=As(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function ja(e,t,n,o,r,i,l,u,c){return e=new My(e,t,n,u,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=St(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ua(i),e}function Dy(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yn,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}function Gh(e){if(!e)return Tn;e=e._reactInternals;e:{if(qn(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(pt(n))return Gp(e,n,t)}return t}function zh(e,t,n,o,r,i,l,u,c){return e=ja(n,o,!0,e,r,i,l,u,c),e.context=Gh(null),n=e.current,o=it(),r=wn(n),i=Xt(o,r),i.callback=t??null,xn(n,i,r),e.current.lanes=r,Tr(e,r,o),ht(e,o),e}function ss(e,t,n,o){var r=t.current,i=it(),l=wn(r);return n=Gh(n),t.context===null?t.context=n:t.pendingContext=n,t=Xt(i,l),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=xn(r,t,l),e!==null&&(Lt(e,r,l,i),oi(e,r,l)),l}function Fi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function eu(e,t){Fc(e,t),(e=e.alternate)&&Fc(e,t)}function Ly(){return null}var Bh=typeof reportError=="function"?reportError:function(e){console.error(e)};function tu(e){this._internalRoot=e}ls.prototype.render=tu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));ss(e,t,null,null)};ls.prototype.unmount=tu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zn(function(){ss(null,e,null,null)}),t[Zt]=null}};function ls(e){this._internalRoot=e}ls.prototype.unstable_scheduleHydration=function(e){if(e){var t=xp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<cn.length&&t!==0&&t<cn[n].priority;n++);cn.splice(n,0,e),n===0&&wp(e)}};function nu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function as(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vc(){}function by(e,t,n,o,r){if(r){if(typeof o=="function"){var i=o;o=function(){var d=Fi(l);i.call(d)}}var l=zh(t,o,e,0,null,!1,!1,"",Vc);return e._reactRootContainer=l,e[Zt]=l.current,hr(e.nodeType===8?e.parentNode:e),zn(),l}for(;r=e.lastChild;)e.removeChild(r);if(typeof o=="function"){var u=o;o=function(){var d=Fi(c);u.call(d)}}var c=ja(e,0,!1,null,null,!1,!1,"",Vc);return e._reactRootContainer=c,e[Zt]=c.current,hr(e.nodeType===8?e.parentNode:e),zn(function(){ss(t,c,n,o)}),c}function us(e,t,n,o,r){var i=n._reactRootContainer;if(i){var l=i;if(typeof r=="function"){var u=r;r=function(){var c=Fi(l);u.call(c)}}ss(t,l,e,r)}else l=by(n,t,e,r,o);return Fi(l)}yp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Jo(t.pendingLanes);n!==0&&(wa(t,n|1),ht(t,Fe()),!(de&6)&&(To=Fe()+500,An()))}break;case 13:zn(function(){var o=jt(e,1);if(o!==null){var r=it();Lt(o,e,1,r)}}),eu(e,1)}};Ca=function(e){if(e.tag===13){var t=jt(e,134217728);if(t!==null){var n=it();Lt(t,e,134217728,n)}eu(e,134217728)}};vp=function(e){if(e.tag===13){var t=wn(e),n=jt(e,t);if(n!==null){var o=it();Lt(n,e,t,o)}eu(e,t)}};xp=function(){return ye};Ep=function(e,t){var n=ye;try{return ye=e,t()}finally{ye=n}};dl=function(e,t,n){switch(t){case"input":if(rl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var r=ji(o);if(!r)throw Error(L(90));Qf(o),rl(o,r)}}}break;case"textarea":jf(e,n);break;case"select":t=n.value,t!=null&&uo(e,!!n.multiple,t,!1)}};sp=Ka;lp=zn;var Uy={usingClientEntryPoint:!1,Events:[Ir,jn,ji,rp,ip,Ka]},Bo={findFiberByHostInstance:Mn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Fy={bundleType:Bo.bundleType,version:Bo.version,rendererPackageName:Bo.rendererPackageName,rendererConfig:Bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cp(e),e===null?null:e.stateNode},findFiberByHostInstance:Bo.findFiberByHostInstance||Ly,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wr.isDisabled&&Wr.supportsFiber)try{Ki=Wr.inject(Fy),Bt=Wr}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uy;xt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nu(t))throw Error(L(200));return Dy(e,t,null,n)};xt.createRoot=function(e,t){if(!nu(e))throw Error(L(299));var n=!1,o="",r=Bh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=ja(e,1,!1,null,null,n,!1,o,r),e[Zt]=t.current,hr(e.nodeType===8?e.parentNode:e),new tu(t)};xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=cp(t),e=e===null?null:e.stateNode,e};xt.flushSync=function(e){return zn(e)};xt.hydrate=function(e,t,n){if(!as(t))throw Error(L(200));return us(null,e,t,!0,n)};xt.hydrateRoot=function(e,t,n){if(!nu(e))throw Error(L(405));var o=n!=null&&n.hydratedSources||null,r=!1,i="",l=Bh;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=zh(t,null,e,1,n??null,r,!1,i,l),e[Zt]=t.current,hr(e),o)for(e=0;e<o.length;e++)n=o[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new ls(t)};xt.render=function(e,t,n){if(!as(t))throw Error(L(200));return us(null,e,t,!1,n)};xt.unmountComponentAtNode=function(e){if(!as(e))throw Error(L(40));return e._reactRootContainer?(zn(function(){us(null,null,e,!1,function(){e._reactRootContainer=null,e[Zt]=null})}),!0):!1};xt.unstable_batchedUpdates=Ka;xt.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!as(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return us(e,t,n,!1,o)};xt.version="18.3.1-next-f1338f8080-20240426";function qh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qh)}catch(e){console.error(e)}}qh(),qf.exports=xt;var Vy=qf.exports,Hc=Vy;Qs.createRoot=Hc.createRoot,Qs.hydrateRoot=Hc.hydrateRoot;var z=(e=>(e.TEXT="TEXT",e.IMAGE="IMAGE",e.SHAPE_RECT="SHAPE_RECT",e.SHAPE_CIRCLE="SHAPE_CIRCLE",e.SHAPE_TRIANGLE="SHAPE_TRIANGLE",e.SHAPE_STAR="SHAPE_STAR",e.SHAPE_HEART="SHAPE_HEART",e.SHAPE_DIAMOND="SHAPE_DIAMOND",e))(z||{});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),j=(e,t)=>{const n=D.forwardRef(({color:o="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:u="",children:c,...d},f)=>D.createElement("svg",{ref:f,...Hy,width:r,height:r,stroke:o,strokeWidth:l?Number(i)*24/Number(r):i,className:["lucide",`lucide-${Gy(e)}`,u].join(" "),...d},[...t.map(([m,p])=>D.createElement(m,p)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=j("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=j("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=j("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=j("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=j("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=j("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=j("Brush",[["path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08",key:"1styjt"}],["path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z",key:"z0l1mu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=j("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=j("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=j("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=j("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=j("CornerUpLeft",[["polyline",{points:"9 14 4 9 9 4",key:"881910"}],["path",{d:"M20 20v-7a4 4 0 0 0-4-4H4",key:"1nkjon"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=j("Crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=j("Diamond",[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=j("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=j("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=j("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=j("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=j("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=j("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=j("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=j("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=j("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=j("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=j("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=j("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=j("LayoutTemplate",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=j("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=j("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=j("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=j("MousePointer2",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=j("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=j("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=j("Pipette",[["path",{d:"m2 22 1-1h3l9-9",key:"1sre89"}],["path",{d:"M3 21v-3l9-9",key:"hpe2y6"}],["path",{d:"m15 6 3.4-3.4a2.1 2.1 0 1 1 3 3L18 9l.4.4a2.1 2.1 0 1 1-3 3l-3.8-3.8a2.1 2.1 0 1 1 3-3l.4.4Z",key:"196du1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=j("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=j("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=j("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=j("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=j("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=j("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=j("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=j("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=j("Shapes",[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=j("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=j("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=j("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=j("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=j("Triangle",[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=j("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=j("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=j("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=j("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=j("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=j("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),dv=({element:e,isSelected:t,canvasScale:n,canvasRotation:o,onSelect:r,onUpdate:i,onInteractionEnd:l,onDelete:u})=>{const[c,d]=D.useState(!1),f=D.useRef(null),m=D.useRef(null);D.useEffect(()=>{if(t&&e.type===z.TEXT&&m.current&&f.current){const w=setTimeout(()=>{const T=m.current,A=f.current;if(!T||!A)return;const k=T.offsetLeft,R=T.offsetTop,P=T.style.width;T.style.width="auto";const M=T.offsetWidth,K=T.offsetHeight;if(T.style.width=P,Math.abs(M-e.width)>1||Math.abs(K-e.height)>1||k!==0||R!==0){const oe=e.rotation*(Math.PI/180),X=Math.cos(oe),ne=Math.sin(oe),F=k*X-R*ne,B=k*ne+R*X;i(e.id,{width:M,height:K,x:e.x+F,y:e.y+B})}},60);return()=>clearTimeout(w)}},[t]);const p=(w,T)=>{const A=w/n,k=T/n,R=-o*(Math.PI/180),P=Math.cos(R),M=Math.sin(R);return{x:A*P-k*M,y:A*M+k*P}},g=w=>{if(e.locked||"touches"in w&&w.touches.length>1)return;w.stopPropagation(),r(e.id),d(!0);const T="touches"in w?w.touches[0].clientX:w.clientX,A="touches"in w?w.touches[0].clientY:w.clientY,k=T,R=A,P=e.x,M=e.y;let K=!1;const oe=ne=>{if("touches"in ne&&ne.touches.length>1){X();return}const F="touches"in ne?ne.touches[0].clientX:ne.clientX,B="touches"in ne?ne.touches[0].clientY:ne.clientY,re=F-k,b=B-R;(Math.abs(re)>2||Math.abs(b)>2)&&(K=!0);const{x:J,y:Q}=p(re,b);i(e.id,{x:P+J,y:M+Q})},X=()=>{d(!1),K&&l(),document.removeEventListener("mousemove",oe),document.removeEventListener("mouseup",X),document.removeEventListener("touchmove",oe),document.removeEventListener("touchend",X)};document.addEventListener("mousemove",oe),document.addEventListener("mouseup",X),document.addEventListener("touchmove",oe,{passive:!1}),document.addEventListener("touchend",X)},E=(w,T)=>{if(w.stopPropagation(),e.locked||"touches"in w&&w.touches.length>1)return;const A="touches"in w?w.touches[0].clientX:w.clientX,k="touches"in w?w.touches[0].clientY:w.clientY,R=A,P=k,M=e.width,K=e.height,oe=e.x,X=e.y,ne=e.style.fontSize??48;let F=!1;const B=b=>{if("touches"in b&&b.touches.length>1){re();return}F=!0;const J="touches"in b?b.touches[0].clientX:b.clientX,Q="touches"in b?b.touches[0].clientY:b.clientY,V=J-R,fe=Q-P,{x:$e,y:H}=p(V,fe),W=-e.rotation*(Math.PI/180),O=Math.cos(W),Z=Math.sin(W),me=$e*O-H*Z;let ce=0;T==="nw"||T==="sw"?ce=-me:ce=me;const ve=Math.max(20,M+ce),we=ve/M,Re=K*we,Pe=ve-M,Me=Re-K,ee=e.rotation*(Math.PI/180),ge=Math.cos(ee),Le=Math.sin(ee);let be=0,Ve=0;T==="nw"?(be=-(Pe*ge-Me*Le),Ve=-(Pe*Le+Me*ge)):T==="ne"?(be=-(-Me*Le),Ve=-(Me*ge)):T==="sw"&&(be=-(Pe*ge),Ve=-(Pe*Le));const Qe={width:ve,height:Re,x:oe+be,y:X+Ve};e.type===z.TEXT&&(Qe.style={...e.style,fontSize:Math.max(12,ne*we)}),i(e.id,Qe)},re=()=>{F&&l(),document.removeEventListener("mousemove",B),document.removeEventListener("mouseup",re),document.removeEventListener("touchmove",B),document.removeEventListener("touchend",re)};document.addEventListener("mousemove",B),document.addEventListener("mouseup",re),document.addEventListener("touchmove",B,{passive:!1}),document.addEventListener("touchend",re)},C=(w,T)=>{if(w.stopPropagation(),e.locked||"touches"in w&&w.touches.length>1)return;const A="touches"in w?w.touches[0].clientX:w.clientX,k="touches"in w?w.touches[0].clientY:w.clientY,R=A,P=k,M=e.width,K=e.x,oe=e.y;let X=!1;const ne=B=>{if("touches"in B&&B.touches.length>1)return;X=!0;const re="touches"in B?B.touches[0].clientX:B.clientX,b="touches"in B?B.touches[0].clientY:B.clientY,J=re-R,Q=b-P,{x:V,y:fe}=p(J,Q),$e=-e.rotation*(Math.PI/180),H=Math.cos($e),W=Math.sin($e),O=V*H-fe*W;if(T==="right"){const Z=Math.max(50,M+O);i(e.id,{width:Z})}else{const Z=Math.max(50,M-O),me=O*Math.cos(e.rotation*Math.PI/180),ce=O*Math.sin(e.rotation*Math.PI/180);i(e.id,{width:Z,x:K+me,y:oe+ce})}},F=()=>{X&&l(),document.removeEventListener("mousemove",ne),document.removeEventListener("mouseup",F),document.removeEventListener("touchmove",ne),document.removeEventListener("touchend",F)};document.addEventListener("mousemove",ne),document.addEventListener("mouseup",F),document.addEventListener("touchmove",ne,{passive:!1}),document.addEventListener("touchend",F)},S=w=>{var K;if(w.stopPropagation(),e.locked||"touches"in w&&w.touches.length>1)return;const T=(K=f.current)==null?void 0:K.getBoundingClientRect();if(!T)return;const A=T.left+T.width/2,k=T.top+T.height/2;let R=!1;const P=oe=>{if("touches"in oe&&oe.touches.length>1){M();return}R=!0;const X="touches"in oe?oe.touches[0].clientX:oe.clientX,ne="touches"in oe?oe.touches[0].clientY:oe.clientY,re=Math.atan2(ne-k,X-A)*(180/Math.PI)-o;i(e.id,{rotation:re+90})},M=()=>{R&&l(),document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",M),document.removeEventListener("touchmove",P),document.removeEventListener("touchend",M)};document.addEventListener("mousemove",P),document.addEventListener("mouseup",M),document.addEventListener("touchmove",P,{passive:!1}),document.addEventListener("touchend",M)},v={position:"absolute",left:e.x,top:e.y,width:e.width,height:e.type===z.TEXT?"auto":e.height,transform:`rotate(${e.rotation}deg)`,cursor:e.locked?"default":c?"grabbing":"grab",boxShadow:t&&!e.locked?"0 0 0 2px #ffffff, 0 0 0 4px #0ea5e9":"none",boxSizing:"border-box",display:e.visible===!1?"none":"block",...e.style,userSelect:"none",touchAction:"none",pointerEvents:e.locked?"none":"auto"},y=e.type===z.SHAPE_RECT||e.type===z.SHAPE_CIRCLE,x=(w,T,A="0 0 100 100")=>h.jsx("svg",{viewBox:A,preserveAspectRatio:"none",style:{width:"100%",height:"100%",overflow:"visible"},children:T?h.jsx("path",{d:T,fill:e.style.backgroundColor,stroke:e.style.borderColor,strokeWidth:e.style.borderWidth?e.style.borderWidth/2:0}):h.jsx("polygon",{points:w||"",fill:e.style.backgroundColor,stroke:e.style.borderColor,strokeWidth:e.style.borderWidth?e.style.borderWidth/2:0})});return h.jsxs("div",{ref:f,style:{...v,backgroundColor:y?e.style.backgroundColor:"transparent",borderStyle:y&&e.style.borderWidth?"solid":"none",borderWidth:y?e.style.borderWidth:0,borderColor:y?e.style.borderColor:"transparent",borderRadius:e.type===z.SHAPE_CIRCLE?"50%":e.style.borderRadius},onMouseDown:g,onTouchStart:g,className:`group transition-shadow ${e.locked?"":"hover:ring-1 hover:ring-blue-300"}`,children:[(()=>{switch(e.type){case z.TEXT:const w=e.style.textAlign||"center",T=w==="left"?"flex-start":w==="right"?"flex-end":"center";return h.jsx("div",{ref:m,className:"text-content-inner",style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:T,textAlign:w,overflow:"visible",whiteSpace:"pre-wrap",wordBreak:"break-word",padding:"0px",color:e.style.color,fontSize:`${e.style.fontSize}px`,fontWeight:e.style.fontWeight,fontFamily:e.style.fontFamily,lineHeight:1.2,minHeight:"1em",WebkitTextStrokeWidth:`${e.style.textStrokeWidth||0}px`,WebkitTextStrokeColor:e.style.textStrokeColor||"transparent"},children:e.content});case z.IMAGE:const A=e.maskImage&&e.maskEnabled;return h.jsx("div",{style:{width:"100%",height:"100%",borderRadius:`${e.style.borderRadius}px`,border:`${e.style.borderWidth||0}px solid ${e.style.borderColor||"transparent"}`,overflow:"hidden",WebkitMaskImage:A?`url(${e.maskImage})`:"none",maskImage:A?`url(${e.maskImage})`:"none",WebkitMaskSize:"100% 100%",maskSize:"100% 100%",WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat"},children:h.jsx("img",{src:e.content,alt:"",className:"w-full h-full pointer-events-none",style:{objectFit:e.style.objectFit||"cover"}})});case z.SHAPE_RECT:return null;case z.SHAPE_CIRCLE:return null;case z.SHAPE_TRIANGLE:return x("50,0 0,100 100,100",null);case z.SHAPE_DIAMOND:return x("50,0 100,50 50,100 0,50",null);case z.SHAPE_STAR:return x("50,0 61,35 98,35 68,57 79,91 50,70 21,91 32,57 2,35 39,35",null);case z.SHAPE_HEART:return x(null,"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z","0 0 24 24");default:return null}})(),t&&!e.locked&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"absolute -top-4 -left-4 w-8 h-8 bg-white border-2 border-brand-500 rounded-full cursor-nw-resize flex items-center justify-center shadow-md z-50 touch-none active:scale-125 transition-transform",onMouseDown:w=>E(w,"nw"),onTouchStart:w=>E(w,"nw")}),h.jsx("div",{className:"absolute -top-4 -right-4 w-8 h-8 bg-white border-2 border-brand-500 rounded-full cursor-ne-resize flex items-center justify-center shadow-md z-50 touch-none active:scale-125 transition-transform",onMouseDown:w=>E(w,"ne"),onTouchStart:w=>E(w,"ne")}),h.jsx("div",{className:"absolute -bottom-4 -left-4 w-8 h-8 bg-white border-2 border-brand-500 rounded-full cursor-sw-resize flex items-center justify-center shadow-md z-50 touch-none active:scale-125 transition-transform",onMouseDown:w=>E(w,"sw"),onTouchStart:w=>E(w,"sw")}),h.jsx("div",{className:"absolute -bottom-4 -right-4 w-8 h-8 bg-white border-2 border-brand-500 rounded-full cursor-se-resize flex items-center justify-center shadow-md z-50 touch-none active:scale-125 transition-transform",onMouseDown:w=>E(w,"se"),onTouchStart:w=>E(w,"se")}),e.type===z.TEXT&&h.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -right-4 w-4 h-10 bg-white border-2 border-brand-500 rounded-lg cursor-ew-resize flex items-center justify-center shadow-md z-50 touch-none active:scale-y-110 transition-transform",onMouseDown:w=>C(w,"right"),onTouchStart:w=>C(w,"right"),children:h.jsx("div",{className:"w-0.5 h-4 bg-brand-300"})}),e.type===z.TEXT&&h.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -left-4 w-4 h-10 bg-white border-2 border-brand-500 rounded-lg cursor-ew-resize flex items-center justify-center shadow-md z-50 touch-none active:scale-y-110 transition-transform",onMouseDown:w=>C(w,"left"),onTouchStart:w=>C(w,"left"),children:h.jsx("div",{className:"w-0.5 h-4 bg-brand-300"})}),h.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 w-10 h-10 bg-white border border-brand-500 rounded-full cursor-crosshair flex items-center justify-center shadow-sm z-50 hover:bg-brand-50 touch-none active:rotate-12 transition-all",onMouseDown:S,onTouchStart:S,children:h.jsx(ov,{size:20,className:"text-brand-600"})})]})]})};var fv={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let pv,hv;function mv(){return{geminiUrl:pv,vertexUrl:hv}}function gv(e,t,n,o){var r,i;if(!(e!=null&&e.baseUrl)){const l=mv();return t?(r=l.vertexUrl)!==null&&r!==void 0?r:n:(i=l.geminiUrl)!==null&&i!==void 0?i:o}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class on{}function G(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(o,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const i=t[r];return i!=null?String(i):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function a(e,t,n){for(let i=0;i<t.length-1;i++){const l=t[i];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[u])){const c=e[u];if(Array.isArray(n))for(let d=0;d<c.length;d++){const f=c[d];a(f,t.slice(i+1),n[d])}else for(const d of c)a(d,t.slice(i+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in e||(e[u]=[{}]);const c=e[u];a(c[0],t.slice(i+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const o=t[t.length-1],r=e[o];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[o]=n}function s(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let o=0;o<t.length;o++){if(typeof e!="object"||e===null)return n;const r=t[o];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in e){const l=e[i];return Array.isArray(l)?l.map(u=>s(u,t.slice(o+1),n)):n}else return n}else e=e[r]}return e}catch(o){if(o instanceof TypeError)return n;throw o}}function yv(e,t){for(const[n,o]of Object.entries(t)){const r=n.split("."),i=o.split("."),l=new Set;let u=-1;for(let c=0;c<r.length;c++)if(r[c]==="*"){u=c;break}if(u!==-1&&i.length>u)for(let c=u;c<i.length;c++){const d=i[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}Kl(e,r,i,0,l)}}function Kl(e,t,n,o,r){if(o>=t.length||typeof e!="object"||e===null)return;const i=t[o];if(i.endsWith("[]")){const l=i.slice(0,-2),u=e;if(l in u&&Array.isArray(u[l]))for(const c of u[l])Kl(c,t,n,o+1,r)}else if(i==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,u=Object.keys(l).filter(d=>!d.startsWith("_")&&!r.has(d)),c={};for(const d of u)c[d]=l[d];for(const[d,f]of Object.entries(c)){const m=[];for(const p of n.slice(o))p==="*"?m.push(d):m.push(p);a(l,m,f)}for(const d of u)delete l[d]}}else{const l=e;i in l&&Kl(l[i],t,n,o+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lu(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vv(e){const t={},n=s(e,["operationName"]);n!=null&&a(t,["operationName"],n);const o=s(e,["resourceName"]);return o!=null&&a(t,["_url","resourceName"],o),t}function xv(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response","generateVideoResponse"]);return l!=null&&a(t,["response"],wv(l)),t}function Ev(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response"]);return l!=null&&a(t,["response"],Cv(l)),t}function wv(e){const t={},n=s(e,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Sv(l))),a(t,["generatedVideos"],i)}const o=s(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&a(t,["raiMediaFilteredReasons"],r),t}function Cv(e){const t={},n=s(e,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Tv(l))),a(t,["generatedVideos"],i)}const o=s(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&a(t,["raiMediaFilteredReasons"],r),t}function Sv(e){const t={},n=s(e,["video"]);return n!=null&&a(t,["video"],Rv(n)),t}function Tv(e){const t={},n=s(e,["_self"]);return n!=null&&a(t,["video"],Pv(n)),t}function _v(e){const t={},n=s(e,["operationName"]);return n!=null&&a(t,["_url","operationName"],n),t}function Iv(e){const t={},n=s(e,["operationName"]);return n!=null&&a(t,["_url","operationName"],n),t}function Av(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response"]);return l!=null&&a(t,["response"],kv(l)),t}function kv(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["parent"]);o!=null&&a(t,["parent"],o);const r=s(e,["documentName"]);return r!=null&&a(t,["documentName"],r),t}function Qh(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response"]);return l!=null&&a(t,["response"],Nv(l)),t}function Nv(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["parent"]);o!=null&&a(t,["parent"],o);const r=s(e,["documentName"]);return r!=null&&a(t,["documentName"],r),t}function Rv(e){const t={},n=s(e,["uri"]);n!=null&&a(t,["uri"],n);const o=s(e,["encodedVideo"]);o!=null&&a(t,["videoBytes"],lu(o));const r=s(e,["encoding"]);return r!=null&&a(t,["mimeType"],r),t}function Pv(e){const t={},n=s(e,["gcsUri"]);n!=null&&a(t,["uri"],n);const o=s(e,["bytesBase64Encoded"]);o!=null&&a(t,["videoBytes"],lu(o));const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Xc;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Xc||(Xc={}));var Qc;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Qc||(Qc={}));var Zc;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(Zc||(Zc={}));var hn;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(hn||(hn={}));var jc;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(jc||(jc={}));var ed;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ed||(ed={}));var td;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(td||(td={}));var nd;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(nd||(nd={}));var od;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(od||(od={}));var rd;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(rd||(rd={}));var id;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(id||(id={}));var sd;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(sd||(sd={}));var ld;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(ld||(ld={}));var ad;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(ad||(ad={}));var ud;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(ud||(ud={}));var cd;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(cd||(cd={}));var dd;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(dd||(dd={}));var fd;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(fd||(fd={}));var pd;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(pd||(pd={}));var Vi;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Vi||(Vi={}));var hd;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(hd||(hd={}));var md;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(md||(md={}));var gd;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(gd||(gd={}));var Xl;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Xl||(Xl={}));var yd;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(yd||(yd={}));var vd;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(vd||(vd={}));var xd;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(xd||(xd={}));var Ed;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(Ed||(Ed={}));var wd;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(wd||(wd={}));var Cd;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Cd||(Cd={}));var Sd;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(Sd||(Sd={}));var Td;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Td||(Td={}));var _d;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(_d||(_d={}));var Id;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(Id||(Id={}));var Ad;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Ad||(Ad={}));var kd;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(kd||(kd={}));var Nd;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Nd||(Nd={}));var Rd;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Rd||(Rd={}));var Pd;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(Pd||(Pd={}));var Md;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(Md||(Md={}));var Dd;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(Dd||(Dd={}));var Ld;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(Ld||(Ld={}));var bd;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(bd||(bd={}));var Ud;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Ud||(Ud={}));var Fd;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Fd||(Fd={}));var Vd;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(Vd||(Vd={}));var Hd;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Hd||(Hd={}));var Gd;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(Gd||(Gd={}));var zd;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(zd||(zd={}));var Bd;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Bd||(Bd={}));var qd;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(qd||(qd={}));var $d;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})($d||($d={}));var Od;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Od||(Od={}));var Wd;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Wd||(Wd={}));var Jd;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(Jd||(Jd={}));var lo;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(lo||(lo={}));class Ql{constructor(t){const n={};for(const o of t.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class qo{get text(){var t,n,o,r,i,l,u,c;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1;const m=[];for(const p of(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[g,E]of Object.entries(p))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(E!==null||E!==void 0)&&m.push(g);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;f=!0,d+=p.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var t,n,o,r,i,l,u,c;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const f=[];for(const m of(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[p,g]of Object.entries(m))p!=="inlineData"&&(g!==null||g!==void 0)&&f.push(p);m.inlineData&&typeof m.inlineData.data=="string"&&(d+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var t,n,o,r,i,l,u,c;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var t,n,o,r,i,l,u,c,d;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var t,n,o,r,i,l,u,c,d;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.output}}class Yd{}class Kd{}class Mv{}class Dv{}class Lv{}class bv{}class Xd{}class Qd{}class Zd{}class Uv{}class Hi{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new Hi;let r;const i=t;return n?r=Ev(i):r=xv(i),Object.assign(o,r),o}}class jd{}class ef{}class tf{}class nf{}class Fv{}class Vv{}class Hv{}class au{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new au,i=Av(t);return Object.assign(o,i),o}}class Gv{}class zv{}class Bv{}class of{}class qv{get text(){var t,n,o;let r="",i=!1;const l=[];for(const u of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&l.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;i=!0,r+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?r:void 0}get data(){var t,n,o;let r="";const i=[];for(const l of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[u,c]of Object.entries(l))u!=="inlineData"&&c!==null&&i.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(r+=atob(l.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class $v{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class uu{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new uu,i=Qh(t);return Object.assign(o,i),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function he(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Zh(e,t){const n=he(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function jh(e){return Array.isArray(e)?e.map(t=>Gi(t)):[Gi(e)]}function Gi(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function em(e){const t=Gi(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function tm(e){const t=Gi(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function rf(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function nm(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>rf(t)):[rf(e)]}function Zl(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function sf(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function lf(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function tt(e){if(e==null)throw new Error("ContentUnion is required");return Zl(e)?e:{role:"user",parts:nm(e)}}function cu(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const o=tt(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(e.isVertexAI()){const n=tt(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>tt(n)):[tt(t)]}function _t(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(sf(e)||lf(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[tt(e)]}const t=[],n=[],o=Zl(e[0]);for(const r of e){const i=Zl(r);if(i!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)t.push(r);else{if(sf(r)||lf(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||t.push({role:"user",parts:nm(n)}),t}function Ov(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(o=>o!=="null");if(n.length===1)t.type=Object.values(hn).includes(n[0].toUpperCase())?n[0].toUpperCase():hn.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const o of n)t.anyOf.push({type:Object.values(hn).includes(o.toUpperCase())?o.toUpperCase():hn.TYPE_UNSPECIFIED})}}function go(e){const t={},n=["items"],o=["anyOf"],r=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=e.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(t.nullable=!0,e=i[1]):i[1].type==="null"&&(t.nullable=!0,e=i[0])),e.type instanceof Array&&Ov(e.type,t);for(const[l,u]of Object.entries(e))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(hn).includes(u.toUpperCase())?u.toUpperCase():hn.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=go(u);else if(o.includes(l)){const c=[];for(const d of u){if(d.type=="null"){t.nullable=!0;continue}c.push(go(d))}t[l]=c}else if(r.includes(l)){const c={};for(const[d,f]of Object.entries(u))c[d]=go(f);t[l]=c}else{if(l==="additionalProperties")continue;t[l]=u}return t}function du(e){return go(e)}function fu(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function pu(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function ko(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=go(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=go(t.response));return e}function No(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function Wv(e,t,n,o=1){const r=!t.startsWith(`${n}/`)&&t.split("/").length===o;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:r?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:r?`${n}/${t}`:t}function rn(e,t){if(typeof t!="string")throw new Error("name must be a string");return Wv(e,t,"cachedContents")}function om(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function kn(e){return lu(e)}function Jv(e){return e!=null&&typeof e=="object"&&"name"in e}function Yv(e){return e!=null&&typeof e=="object"&&"video"in e}function Kv(e){return e!=null&&typeof e=="object"&&"uri"in e}function rm(e){var t;let n;if(Jv(e)&&(n=e.name),!(Kv(e)&&(n=e.uri,n===void 0))&&!(Yv(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function im(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function sm(e){for(const t of["models","tunedModels","publisherModels"])if(Xv(e,t))return e[t];return[]}function Xv(e,t){return e!==null&&typeof e=="object"&&t in e}function Qv(e,t={}){const n=e,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),t.behavior&&(o.behavior=t.behavior),{functionDeclarations:[o]}}function Zv(e,t={}){const n=[],o=new Set;for(const r of e){const i=r.name;if(o.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);o.add(i);const l=Qv(r,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function lm(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function jv(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function am(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return e;let i=!1;for(const l of r){if(typeof l!="object"||l===null)continue;const c=l.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){i=!0;break}}return i&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Ro(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function um(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ex(e){const t={},n=s(e,["responsesFile"]);n!=null&&a(t,["fileName"],n);const o=s(e,["inlinedResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>Lx(l))),a(t,["inlinedResponses"],i)}const r=s(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["inlinedEmbedContentResponses"],i)}return t}function tx(e){const t={},n=s(e,["predictionsFormat"]);n!=null&&a(t,["format"],n);const o=s(e,["gcsDestination","outputUriPrefix"]);o!=null&&a(t,["gcsUri"],o);const r=s(e,["bigqueryDestination","outputUri"]);return r!=null&&a(t,["bigqueryUri"],r),t}function nx(e){const t={},n=s(e,["format"]);n!=null&&a(t,["predictionsFormat"],n);const o=s(e,["gcsUri"]);o!=null&&a(t,["gcsDestination","outputUriPrefix"],o);const r=s(e,["bigqueryUri"]);if(r!=null&&a(t,["bigqueryDestination","outputUri"],r),s(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function fi(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata","displayName"]);o!=null&&a(t,["displayName"],o);const r=s(e,["metadata","state"]);r!=null&&a(t,["state"],um(r));const i=s(e,["metadata","createTime"]);i!=null&&a(t,["createTime"],i);const l=s(e,["metadata","endTime"]);l!=null&&a(t,["endTime"],l);const u=s(e,["metadata","updateTime"]);u!=null&&a(t,["updateTime"],u);const c=s(e,["metadata","model"]);c!=null&&a(t,["model"],c);const d=s(e,["metadata","output"]);return d!=null&&a(t,["dest"],ex(am(d))),t}function jl(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["displayName"]);o!=null&&a(t,["displayName"],o);const r=s(e,["state"]);r!=null&&a(t,["state"],um(r));const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["createTime"]);l!=null&&a(t,["createTime"],l);const u=s(e,["startTime"]);u!=null&&a(t,["startTime"],u);const c=s(e,["endTime"]);c!=null&&a(t,["endTime"],c);const d=s(e,["updateTime"]);d!=null&&a(t,["updateTime"],d);const f=s(e,["model"]);f!=null&&a(t,["model"],f);const m=s(e,["inputConfig"]);m!=null&&a(t,["src"],ox(m));const p=s(e,["outputConfig"]);p!=null&&a(t,["dest"],tx(am(p)));const g=s(e,["completionStats"]);return g!=null&&a(t,["completionStats"],g),t}function ox(e){const t={},n=s(e,["instancesFormat"]);n!=null&&a(t,["format"],n);const o=s(e,["gcsSource","uris"]);o!=null&&a(t,["gcsUri"],o);const r=s(e,["bigquerySource","inputUri"]);return r!=null&&a(t,["bigqueryUri"],r),t}function rx(e,t){const n={};if(s(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=s(t,["fileName"]);o!=null&&a(n,["fileName"],o);const r=s(t,["inlinedRequests"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>Dx(e,l))),a(n,["requests","requests"],i)}return n}function ix(e){const t={},n=s(e,["format"]);n!=null&&a(t,["instancesFormat"],n);const o=s(e,["gcsUri"]);o!=null&&a(t,["gcsSource","uris"],o);const r=s(e,["bigqueryUri"]);if(r!=null&&a(t,["bigquerySource","inputUri"],r),s(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function sx(e){const t={},n=s(e,["data"]);if(n!=null&&a(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function lx(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],Ro(e,o)),n}function ax(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],Ro(e,o)),n}function ux(e){const t={},n=s(e,["content"]);n!=null&&a(t,["content"],n);const o=s(e,["citationMetadata"]);o!=null&&a(t,["citationMetadata"],cx(o));const r=s(e,["tokenCount"]);r!=null&&a(t,["tokenCount"],r);const i=s(e,["finishReason"]);i!=null&&a(t,["finishReason"],i);const l=s(e,["avgLogprobs"]);l!=null&&a(t,["avgLogprobs"],l);const u=s(e,["groundingMetadata"]);u!=null&&a(t,["groundingMetadata"],u);const c=s(e,["index"]);c!=null&&a(t,["index"],c);const d=s(e,["logprobsResult"]);d!=null&&a(t,["logprobsResult"],d);const f=s(e,["safetyRatings"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>g)),a(t,["safetyRatings"],p)}const m=s(e,["urlContextMetadata"]);return m!=null&&a(t,["urlContextMetadata"],m),t}function cx(e){const t={},n=s(e,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(t,["citations"],o)}return t}function cm(e){const t={},n=s(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>zx(i))),a(t,["parts"],r)}const o=s(e,["role"]);return o!=null&&a(t,["role"],o),t}function dx(e,t){const n={},o=s(e,["displayName"]);if(t!==void 0&&o!=null&&a(t,["batch","displayName"],o),s(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function fx(e,t){const n={},o=s(e,["displayName"]);t!==void 0&&o!=null&&a(t,["displayName"],o);const r=s(e,["dest"]);return t!==void 0&&r!=null&&a(t,["outputConfig"],nx(jv(r))),n}function af(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],he(e,o));const r=s(t,["src"]);r!=null&&a(n,["batch","inputConfig"],rx(e,lm(e,r)));const i=s(t,["config"]);return i!=null&&dx(i,n),n}function px(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["model"],he(e,o));const r=s(t,["src"]);r!=null&&a(n,["inputConfig"],ix(lm(e,r)));const i=s(t,["config"]);return i!=null&&fx(i,n),n}function hx(e,t){const n={},o=s(e,["displayName"]);return t!==void 0&&o!=null&&a(t,["batch","displayName"],o),n}function mx(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],he(e,o));const r=s(t,["src"]);r!=null&&a(n,["batch","inputConfig"],Cx(e,r));const i=s(t,["config"]);return i!=null&&hx(i,n),n}function gx(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],Ro(e,o)),n}function yx(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],Ro(e,o)),n}function vx(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["name"]);o!=null&&a(t,["name"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);return i!=null&&a(t,["error"],i),t}function xx(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["name"]);o!=null&&a(t,["name"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);return i!=null&&a(t,["error"],i),t}function Ex(e,t){const n={},o=s(t,["contents"]);if(o!=null){let i=cu(e,o);Array.isArray(i)&&(i=i.map(l=>l)),a(n,["requests[]","request","content"],i)}const r=s(t,["config"]);return r!=null&&(a(n,["_self"],wx(r,n)),yv(n,{"requests[].*":"requests[].request.*"})),n}function wx(e,t){const n={},o=s(e,["taskType"]);t!==void 0&&o!=null&&a(t,["requests[]","taskType"],o);const r=s(e,["title"]);t!==void 0&&r!=null&&a(t,["requests[]","title"],r);const i=s(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&a(t,["requests[]","outputDimensionality"],i),s(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Cx(e,t){const n={},o=s(t,["fileName"]);o!=null&&a(n,["file_name"],o);const r=s(t,["inlinedRequests"]);return r!=null&&a(n,["requests"],Ex(e,r)),n}function Sx(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Tx(e){const t={},n=s(e,["id"]);n!=null&&a(t,["id"],n);const o=s(e,["args"]);o!=null&&a(t,["args"],o);const r=s(e,["name"]);if(r!=null&&a(t,["name"],r),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function _x(e){const t={},n=s(e,["mode"]);n!=null&&a(t,["mode"],n);const o=s(e,["allowedFunctionNames"]);if(o!=null&&a(t,["allowedFunctionNames"],o),s(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Ix(e,t,n){const o={},r=s(t,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],cm(tt(r)));const i=s(t,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(t,["topP"]);l!=null&&a(o,["topP"],l);const u=s(t,["topK"]);u!=null&&a(o,["topK"],u);const c=s(t,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(t,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(t,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const m=s(t,["responseLogprobs"]);m!=null&&a(o,["responseLogprobs"],m);const p=s(t,["logprobs"]);p!=null&&a(o,["logprobs"],p);const g=s(t,["presencePenalty"]);g!=null&&a(o,["presencePenalty"],g);const E=s(t,["frequencyPenalty"]);E!=null&&a(o,["frequencyPenalty"],E);const C=s(t,["seed"]);C!=null&&a(o,["seed"],C);const S=s(t,["responseMimeType"]);S!=null&&a(o,["responseMimeType"],S);const v=s(t,["responseSchema"]);v!=null&&a(o,["responseSchema"],du(v));const y=s(t,["responseJsonSchema"]);if(y!=null&&a(o,["responseJsonSchema"],y),s(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=s(t,["safetySettings"]);if(n!==void 0&&x!=null){let X=x;Array.isArray(X)&&(X=X.map(ne=>Bx(ne))),a(n,["safetySettings"],X)}const w=s(t,["tools"]);if(n!==void 0&&w!=null){let X=No(w);Array.isArray(X)&&(X=X.map(ne=>$x(ko(ne)))),a(n,["tools"],X)}const T=s(t,["toolConfig"]);if(n!==void 0&&T!=null&&a(n,["toolConfig"],qx(T)),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=s(t,["cachedContent"]);n!==void 0&&A!=null&&a(n,["cachedContent"],rn(e,A));const k=s(t,["responseModalities"]);k!=null&&a(o,["responseModalities"],k);const R=s(t,["mediaResolution"]);R!=null&&a(o,["mediaResolution"],R);const P=s(t,["speechConfig"]);if(P!=null&&a(o,["speechConfig"],fu(P)),s(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=s(t,["thinkingConfig"]);M!=null&&a(o,["thinkingConfig"],M);const K=s(t,["imageConfig"]);K!=null&&a(o,["imageConfig"],Mx(K));const oe=s(t,["enableEnhancedCivicAnswers"]);return oe!=null&&a(o,["enableEnhancedCivicAnswers"],oe),o}function Ax(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>ux(d))),a(t,["candidates"],c)}const r=s(e,["modelVersion"]);r!=null&&a(t,["modelVersion"],r);const i=s(e,["promptFeedback"]);i!=null&&a(t,["promptFeedback"],i);const l=s(e,["responseId"]);l!=null&&a(t,["responseId"],l);const u=s(e,["usageMetadata"]);return u!=null&&a(t,["usageMetadata"],u),t}function kx(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],Ro(e,o)),n}function Nx(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],Ro(e,o)),n}function Rx(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function Px(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function Mx(e){const t={},n=s(e,["aspectRatio"]);n!=null&&a(t,["aspectRatio"],n);const o=s(e,["imageSize"]);if(o!=null&&a(t,["imageSize"],o),s(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Dx(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["request","model"],he(e,o));const r=s(t,["contents"]);if(r!=null){let u=_t(r);Array.isArray(u)&&(u=u.map(c=>cm(c))),a(n,["request","contents"],u)}const i=s(t,["metadata"]);i!=null&&a(n,["metadata"],i);const l=s(t,["config"]);return l!=null&&a(n,["request","generationConfig"],Ix(e,l,s(n,["request"],{}))),n}function Lx(e){const t={},n=s(e,["response"]);n!=null&&a(t,["response"],Ax(n));const o=s(e,["error"]);return o!=null&&a(t,["error"],o),t}function bx(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);if(t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),s(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Ux(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);t!==void 0&&r!=null&&a(t,["_query","pageToken"],r);const i=s(e,["filter"]);return t!==void 0&&i!=null&&a(t,["_query","filter"],i),n}function Fx(e){const t={},n=s(e,["config"]);return n!=null&&bx(n,t),t}function Vx(e){const t={},n=s(e,["config"]);return n!=null&&Ux(n,t),t}function Hx(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>fi(l))),a(t,["batchJobs"],i)}return t}function Gx(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>jl(l))),a(t,["batchJobs"],i)}return t}function zx(e){const t={},n=s(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=s(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=s(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=s(e,["fileData"]);i!=null&&a(t,["fileData"],Sx(i));const l=s(e,["functionCall"]);l!=null&&a(t,["functionCall"],Tx(l));const u=s(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=s(e,["inlineData"]);c!=null&&a(t,["inlineData"],sx(c));const d=s(e,["text"]);d!=null&&a(t,["text"],d);const f=s(e,["thought"]);f!=null&&a(t,["thought"],f);const m=s(e,["thoughtSignature"]);m!=null&&a(t,["thoughtSignature"],m);const p=s(e,["videoMetadata"]);return p!=null&&a(t,["videoMetadata"],p),t}function Bx(e){const t={},n=s(e,["category"]);if(n!=null&&a(t,["category"],n),s(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(e,["threshold"]);return o!=null&&a(t,["threshold"],o),t}function qx(e){const t={},n=s(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],_x(n));const o=s(e,["retrievalConfig"]);return o!=null&&a(t,["retrievalConfig"],o),t}function $x(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const r=s(e,["computerUse"]);r!=null&&a(t,["computerUse"],r);const i=s(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],Rx(u));const c=s(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],Px(c));const d=s(e,["urlContext"]);return d!=null&&a(t,["urlContext"],d),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var tn;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(tn||(tn={}));class $n{constructor(t,n,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,o,r)}init(t,n,o){var r,i;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!o||Object.keys(o).length===0?l={config:{}}:typeof o=="object"?l=Object.assign({},o):l=o,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(i=(r=l.config)===null||r===void 0?void 0:r.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ox extends on{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new $n(tn.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=af(this.apiClient,t),o=n._url,r=G("{model}:batchGenerateContent",o),u=n.batch.inputConfig.requests,c=u.requests,d=[];for(const f of c){const m=Object.assign({},f);if(m.systemInstruction){const p=m.systemInstruction;delete m.systemInstruction;const g=m.request;g.systemInstruction=p,m.request=g}d.push(m)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const o=n?Object.assign({},n):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const i=this.getGcsUri(t),l=this.getBigqueryUri(t);if(i)i.endsWith(".jsonl")?o.dest=`${i.slice(0,-6)}/dest`:o.dest=`${i}_dest_${r}`;else if(l)o.dest=`${l}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=px(this.apiClient,t);return u=G("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>jl(f))}else{const d=af(this.apiClient,t);return u=G("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>fi(f))}}async createEmbeddingsInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=mx(this.apiClient,t);return i=G("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>fi(c))}}async get(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Nx(this.apiClient,t);return u=G("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>jl(f))}else{const d=kx(this.apiClient,t);return u=G("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>fi(f))}}async cancel(t){var n,o,r,i;let l="",u={};if(this.apiClient.isVertexAI()){const c=ax(this.apiClient,t);l=G("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}else{const c=lx(this.apiClient,t);l=G("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Vx(t);return u=G("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Gx(f),p=new of;return Object.assign(p,m),p})}else{const d=Fx(t);return u=G("batches",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Hx(f),p=new of;return Object.assign(p,m),p})}}async delete(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=yx(this.apiClient,t);return u=G("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>xx(f))}else{const d=gx(this.apiClient,t);return u=G("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>vx(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wx(e){const t={},n=s(e,["data"]);if(n!=null&&a(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function uf(e){const t={},n=s(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>mE(i))),a(t,["parts"],r)}const o=s(e,["role"]);return o!=null&&a(t,["role"],o),t}function Jx(e,t){const n={},o=s(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const r=s(e,["expireTime"]);t!==void 0&&r!=null&&a(t,["expireTime"],r);const i=s(e,["displayName"]);t!==void 0&&i!=null&&a(t,["displayName"],i);const l=s(e,["contents"]);if(t!==void 0&&l!=null){let f=_t(l);Array.isArray(f)&&(f=f.map(m=>uf(m))),a(t,["contents"],f)}const u=s(e,["systemInstruction"]);t!==void 0&&u!=null&&a(t,["systemInstruction"],uf(tt(u)));const c=s(e,["tools"]);if(t!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>yE(m))),a(t,["tools"],f)}const d=s(e,["toolConfig"]);if(t!==void 0&&d!=null&&a(t,["toolConfig"],gE(d)),s(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Yx(e,t){const n={},o=s(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const r=s(e,["expireTime"]);t!==void 0&&r!=null&&a(t,["expireTime"],r);const i=s(e,["displayName"]);t!==void 0&&i!=null&&a(t,["displayName"],i);const l=s(e,["contents"]);if(t!==void 0&&l!=null){let m=_t(l);Array.isArray(m)&&(m=m.map(p=>p)),a(t,["contents"],m)}const u=s(e,["systemInstruction"]);t!==void 0&&u!=null&&a(t,["systemInstruction"],tt(u));const c=s(e,["tools"]);if(t!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(p=>vE(p))),a(t,["tools"],m)}const d=s(e,["toolConfig"]);t!==void 0&&d!=null&&a(t,["toolConfig"],d);const f=s(e,["kmsKeyName"]);return t!==void 0&&f!=null&&a(t,["encryption_spec","kmsKeyName"],f),n}function Kx(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["model"],Zh(e,o));const r=s(t,["config"]);return r!=null&&Jx(r,n),n}function Xx(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["model"],Zh(e,o));const r=s(t,["config"]);return r!=null&&Yx(r,n),n}function Qx(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],rn(e,o)),n}function Zx(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],rn(e,o)),n}function jx(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function eE(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function tE(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function nE(e){const t={},n=s(e,["id"]);n!=null&&a(t,["id"],n);const o=s(e,["args"]);o!=null&&a(t,["args"],o);const r=s(e,["name"]);if(r!=null&&a(t,["name"],r),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function oE(e){const t={},n=s(e,["mode"]);n!=null&&a(t,["mode"],n);const o=s(e,["allowedFunctionNames"]);if(o!=null&&a(t,["allowedFunctionNames"],o),s(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function rE(e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(e,["description"]);n!=null&&a(t,["description"],n);const o=s(e,["name"]);o!=null&&a(t,["name"],o);const r=s(e,["parameters"]);r!=null&&a(t,["parameters"],r);const i=s(e,["parametersJsonSchema"]);i!=null&&a(t,["parametersJsonSchema"],i);const l=s(e,["response"]);l!=null&&a(t,["response"],l);const u=s(e,["responseJsonSchema"]);return u!=null&&a(t,["responseJsonSchema"],u),t}function iE(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],rn(e,o)),n}function sE(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],rn(e,o)),n}function lE(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function aE(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function uE(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function cE(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function dE(e){const t={},n=s(e,["config"]);return n!=null&&uE(n,t),t}function fE(e){const t={},n=s(e,["config"]);return n!=null&&cE(n,t),t}function pE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["cachedContents"],i)}return t}function hE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["cachedContents"],i)}return t}function mE(e){const t={},n=s(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=s(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=s(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=s(e,["fileData"]);i!=null&&a(t,["fileData"],tE(i));const l=s(e,["functionCall"]);l!=null&&a(t,["functionCall"],nE(l));const u=s(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=s(e,["inlineData"]);c!=null&&a(t,["inlineData"],Wx(c));const d=s(e,["text"]);d!=null&&a(t,["text"],d);const f=s(e,["thought"]);f!=null&&a(t,["thought"],f);const m=s(e,["thoughtSignature"]);m!=null&&a(t,["thoughtSignature"],m);const p=s(e,["videoMetadata"]);return p!=null&&a(t,["videoMetadata"],p),t}function gE(e){const t={},n=s(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],oE(n));const o=s(e,["retrievalConfig"]);return o!=null&&a(t,["retrievalConfig"],o),t}function yE(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const r=s(e,["computerUse"]);r!=null&&a(t,["computerUse"],r);const i=s(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],lE(u));const c=s(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],aE(c));const d=s(e,["urlContext"]);return d!=null&&a(t,["urlContext"],d),t}function vE(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>rE(p))),a(t,["functionDeclarations"],m)}const o=s(e,["retrieval"]);o!=null&&a(t,["retrieval"],o);const r=s(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const i=s(e,["computerUse"]);if(i!=null&&a(t,["computerUse"],i),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(e,["codeExecution"]);l!=null&&a(t,["codeExecution"],l);const u=s(e,["enterpriseWebSearch"]);u!=null&&a(t,["enterpriseWebSearch"],u);const c=s(e,["googleMaps"]);c!=null&&a(t,["googleMaps"],c);const d=s(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],d);const f=s(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function xE(e,t){const n={},o=s(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const r=s(e,["expireTime"]);return t!==void 0&&r!=null&&a(t,["expireTime"],r),n}function EE(e,t){const n={},o=s(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const r=s(e,["expireTime"]);return t!==void 0&&r!=null&&a(t,["expireTime"],r),n}function wE(e,t){const n={},o=s(t,["name"]);o!=null&&a(n,["_url","name"],rn(e,o));const r=s(t,["config"]);return r!=null&&xE(r,n),n}function CE(e,t){const n={},o=s(t,["name"]);o!=null&&a(n,["_url","name"],rn(e,o));const r=s(t,["config"]);return r!=null&&EE(r,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SE extends on{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new $n(tn.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Xx(this.apiClient,t);return u=G("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=Kx(this.apiClient,t);return u=G("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async get(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=sE(this.apiClient,t);return u=G("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=iE(this.apiClient,t);return u=G("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async delete(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Zx(this.apiClient,t);return u=G("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=eE(f),p=new tf;return Object.assign(p,m),p})}else{const d=Qx(this.apiClient,t);return u=G("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=jx(f),p=new tf;return Object.assign(p,m),p})}}async update(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=CE(this.apiClient,t);return u=G("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=wE(this.apiClient,t);return u=G("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async listInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=fE(t);return u=G("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=hE(f),p=new nf;return Object.assign(p,m),p})}else{const d=dE(t);return u=G("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=pE(f),p=new nf;return Object.assign(p,m),p})}}}function zi(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n}function cf(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function se(e){return this instanceof se?(this.v=e,this):new se(e)}function bt(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(e,t||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),r[Symbol.asyncIterator]=function(){return this},r;function l(g){return function(E){return Promise.resolve(E).then(g,m)}}function u(g,E){o[g]&&(r[g]=function(C){return new Promise(function(S,v){i.push([g,C,S,v])>1||c(g,C)})},E&&(r[g]=E(r[g])))}function c(g,E){try{d(o[g](E))}catch(C){p(i[0][3],C)}}function d(g){g.value instanceof se?Promise.resolve(g.value.v).then(f,m):p(i[0][2],g)}function f(g){c("next",g)}function m(g){c("throw",g)}function p(g,E){g(E),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Ut(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof cf=="function"?cf(e):e[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=e[i]&&function(l){return new Promise(function(u,c){l=e[i](l),r(u,c,l.done,l.value)})}}function r(i,l,u,c){Promise.resolve(c).then(function(d){i({value:d,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TE(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:dm(n)}function dm(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function _E(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function df(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let o=0;for(;o<n;)if(e[o].role==="user")t.push(e[o]),o++;else{const r=[];let i=!0;for(;o<n&&e[o].role==="model";)r.push(e[o]),i&&!dm(e[o])&&(i=!1),o++;i?t.push(...r):t.pop()}return t}class IE{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new AE(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class AE{constructor(t,n,o,r={},i=[]){this.apiClient=t,this.modelsModule=n,this.model=o,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),_E(i)}async sendMessage(t){var n;await this.sendPromise;const o=tt(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,l,u;const c=await r,d=(l=(i=c.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content,f=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let p=[];f!=null&&(p=(u=f.slice(m))!==null&&u!==void 0?u:[]);const g=d?[d]:[];this.recordHistory(o,g,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var n;await this.sendPromise;const o=tt(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const i=await r;return this.processStreamResponse(i,o)}getHistory(t=!1){const n=t?df(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return bt(this,arguments,function*(){var r,i,l,u,c,d;const f=[];try{for(var m=!0,p=Ut(t),g;g=yield se(p.next()),r=g.done,!r;m=!0){u=g.value,m=!1;const E=u;if(TE(E)){const C=(d=(c=E.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content;C!==void 0&&f.push(C)}yield yield se(E)}}catch(E){i={error:E}}finally{try{!m&&!r&&(l=p.return)&&(yield se(l.call(p)))}finally{if(i)throw i.error}}this.recordHistory(n,f)})}recordHistory(t,n,o){let r=[];n.length>0&&n.every(i=>i.role!==void 0)?r=n:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...df(o)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cs extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,cs.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kE(e){const t={},n=s(e,["file"]);return n!=null&&a(t,["file"],n),t}function NE(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function RE(e){const t={},n=s(e,["name"]);return n!=null&&a(t,["_url","file"],rm(n)),t}function PE(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function ME(e){const t={},n=s(e,["name"]);return n!=null&&a(t,["_url","file"],rm(n)),t}function DE(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function LE(e){const t={},n=s(e,["config"]);return n!=null&&DE(n,t),t}function bE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["files"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UE extends on{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new $n(tn.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=LE(t);return i=G("files",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=bE(c),f=new Gv;return Object.assign(f,d),f})}}async createInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=kE(t);return i=G("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=NE(c),f=new zv;return Object.assign(f,d),f})}}async get(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ME(t);return i=G("files/{file}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=RE(t);return i=G("files/{file}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=PE(c),f=new Bv;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pi(e){const t={},n=s(e,["data"]);if(n!=null&&a(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function FE(e){const t={},n=s(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>jE(i))),a(t,["parts"],r)}const o=s(e,["role"]);return o!=null&&a(t,["role"],o),t}function VE(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function HE(e){const t={},n=s(e,["id"]);n!=null&&a(t,["id"],n);const o=s(e,["args"]);o!=null&&a(t,["args"],o);const r=s(e,["name"]);if(r!=null&&a(t,["name"],r),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function GE(e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(e,["description"]);n!=null&&a(t,["description"],n);const o=s(e,["name"]);o!=null&&a(t,["name"],o);const r=s(e,["parameters"]);r!=null&&a(t,["parameters"],r);const i=s(e,["parametersJsonSchema"]);i!=null&&a(t,["parametersJsonSchema"],i);const l=s(e,["response"]);l!=null&&a(t,["response"],l);const u=s(e,["responseJsonSchema"]);return u!=null&&a(t,["responseJsonSchema"],u),t}function zE(e){const t={},n=s(e,["modelSelectionConfig"]);n!=null&&a(t,["modelConfig"],n);const o=s(e,["responseJsonSchema"]);o!=null&&a(t,["responseJsonSchema"],o);const r=s(e,["audioTimestamp"]);r!=null&&a(t,["audioTimestamp"],r);const i=s(e,["candidateCount"]);i!=null&&a(t,["candidateCount"],i);const l=s(e,["enableAffectiveDialog"]);l!=null&&a(t,["enableAffectiveDialog"],l);const u=s(e,["frequencyPenalty"]);u!=null&&a(t,["frequencyPenalty"],u);const c=s(e,["logprobs"]);c!=null&&a(t,["logprobs"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(t,["maxOutputTokens"],d);const f=s(e,["mediaResolution"]);f!=null&&a(t,["mediaResolution"],f);const m=s(e,["presencePenalty"]);m!=null&&a(t,["presencePenalty"],m);const p=s(e,["responseLogprobs"]);p!=null&&a(t,["responseLogprobs"],p);const g=s(e,["responseMimeType"]);g!=null&&a(t,["responseMimeType"],g);const E=s(e,["responseModalities"]);E!=null&&a(t,["responseModalities"],E);const C=s(e,["responseSchema"]);C!=null&&a(t,["responseSchema"],C);const S=s(e,["routingConfig"]);S!=null&&a(t,["routingConfig"],S);const v=s(e,["seed"]);v!=null&&a(t,["seed"],v);const y=s(e,["speechConfig"]);y!=null&&a(t,["speechConfig"],y);const x=s(e,["stopSequences"]);x!=null&&a(t,["stopSequences"],x);const w=s(e,["temperature"]);w!=null&&a(t,["temperature"],w);const T=s(e,["thinkingConfig"]);T!=null&&a(t,["thinkingConfig"],T);const A=s(e,["topK"]);A!=null&&a(t,["topK"],A);const k=s(e,["topP"]);if(k!=null&&a(t,["topP"],k),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function BE(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function qE(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function $E(e,t){const n={},o=s(e,["generationConfig"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig"],o);const r=s(e,["responseModalities"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","responseModalities"],r);const i=s(e,["temperature"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","temperature"],i);const l=s(e,["topP"]);t!==void 0&&l!=null&&a(t,["setup","generationConfig","topP"],l);const u=s(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const c=s(e,["maxOutputTokens"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","maxOutputTokens"],c);const d=s(e,["mediaResolution"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","mediaResolution"],d);const f=s(e,["seed"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","seed"],f);const m=s(e,["speechConfig"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","speechConfig"],pu(m));const p=s(e,["thinkingConfig"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","thinkingConfig"],p);const g=s(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],g);const E=s(e,["systemInstruction"]);t!==void 0&&E!=null&&a(t,["setup","systemInstruction"],FE(tt(E)));const C=s(e,["tools"]);if(t!==void 0&&C!=null){let A=No(C);Array.isArray(A)&&(A=A.map(k=>tw(ko(k)))),a(t,["setup","tools"],A)}const S=s(e,["sessionResumption"]);t!==void 0&&S!=null&&a(t,["setup","sessionResumption"],ew(S));const v=s(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&a(t,["setup","inputAudioTranscription"],v);const y=s(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&a(t,["setup","outputAudioTranscription"],y);const x=s(e,["realtimeInputConfig"]);t!==void 0&&x!=null&&a(t,["setup","realtimeInputConfig"],x);const w=s(e,["contextWindowCompression"]);t!==void 0&&w!=null&&a(t,["setup","contextWindowCompression"],w);const T=s(e,["proactivity"]);if(t!==void 0&&T!=null&&a(t,["setup","proactivity"],T),s(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function OE(e,t){const n={},o=s(e,["generationConfig"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig"],zE(o));const r=s(e,["responseModalities"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","responseModalities"],r);const i=s(e,["temperature"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","temperature"],i);const l=s(e,["topP"]);t!==void 0&&l!=null&&a(t,["setup","generationConfig","topP"],l);const u=s(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const c=s(e,["maxOutputTokens"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","maxOutputTokens"],c);const d=s(e,["mediaResolution"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","mediaResolution"],d);const f=s(e,["seed"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","seed"],f);const m=s(e,["speechConfig"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","speechConfig"],pu(m));const p=s(e,["thinkingConfig"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","thinkingConfig"],p);const g=s(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],g);const E=s(e,["systemInstruction"]);t!==void 0&&E!=null&&a(t,["setup","systemInstruction"],tt(E));const C=s(e,["tools"]);if(t!==void 0&&C!=null){let k=No(C);Array.isArray(k)&&(k=k.map(R=>nw(ko(R)))),a(t,["setup","tools"],k)}const S=s(e,["sessionResumption"]);t!==void 0&&S!=null&&a(t,["setup","sessionResumption"],S);const v=s(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&a(t,["setup","inputAudioTranscription"],v);const y=s(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&a(t,["setup","outputAudioTranscription"],y);const x=s(e,["realtimeInputConfig"]);t!==void 0&&x!=null&&a(t,["setup","realtimeInputConfig"],x);const w=s(e,["contextWindowCompression"]);t!==void 0&&w!=null&&a(t,["setup","contextWindowCompression"],w);const T=s(e,["proactivity"]);t!==void 0&&T!=null&&a(t,["setup","proactivity"],T);const A=s(e,["explicitVadSignal"]);return t!==void 0&&A!=null&&a(t,["setup","explicitVadSignal"],A),n}function WE(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["setup","model"],he(e,o));const r=s(t,["config"]);return r!=null&&a(n,["config"],$E(r,n)),n}function JE(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["setup","model"],he(e,o));const r=s(t,["config"]);return r!=null&&a(n,["config"],OE(r,n)),n}function YE(e){const t={},n=s(e,["musicGenerationConfig"]);return n!=null&&a(t,["musicGenerationConfig"],n),t}function KE(e){const t={},n=s(e,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(t,["weightedPrompts"],o)}return t}function XE(e){const t={},n=s(e,["media"]);if(n!=null){let d=jh(n);Array.isArray(d)&&(d=d.map(f=>pi(f))),a(t,["mediaChunks"],d)}const o=s(e,["audio"]);o!=null&&a(t,["audio"],pi(tm(o)));const r=s(e,["audioStreamEnd"]);r!=null&&a(t,["audioStreamEnd"],r);const i=s(e,["video"]);i!=null&&a(t,["video"],pi(em(i)));const l=s(e,["text"]);l!=null&&a(t,["text"],l);const u=s(e,["activityStart"]);u!=null&&a(t,["activityStart"],u);const c=s(e,["activityEnd"]);return c!=null&&a(t,["activityEnd"],c),t}function QE(e){const t={},n=s(e,["media"]);if(n!=null){let d=jh(n);Array.isArray(d)&&(d=d.map(f=>f)),a(t,["mediaChunks"],d)}const o=s(e,["audio"]);o!=null&&a(t,["audio"],tm(o));const r=s(e,["audioStreamEnd"]);r!=null&&a(t,["audioStreamEnd"],r);const i=s(e,["video"]);i!=null&&a(t,["video"],em(i));const l=s(e,["text"]);l!=null&&a(t,["text"],l);const u=s(e,["activityStart"]);u!=null&&a(t,["activityStart"],u);const c=s(e,["activityEnd"]);return c!=null&&a(t,["activityEnd"],c),t}function ZE(e){const t={},n=s(e,["setupComplete"]);n!=null&&a(t,["setupComplete"],n);const o=s(e,["serverContent"]);o!=null&&a(t,["serverContent"],o);const r=s(e,["toolCall"]);r!=null&&a(t,["toolCall"],r);const i=s(e,["toolCallCancellation"]);i!=null&&a(t,["toolCallCancellation"],i);const l=s(e,["usageMetadata"]);l!=null&&a(t,["usageMetadata"],ow(l));const u=s(e,["goAway"]);u!=null&&a(t,["goAway"],u);const c=s(e,["sessionResumptionUpdate"]);c!=null&&a(t,["sessionResumptionUpdate"],c);const d=s(e,["voiceActivityDetectionSignal"]);return d!=null&&a(t,["voiceActivityDetectionSignal"],d),t}function jE(e){const t={},n=s(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=s(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=s(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=s(e,["fileData"]);i!=null&&a(t,["fileData"],VE(i));const l=s(e,["functionCall"]);l!=null&&a(t,["functionCall"],HE(l));const u=s(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=s(e,["inlineData"]);c!=null&&a(t,["inlineData"],pi(c));const d=s(e,["text"]);d!=null&&a(t,["text"],d);const f=s(e,["thought"]);f!=null&&a(t,["thought"],f);const m=s(e,["thoughtSignature"]);m!=null&&a(t,["thoughtSignature"],m);const p=s(e,["videoMetadata"]);return p!=null&&a(t,["videoMetadata"],p),t}function ew(e){const t={},n=s(e,["handle"]);if(n!=null&&a(t,["handle"],n),s(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function tw(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const r=s(e,["computerUse"]);r!=null&&a(t,["computerUse"],r);const i=s(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],BE(u));const c=s(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],qE(c));const d=s(e,["urlContext"]);return d!=null&&a(t,["urlContext"],d),t}function nw(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>GE(p))),a(t,["functionDeclarations"],m)}const o=s(e,["retrieval"]);o!=null&&a(t,["retrieval"],o);const r=s(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const i=s(e,["computerUse"]);if(i!=null&&a(t,["computerUse"],i),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(e,["codeExecution"]);l!=null&&a(t,["codeExecution"],l);const u=s(e,["enterpriseWebSearch"]);u!=null&&a(t,["enterpriseWebSearch"],u);const c=s(e,["googleMaps"]);c!=null&&a(t,["googleMaps"],c);const d=s(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],d);const f=s(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function ow(e){const t={},n=s(e,["promptTokenCount"]);n!=null&&a(t,["promptTokenCount"],n);const o=s(e,["cachedContentTokenCount"]);o!=null&&a(t,["cachedContentTokenCount"],o);const r=s(e,["candidatesTokenCount"]);r!=null&&a(t,["responseTokenCount"],r);const i=s(e,["toolUsePromptTokenCount"]);i!=null&&a(t,["toolUsePromptTokenCount"],i);const l=s(e,["thoughtsTokenCount"]);l!=null&&a(t,["thoughtsTokenCount"],l);const u=s(e,["totalTokenCount"]);u!=null&&a(t,["totalTokenCount"],u);const c=s(e,["promptTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(E=>E)),a(t,["promptTokensDetails"],g)}const d=s(e,["cacheTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(E=>E)),a(t,["cacheTokensDetails"],g)}const f=s(e,["candidatesTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(E=>E)),a(t,["responseTokensDetails"],g)}const m=s(e,["toolUsePromptTokensDetails"]);if(m!=null){let g=m;Array.isArray(g)&&(g=g.map(E=>E)),a(t,["toolUsePromptTokensDetails"],g)}const p=s(e,["trafficType"]);return p!=null&&a(t,["trafficType"],p),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rw(e){const t={},n=s(e,["data"]);if(n!=null&&a(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function iw(e){const t={},n=s(e,["content"]);n!=null&&a(t,["content"],n);const o=s(e,["citationMetadata"]);o!=null&&a(t,["citationMetadata"],sw(o));const r=s(e,["tokenCount"]);r!=null&&a(t,["tokenCount"],r);const i=s(e,["finishReason"]);i!=null&&a(t,["finishReason"],i);const l=s(e,["avgLogprobs"]);l!=null&&a(t,["avgLogprobs"],l);const u=s(e,["groundingMetadata"]);u!=null&&a(t,["groundingMetadata"],u);const c=s(e,["index"]);c!=null&&a(t,["index"],c);const d=s(e,["logprobsResult"]);d!=null&&a(t,["logprobsResult"],d);const f=s(e,["safetyRatings"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>g)),a(t,["safetyRatings"],p)}const m=s(e,["urlContextMetadata"]);return m!=null&&a(t,["urlContextMetadata"],m),t}function sw(e){const t={},n=s(e,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(t,["citations"],o)}return t}function lw(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],he(e,o));const r=s(t,["contents"]);if(r!=null){let i=_t(r);Array.isArray(i)&&(i=i.map(l=>l)),a(n,["contents"],i)}return n}function aw(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(t,["tokensInfo"],r)}return t}function uw(e){const t={},n=s(e,["values"]);n!=null&&a(t,["values"],n);const o=s(e,["statistics"]);return o!=null&&a(t,["statistics"],cw(o)),t}function cw(e){const t={},n=s(e,["truncated"]);n!=null&&a(t,["truncated"],n);const o=s(e,["token_count"]);return o!=null&&a(t,["tokenCount"],o),t}function ds(e){const t={},n=s(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>xC(i))),a(t,["parts"],r)}const o=s(e,["role"]);return o!=null&&a(t,["role"],o),t}function dw(e){const t={},n=s(e,["controlType"]);n!=null&&a(t,["controlType"],n);const o=s(e,["enableControlImageComputation"]);return o!=null&&a(t,["computeControl"],o),t}function fw(e){const t={};if(s(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function pw(e,t){const n={},o=s(e,["systemInstruction"]);t!==void 0&&o!=null&&a(t,["systemInstruction"],tt(o));const r=s(e,["tools"]);if(t!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>mm(u))),a(t,["tools"],l)}const i=s(e,["generationConfig"]);return t!==void 0&&i!=null&&a(t,["generationConfig"],rC(i)),n}function hw(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],he(e,o));const r=s(t,["contents"]);if(r!=null){let l=_t(r);Array.isArray(l)&&(l=l.map(u=>ds(u))),a(n,["contents"],l)}const i=s(t,["config"]);return i!=null&&fw(i),n}function mw(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],he(e,o));const r=s(t,["contents"]);if(r!=null){let l=_t(r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const i=s(t,["config"]);return i!=null&&pw(i,n),n}function gw(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["totalTokens"]);o!=null&&a(t,["totalTokens"],o);const r=s(e,["cachedContentTokenCount"]);return r!=null&&a(t,["cachedContentTokenCount"],r),t}function yw(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["totalTokens"]);return o!=null&&a(t,["totalTokens"],o),t}function vw(e,t){const n={},o=s(t,["model"]);return o!=null&&a(n,["_url","name"],he(e,o)),n}function xw(e,t){const n={},o=s(t,["model"]);return o!=null&&a(n,["_url","name"],he(e,o)),n}function Ew(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function ww(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function Cw(e,t){const n={},o=s(e,["outputGcsUri"]);t!==void 0&&o!=null&&a(t,["parameters","storageUri"],o);const r=s(e,["negativePrompt"]);t!==void 0&&r!=null&&a(t,["parameters","negativePrompt"],r);const i=s(e,["numberOfImages"]);t!==void 0&&i!=null&&a(t,["parameters","sampleCount"],i);const l=s(e,["aspectRatio"]);t!==void 0&&l!=null&&a(t,["parameters","aspectRatio"],l);const u=s(e,["guidanceScale"]);t!==void 0&&u!=null&&a(t,["parameters","guidanceScale"],u);const c=s(e,["seed"]);t!==void 0&&c!=null&&a(t,["parameters","seed"],c);const d=s(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&a(t,["parameters","safetySetting"],d);const f=s(e,["personGeneration"]);t!==void 0&&f!=null&&a(t,["parameters","personGeneration"],f);const m=s(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&a(t,["parameters","includeSafetyAttributes"],m);const p=s(e,["includeRaiReason"]);t!==void 0&&p!=null&&a(t,["parameters","includeRaiReason"],p);const g=s(e,["language"]);t!==void 0&&g!=null&&a(t,["parameters","language"],g);const E=s(e,["outputMimeType"]);t!==void 0&&E!=null&&a(t,["parameters","outputOptions","mimeType"],E);const C=s(e,["outputCompressionQuality"]);t!==void 0&&C!=null&&a(t,["parameters","outputOptions","compressionQuality"],C);const S=s(e,["addWatermark"]);t!==void 0&&S!=null&&a(t,["parameters","addWatermark"],S);const v=s(e,["labels"]);t!==void 0&&v!=null&&a(t,["labels"],v);const y=s(e,["editMode"]);t!==void 0&&y!=null&&a(t,["parameters","editMode"],y);const x=s(e,["baseSteps"]);return t!==void 0&&x!=null&&a(t,["parameters","editConfig","baseSteps"],x),n}function Sw(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],he(e,o));const r=s(t,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(t,["referenceImages"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>_C(c))),a(n,["instances[0]","referenceImages"],u)}const l=s(t,["config"]);return l!=null&&Cw(l,n),n}function Tw(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>fs(i))),a(t,["generatedImages"],r)}return t}function _w(e,t){const n={},o=s(e,["taskType"]);t!==void 0&&o!=null&&a(t,["requests[]","taskType"],o);const r=s(e,["title"]);t!==void 0&&r!=null&&a(t,["requests[]","title"],r);const i=s(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&a(t,["requests[]","outputDimensionality"],i),s(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Iw(e,t){const n={},o=s(e,["taskType"]);t!==void 0&&o!=null&&a(t,["instances[]","task_type"],o);const r=s(e,["title"]);t!==void 0&&r!=null&&a(t,["instances[]","title"],r);const i=s(e,["outputDimensionality"]);t!==void 0&&i!=null&&a(t,["parameters","outputDimensionality"],i);const l=s(e,["mimeType"]);t!==void 0&&l!=null&&a(t,["instances[]","mimeType"],l);const u=s(e,["autoTruncate"]);return t!==void 0&&u!=null&&a(t,["parameters","autoTruncate"],u),n}function Aw(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],he(e,o));const r=s(t,["contents"]);if(r!=null){let u=cu(e,r);Array.isArray(u)&&(u=u.map(c=>c)),a(n,["requests[]","content"],u)}const i=s(t,["config"]);i!=null&&_w(i,n);const l=s(t,["model"]);return l!==void 0&&a(n,["requests[]","model"],he(e,l)),n}function kw(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],he(e,o));const r=s(t,["contents"]);if(r!=null){let l=cu(e,r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["instances[]","content"],l)}const i=s(t,["config"]);return i!=null&&Iw(i,n),n}function Nw(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["embeddings"],i)}const r=s(e,["metadata"]);return r!=null&&a(t,["metadata"],r),t}function Rw(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["predictions[]","embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>uw(l))),a(t,["embeddings"],i)}const r=s(e,["metadata"]);return r!=null&&a(t,["metadata"],r),t}function Pw(e){const t={},n=s(e,["endpoint"]);n!=null&&a(t,["name"],n);const o=s(e,["deployedModelId"]);return o!=null&&a(t,["deployedModelId"],o),t}function Mw(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Dw(e){const t={},n=s(e,["id"]);n!=null&&a(t,["id"],n);const o=s(e,["args"]);o!=null&&a(t,["args"],o);const r=s(e,["name"]);if(r!=null&&a(t,["name"],r),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Lw(e){const t={},n=s(e,["mode"]);n!=null&&a(t,["mode"],n);const o=s(e,["allowedFunctionNames"]);if(o!=null&&a(t,["allowedFunctionNames"],o),s(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function bw(e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(e,["description"]);n!=null&&a(t,["description"],n);const o=s(e,["name"]);o!=null&&a(t,["name"],o);const r=s(e,["parameters"]);r!=null&&a(t,["parameters"],r);const i=s(e,["parametersJsonSchema"]);i!=null&&a(t,["parametersJsonSchema"],i);const l=s(e,["response"]);l!=null&&a(t,["response"],l);const u=s(e,["responseJsonSchema"]);return u!=null&&a(t,["responseJsonSchema"],u),t}function Uw(e,t,n){const o={},r=s(t,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],ds(tt(r)));const i=s(t,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(t,["topP"]);l!=null&&a(o,["topP"],l);const u=s(t,["topK"]);u!=null&&a(o,["topK"],u);const c=s(t,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(t,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(t,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const m=s(t,["responseLogprobs"]);m!=null&&a(o,["responseLogprobs"],m);const p=s(t,["logprobs"]);p!=null&&a(o,["logprobs"],p);const g=s(t,["presencePenalty"]);g!=null&&a(o,["presencePenalty"],g);const E=s(t,["frequencyPenalty"]);E!=null&&a(o,["frequencyPenalty"],E);const C=s(t,["seed"]);C!=null&&a(o,["seed"],C);const S=s(t,["responseMimeType"]);S!=null&&a(o,["responseMimeType"],S);const v=s(t,["responseSchema"]);v!=null&&a(o,["responseSchema"],du(v));const y=s(t,["responseJsonSchema"]);if(y!=null&&a(o,["responseJsonSchema"],y),s(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=s(t,["safetySettings"]);if(n!==void 0&&x!=null){let X=x;Array.isArray(X)&&(X=X.map(ne=>IC(ne))),a(n,["safetySettings"],X)}const w=s(t,["tools"]);if(n!==void 0&&w!=null){let X=No(w);Array.isArray(X)&&(X=X.map(ne=>DC(ko(ne)))),a(n,["tools"],X)}const T=s(t,["toolConfig"]);if(n!==void 0&&T!=null&&a(n,["toolConfig"],MC(T)),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=s(t,["cachedContent"]);n!==void 0&&A!=null&&a(n,["cachedContent"],rn(e,A));const k=s(t,["responseModalities"]);k!=null&&a(o,["responseModalities"],k);const R=s(t,["mediaResolution"]);R!=null&&a(o,["mediaResolution"],R);const P=s(t,["speechConfig"]);if(P!=null&&a(o,["speechConfig"],fu(P)),s(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=s(t,["thinkingConfig"]);M!=null&&a(o,["thinkingConfig"],M);const K=s(t,["imageConfig"]);K!=null&&a(o,["imageConfig"],uC(K));const oe=s(t,["enableEnhancedCivicAnswers"]);return oe!=null&&a(o,["enableEnhancedCivicAnswers"],oe),o}function Fw(e,t,n){const o={},r=s(t,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],tt(r));const i=s(t,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(t,["topP"]);l!=null&&a(o,["topP"],l);const u=s(t,["topK"]);u!=null&&a(o,["topK"],u);const c=s(t,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(t,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(t,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const m=s(t,["responseLogprobs"]);m!=null&&a(o,["responseLogprobs"],m);const p=s(t,["logprobs"]);p!=null&&a(o,["logprobs"],p);const g=s(t,["presencePenalty"]);g!=null&&a(o,["presencePenalty"],g);const E=s(t,["frequencyPenalty"]);E!=null&&a(o,["frequencyPenalty"],E);const C=s(t,["seed"]);C!=null&&a(o,["seed"],C);const S=s(t,["responseMimeType"]);S!=null&&a(o,["responseMimeType"],S);const v=s(t,["responseSchema"]);v!=null&&a(o,["responseSchema"],du(v));const y=s(t,["responseJsonSchema"]);y!=null&&a(o,["responseJsonSchema"],y);const x=s(t,["routingConfig"]);x!=null&&a(o,["routingConfig"],x);const w=s(t,["modelSelectionConfig"]);w!=null&&a(o,["modelConfig"],w);const T=s(t,["safetySettings"]);if(n!==void 0&&T!=null){let B=T;Array.isArray(B)&&(B=B.map(re=>re)),a(n,["safetySettings"],B)}const A=s(t,["tools"]);if(n!==void 0&&A!=null){let B=No(A);Array.isArray(B)&&(B=B.map(re=>mm(ko(re)))),a(n,["tools"],B)}const k=s(t,["toolConfig"]);n!==void 0&&k!=null&&a(n,["toolConfig"],k);const R=s(t,["labels"]);n!==void 0&&R!=null&&a(n,["labels"],R);const P=s(t,["cachedContent"]);n!==void 0&&P!=null&&a(n,["cachedContent"],rn(e,P));const M=s(t,["responseModalities"]);M!=null&&a(o,["responseModalities"],M);const K=s(t,["mediaResolution"]);K!=null&&a(o,["mediaResolution"],K);const oe=s(t,["speechConfig"]);oe!=null&&a(o,["speechConfig"],fu(oe));const X=s(t,["audioTimestamp"]);X!=null&&a(o,["audioTimestamp"],X);const ne=s(t,["thinkingConfig"]);ne!=null&&a(o,["thinkingConfig"],ne);const F=s(t,["imageConfig"]);if(F!=null&&a(o,["imageConfig"],cC(F)),s(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function ff(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],he(e,o));const r=s(t,["contents"]);if(r!=null){let l=_t(r);Array.isArray(l)&&(l=l.map(u=>ds(u))),a(n,["contents"],l)}const i=s(t,["config"]);return i!=null&&a(n,["generationConfig"],Uw(e,i,n)),n}function pf(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],he(e,o));const r=s(t,["contents"]);if(r!=null){let l=_t(r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const i=s(t,["config"]);return i!=null&&a(n,["generationConfig"],Fw(e,i,n)),n}function hf(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>iw(d))),a(t,["candidates"],c)}const r=s(e,["modelVersion"]);r!=null&&a(t,["modelVersion"],r);const i=s(e,["promptFeedback"]);i!=null&&a(t,["promptFeedback"],i);const l=s(e,["responseId"]);l!=null&&a(t,["responseId"],l);const u=s(e,["usageMetadata"]);return u!=null&&a(t,["usageMetadata"],u),t}function mf(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>f)),a(t,["candidates"],d)}const r=s(e,["createTime"]);r!=null&&a(t,["createTime"],r);const i=s(e,["modelVersion"]);i!=null&&a(t,["modelVersion"],i);const l=s(e,["promptFeedback"]);l!=null&&a(t,["promptFeedback"],l);const u=s(e,["responseId"]);u!=null&&a(t,["responseId"],u);const c=s(e,["usageMetadata"]);return c!=null&&a(t,["usageMetadata"],c),t}function Vw(e,t){const n={};if(s(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=s(e,["numberOfImages"]);t!==void 0&&o!=null&&a(t,["parameters","sampleCount"],o);const r=s(e,["aspectRatio"]);t!==void 0&&r!=null&&a(t,["parameters","aspectRatio"],r);const i=s(e,["guidanceScale"]);if(t!==void 0&&i!=null&&a(t,["parameters","guidanceScale"],i),s(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=s(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&a(t,["parameters","safetySetting"],l);const u=s(e,["personGeneration"]);t!==void 0&&u!=null&&a(t,["parameters","personGeneration"],u);const c=s(e,["includeSafetyAttributes"]);t!==void 0&&c!=null&&a(t,["parameters","includeSafetyAttributes"],c);const d=s(e,["includeRaiReason"]);t!==void 0&&d!=null&&a(t,["parameters","includeRaiReason"],d);const f=s(e,["language"]);t!==void 0&&f!=null&&a(t,["parameters","language"],f);const m=s(e,["outputMimeType"]);t!==void 0&&m!=null&&a(t,["parameters","outputOptions","mimeType"],m);const p=s(e,["outputCompressionQuality"]);if(t!==void 0&&p!=null&&a(t,["parameters","outputOptions","compressionQuality"],p),s(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=s(e,["imageSize"]);if(t!==void 0&&g!=null&&a(t,["parameters","sampleImageSize"],g),s(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Hw(e,t){const n={},o=s(e,["outputGcsUri"]);t!==void 0&&o!=null&&a(t,["parameters","storageUri"],o);const r=s(e,["negativePrompt"]);t!==void 0&&r!=null&&a(t,["parameters","negativePrompt"],r);const i=s(e,["numberOfImages"]);t!==void 0&&i!=null&&a(t,["parameters","sampleCount"],i);const l=s(e,["aspectRatio"]);t!==void 0&&l!=null&&a(t,["parameters","aspectRatio"],l);const u=s(e,["guidanceScale"]);t!==void 0&&u!=null&&a(t,["parameters","guidanceScale"],u);const c=s(e,["seed"]);t!==void 0&&c!=null&&a(t,["parameters","seed"],c);const d=s(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&a(t,["parameters","safetySetting"],d);const f=s(e,["personGeneration"]);t!==void 0&&f!=null&&a(t,["parameters","personGeneration"],f);const m=s(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&a(t,["parameters","includeSafetyAttributes"],m);const p=s(e,["includeRaiReason"]);t!==void 0&&p!=null&&a(t,["parameters","includeRaiReason"],p);const g=s(e,["language"]);t!==void 0&&g!=null&&a(t,["parameters","language"],g);const E=s(e,["outputMimeType"]);t!==void 0&&E!=null&&a(t,["parameters","outputOptions","mimeType"],E);const C=s(e,["outputCompressionQuality"]);t!==void 0&&C!=null&&a(t,["parameters","outputOptions","compressionQuality"],C);const S=s(e,["addWatermark"]);t!==void 0&&S!=null&&a(t,["parameters","addWatermark"],S);const v=s(e,["labels"]);t!==void 0&&v!=null&&a(t,["labels"],v);const y=s(e,["imageSize"]);t!==void 0&&y!=null&&a(t,["parameters","sampleImageSize"],y);const x=s(e,["enhancePrompt"]);return t!==void 0&&x!=null&&a(t,["parameters","enhancePrompt"],x),n}function Gw(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],he(e,o));const r=s(t,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(t,["config"]);return i!=null&&Vw(i,n),n}function zw(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],he(e,o));const r=s(t,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(t,["config"]);return i!=null&&Hw(i,n),n}function Bw(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>eC(l))),a(t,["generatedImages"],i)}const r=s(e,["positivePromptSafetyAttributes"]);return r!=null&&a(t,["positivePromptSafetyAttributes"],pm(r)),t}function qw(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>fs(l))),a(t,["generatedImages"],i)}const r=s(e,["positivePromptSafetyAttributes"]);return r!=null&&a(t,["positivePromptSafetyAttributes"],hm(r)),t}function $w(e,t){const n={},o=s(e,["numberOfVideos"]);if(t!==void 0&&o!=null&&a(t,["parameters","sampleCount"],o),s(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=s(e,["durationSeconds"]);if(t!==void 0&&r!=null&&a(t,["parameters","durationSeconds"],r),s(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=s(e,["aspectRatio"]);t!==void 0&&i!=null&&a(t,["parameters","aspectRatio"],i);const l=s(e,["resolution"]);t!==void 0&&l!=null&&a(t,["parameters","resolution"],l);const u=s(e,["personGeneration"]);if(t!==void 0&&u!=null&&a(t,["parameters","personGeneration"],u),s(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=s(e,["negativePrompt"]);t!==void 0&&c!=null&&a(t,["parameters","negativePrompt"],c);const d=s(e,["enhancePrompt"]);if(t!==void 0&&d!=null&&a(t,["parameters","enhancePrompt"],d),s(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=s(e,["lastFrame"]);t!==void 0&&f!=null&&a(t,["instances[0]","lastFrame"],ps(f));const m=s(e,["referenceImages"]);if(t!==void 0&&m!=null){let p=m;Array.isArray(p)&&(p=p.map(g=>WC(g))),a(t,["instances[0]","referenceImages"],p)}if(s(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Ow(e,t){const n={},o=s(e,["numberOfVideos"]);t!==void 0&&o!=null&&a(t,["parameters","sampleCount"],o);const r=s(e,["outputGcsUri"]);t!==void 0&&r!=null&&a(t,["parameters","storageUri"],r);const i=s(e,["fps"]);t!==void 0&&i!=null&&a(t,["parameters","fps"],i);const l=s(e,["durationSeconds"]);t!==void 0&&l!=null&&a(t,["parameters","durationSeconds"],l);const u=s(e,["seed"]);t!==void 0&&u!=null&&a(t,["parameters","seed"],u);const c=s(e,["aspectRatio"]);t!==void 0&&c!=null&&a(t,["parameters","aspectRatio"],c);const d=s(e,["resolution"]);t!==void 0&&d!=null&&a(t,["parameters","resolution"],d);const f=s(e,["personGeneration"]);t!==void 0&&f!=null&&a(t,["parameters","personGeneration"],f);const m=s(e,["pubsubTopic"]);t!==void 0&&m!=null&&a(t,["parameters","pubsubTopic"],m);const p=s(e,["negativePrompt"]);t!==void 0&&p!=null&&a(t,["parameters","negativePrompt"],p);const g=s(e,["enhancePrompt"]);t!==void 0&&g!=null&&a(t,["parameters","enhancePrompt"],g);const E=s(e,["generateAudio"]);t!==void 0&&E!=null&&a(t,["parameters","generateAudio"],E);const C=s(e,["lastFrame"]);t!==void 0&&C!=null&&a(t,["instances[0]","lastFrame"],Vt(C));const S=s(e,["referenceImages"]);if(t!==void 0&&S!=null){let x=S;Array.isArray(x)&&(x=x.map(w=>JC(w))),a(t,["instances[0]","referenceImages"],x)}const v=s(e,["mask"]);t!==void 0&&v!=null&&a(t,["instances[0]","mask"],OC(v));const y=s(e,["compressionQuality"]);return t!==void 0&&y!=null&&a(t,["parameters","compressionQuality"],y),n}function Ww(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response","generateVideoResponse"]);return l!=null&&a(t,["response"],Xw(l)),t}function Jw(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response"]);return l!=null&&a(t,["response"],Qw(l)),t}function Yw(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],he(e,o));const r=s(t,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(t,["image"]);i!=null&&a(n,["instances[0]","image"],ps(i));const l=s(t,["video"]);l!=null&&a(n,["instances[0]","video"],gm(l));const u=s(t,["source"]);u!=null&&Zw(u,n);const c=s(t,["config"]);return c!=null&&$w(c,n),n}function Kw(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],he(e,o));const r=s(t,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(t,["image"]);i!=null&&a(n,["instances[0]","image"],Vt(i));const l=s(t,["video"]);l!=null&&a(n,["instances[0]","video"],ym(l));const u=s(t,["source"]);u!=null&&jw(u,n);const c=s(t,["config"]);return c!=null&&Ow(c,n),n}function Xw(e){const t={},n=s(e,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>nC(l))),a(t,["generatedVideos"],i)}const o=s(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&a(t,["raiMediaFilteredReasons"],r),t}function Qw(e){const t={},n=s(e,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>oC(l))),a(t,["generatedVideos"],i)}const o=s(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&a(t,["raiMediaFilteredReasons"],r),t}function Zw(e,t){const n={},o=s(e,["prompt"]);t!==void 0&&o!=null&&a(t,["instances[0]","prompt"],o);const r=s(e,["image"]);t!==void 0&&r!=null&&a(t,["instances[0]","image"],ps(r));const i=s(e,["video"]);return t!==void 0&&i!=null&&a(t,["instances[0]","video"],gm(i)),n}function jw(e,t){const n={},o=s(e,["prompt"]);t!==void 0&&o!=null&&a(t,["instances[0]","prompt"],o);const r=s(e,["image"]);t!==void 0&&r!=null&&a(t,["instances[0]","image"],Vt(r));const i=s(e,["video"]);return t!==void 0&&i!=null&&a(t,["instances[0]","video"],ym(i)),n}function eC(e){const t={},n=s(e,["_self"]);n!=null&&a(t,["image"],dC(n));const o=s(e,["raiFilteredReason"]);o!=null&&a(t,["raiFilteredReason"],o);const r=s(e,["_self"]);return r!=null&&a(t,["safetyAttributes"],pm(r)),t}function fs(e){const t={},n=s(e,["_self"]);n!=null&&a(t,["image"],fm(n));const o=s(e,["raiFilteredReason"]);o!=null&&a(t,["raiFilteredReason"],o);const r=s(e,["_self"]);r!=null&&a(t,["safetyAttributes"],hm(r));const i=s(e,["prompt"]);return i!=null&&a(t,["enhancedPrompt"],i),t}function tC(e){const t={},n=s(e,["_self"]);n!=null&&a(t,["mask"],fm(n));const o=s(e,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(t,["labels"],r)}return t}function nC(e){const t={},n=s(e,["video"]);return n!=null&&a(t,["video"],qC(n)),t}function oC(e){const t={},n=s(e,["_self"]);return n!=null&&a(t,["video"],$C(n)),t}function rC(e){const t={},n=s(e,["modelSelectionConfig"]);n!=null&&a(t,["modelConfig"],n);const o=s(e,["responseJsonSchema"]);o!=null&&a(t,["responseJsonSchema"],o);const r=s(e,["audioTimestamp"]);r!=null&&a(t,["audioTimestamp"],r);const i=s(e,["candidateCount"]);i!=null&&a(t,["candidateCount"],i);const l=s(e,["enableAffectiveDialog"]);l!=null&&a(t,["enableAffectiveDialog"],l);const u=s(e,["frequencyPenalty"]);u!=null&&a(t,["frequencyPenalty"],u);const c=s(e,["logprobs"]);c!=null&&a(t,["logprobs"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(t,["maxOutputTokens"],d);const f=s(e,["mediaResolution"]);f!=null&&a(t,["mediaResolution"],f);const m=s(e,["presencePenalty"]);m!=null&&a(t,["presencePenalty"],m);const p=s(e,["responseLogprobs"]);p!=null&&a(t,["responseLogprobs"],p);const g=s(e,["responseMimeType"]);g!=null&&a(t,["responseMimeType"],g);const E=s(e,["responseModalities"]);E!=null&&a(t,["responseModalities"],E);const C=s(e,["responseSchema"]);C!=null&&a(t,["responseSchema"],C);const S=s(e,["routingConfig"]);S!=null&&a(t,["routingConfig"],S);const v=s(e,["seed"]);v!=null&&a(t,["seed"],v);const y=s(e,["speechConfig"]);y!=null&&a(t,["speechConfig"],y);const x=s(e,["stopSequences"]);x!=null&&a(t,["stopSequences"],x);const w=s(e,["temperature"]);w!=null&&a(t,["temperature"],w);const T=s(e,["thinkingConfig"]);T!=null&&a(t,["thinkingConfig"],T);const A=s(e,["topK"]);A!=null&&a(t,["topK"],A);const k=s(e,["topP"]);if(k!=null&&a(t,["topP"],k),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function iC(e,t){const n={},o=s(t,["model"]);return o!=null&&a(n,["_url","name"],he(e,o)),n}function sC(e,t){const n={},o=s(t,["model"]);return o!=null&&a(n,["_url","name"],he(e,o)),n}function lC(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function aC(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function uC(e){const t={},n=s(e,["aspectRatio"]);n!=null&&a(t,["aspectRatio"],n);const o=s(e,["imageSize"]);if(o!=null&&a(t,["imageSize"],o),s(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function cC(e){const t={},n=s(e,["aspectRatio"]);n!=null&&a(t,["aspectRatio"],n);const o=s(e,["imageSize"]);o!=null&&a(t,["imageSize"],o);const r=s(e,["outputMimeType"]);r!=null&&a(t,["imageOutputOptions","mimeType"],r);const i=s(e,["outputCompressionQuality"]);return i!=null&&a(t,["imageOutputOptions","compressionQuality"],i),t}function dC(e){const t={},n=s(e,["bytesBase64Encoded"]);n!=null&&a(t,["imageBytes"],kn(n));const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function fm(e){const t={},n=s(e,["gcsUri"]);n!=null&&a(t,["gcsUri"],n);const o=s(e,["bytesBase64Encoded"]);o!=null&&a(t,["imageBytes"],kn(o));const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function ps(e){const t={};if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=s(e,["imageBytes"]);n!=null&&a(t,["bytesBase64Encoded"],kn(n));const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Vt(e){const t={},n=s(e,["gcsUri"]);n!=null&&a(t,["gcsUri"],n);const o=s(e,["imageBytes"]);o!=null&&a(t,["bytesBase64Encoded"],kn(o));const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function fC(e,t,n){const o={},r=s(t,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=s(t,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const l=s(t,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=s(t,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],im(e,u)),o}function pC(e,t,n){const o={},r=s(t,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=s(t,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const l=s(t,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=s(t,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],im(e,u)),o}function hC(e,t){const n={},o=s(t,["config"]);return o!=null&&fC(e,o,n),n}function mC(e,t){const n={},o=s(t,["config"]);return o!=null&&pC(e,o,n),n}function gC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["_self"]);if(r!=null){let i=sm(r);Array.isArray(i)&&(i=i.map(l=>ea(l))),a(t,["models"],i)}return t}function yC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["_self"]);if(r!=null){let i=sm(r);Array.isArray(i)&&(i=i.map(l=>ta(l))),a(t,["models"],i)}return t}function vC(e){const t={},n=s(e,["maskMode"]);n!=null&&a(t,["maskMode"],n);const o=s(e,["segmentationClasses"]);o!=null&&a(t,["maskClasses"],o);const r=s(e,["maskDilation"]);return r!=null&&a(t,["dilation"],r),t}function ea(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["displayName"]);o!=null&&a(t,["displayName"],o);const r=s(e,["description"]);r!=null&&a(t,["description"],r);const i=s(e,["version"]);i!=null&&a(t,["version"],i);const l=s(e,["_self"]);l!=null&&a(t,["tunedModelInfo"],LC(l));const u=s(e,["inputTokenLimit"]);u!=null&&a(t,["inputTokenLimit"],u);const c=s(e,["outputTokenLimit"]);c!=null&&a(t,["outputTokenLimit"],c);const d=s(e,["supportedGenerationMethods"]);d!=null&&a(t,["supportedActions"],d);const f=s(e,["temperature"]);f!=null&&a(t,["temperature"],f);const m=s(e,["maxTemperature"]);m!=null&&a(t,["maxTemperature"],m);const p=s(e,["topP"]);p!=null&&a(t,["topP"],p);const g=s(e,["topK"]);g!=null&&a(t,["topK"],g);const E=s(e,["thinking"]);return E!=null&&a(t,["thinking"],E),t}function ta(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["displayName"]);o!=null&&a(t,["displayName"],o);const r=s(e,["description"]);r!=null&&a(t,["description"],r);const i=s(e,["versionId"]);i!=null&&a(t,["version"],i);const l=s(e,["deployedModels"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(p=>Pw(p))),a(t,["endpoints"],m)}const u=s(e,["labels"]);u!=null&&a(t,["labels"],u);const c=s(e,["_self"]);c!=null&&a(t,["tunedModelInfo"],bC(c));const d=s(e,["defaultCheckpointId"]);d!=null&&a(t,["defaultCheckpointId"],d);const f=s(e,["checkpoints"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(p=>p)),a(t,["checkpoints"],m)}return t}function xC(e){const t={},n=s(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=s(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=s(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=s(e,["fileData"]);i!=null&&a(t,["fileData"],Mw(i));const l=s(e,["functionCall"]);l!=null&&a(t,["functionCall"],Dw(l));const u=s(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=s(e,["inlineData"]);c!=null&&a(t,["inlineData"],rw(c));const d=s(e,["text"]);d!=null&&a(t,["text"],d);const f=s(e,["thought"]);f!=null&&a(t,["thought"],f);const m=s(e,["thoughtSignature"]);m!=null&&a(t,["thoughtSignature"],m);const p=s(e,["videoMetadata"]);return p!=null&&a(t,["videoMetadata"],p),t}function EC(e){const t={},n=s(e,["productImage"]);return n!=null&&a(t,["image"],Vt(n)),t}function wC(e,t){const n={},o=s(e,["numberOfImages"]);t!==void 0&&o!=null&&a(t,["parameters","sampleCount"],o);const r=s(e,["baseSteps"]);t!==void 0&&r!=null&&a(t,["parameters","baseSteps"],r);const i=s(e,["outputGcsUri"]);t!==void 0&&i!=null&&a(t,["parameters","storageUri"],i);const l=s(e,["seed"]);t!==void 0&&l!=null&&a(t,["parameters","seed"],l);const u=s(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&a(t,["parameters","safetySetting"],u);const c=s(e,["personGeneration"]);t!==void 0&&c!=null&&a(t,["parameters","personGeneration"],c);const d=s(e,["addWatermark"]);t!==void 0&&d!=null&&a(t,["parameters","addWatermark"],d);const f=s(e,["outputMimeType"]);t!==void 0&&f!=null&&a(t,["parameters","outputOptions","mimeType"],f);const m=s(e,["outputCompressionQuality"]);t!==void 0&&m!=null&&a(t,["parameters","outputOptions","compressionQuality"],m);const p=s(e,["enhancePrompt"]);t!==void 0&&p!=null&&a(t,["parameters","enhancePrompt"],p);const g=s(e,["labels"]);return t!==void 0&&g!=null&&a(t,["labels"],g),n}function CC(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],he(e,o));const r=s(t,["source"]);r!=null&&TC(r,n);const i=s(t,["config"]);return i!=null&&wC(i,n),n}function SC(e){const t={},n=s(e,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>fs(r))),a(t,["generatedImages"],o)}return t}function TC(e,t){const n={},o=s(e,["prompt"]);t!==void 0&&o!=null&&a(t,["instances[0]","prompt"],o);const r=s(e,["personImage"]);t!==void 0&&r!=null&&a(t,["instances[0]","personImage","image"],Vt(r));const i=s(e,["productImages"]);if(t!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>EC(u))),a(t,["instances[0]","productImages"],l)}return n}function _C(e){const t={},n=s(e,["referenceImage"]);n!=null&&a(t,["referenceImage"],Vt(n));const o=s(e,["referenceId"]);o!=null&&a(t,["referenceId"],o);const r=s(e,["referenceType"]);r!=null&&a(t,["referenceType"],r);const i=s(e,["maskImageConfig"]);i!=null&&a(t,["maskImageConfig"],vC(i));const l=s(e,["controlImageConfig"]);l!=null&&a(t,["controlImageConfig"],dw(l));const u=s(e,["styleImageConfig"]);u!=null&&a(t,["styleImageConfig"],u);const c=s(e,["subjectImageConfig"]);return c!=null&&a(t,["subjectImageConfig"],c),t}function pm(e){const t={},n=s(e,["safetyAttributes","categories"]);n!=null&&a(t,["categories"],n);const o=s(e,["safetyAttributes","scores"]);o!=null&&a(t,["scores"],o);const r=s(e,["contentType"]);return r!=null&&a(t,["contentType"],r),t}function hm(e){const t={},n=s(e,["safetyAttributes","categories"]);n!=null&&a(t,["categories"],n);const o=s(e,["safetyAttributes","scores"]);o!=null&&a(t,["scores"],o);const r=s(e,["contentType"]);return r!=null&&a(t,["contentType"],r),t}function IC(e){const t={},n=s(e,["category"]);if(n!=null&&a(t,["category"],n),s(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(e,["threshold"]);return o!=null&&a(t,["threshold"],o),t}function AC(e){const t={},n=s(e,["image"]);return n!=null&&a(t,["image"],Vt(n)),t}function kC(e,t){const n={},o=s(e,["mode"]);t!==void 0&&o!=null&&a(t,["parameters","mode"],o);const r=s(e,["maxPredictions"]);t!==void 0&&r!=null&&a(t,["parameters","maxPredictions"],r);const i=s(e,["confidenceThreshold"]);t!==void 0&&i!=null&&a(t,["parameters","confidenceThreshold"],i);const l=s(e,["maskDilation"]);t!==void 0&&l!=null&&a(t,["parameters","maskDilation"],l);const u=s(e,["binaryColorThreshold"]);t!==void 0&&u!=null&&a(t,["parameters","binaryColorThreshold"],u);const c=s(e,["labels"]);return t!==void 0&&c!=null&&a(t,["labels"],c),n}function NC(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],he(e,o));const r=s(t,["source"]);r!=null&&PC(r,n);const i=s(t,["config"]);return i!=null&&kC(i,n),n}function RC(e){const t={},n=s(e,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>tC(r))),a(t,["generatedMasks"],o)}return t}function PC(e,t){const n={},o=s(e,["prompt"]);t!==void 0&&o!=null&&a(t,["instances[0]","prompt"],o);const r=s(e,["image"]);t!==void 0&&r!=null&&a(t,["instances[0]","image"],Vt(r));const i=s(e,["scribbleImage"]);return t!==void 0&&i!=null&&a(t,["instances[0]","scribble"],AC(i)),n}function MC(e){const t={},n=s(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],Lw(n));const o=s(e,["retrievalConfig"]);return o!=null&&a(t,["retrievalConfig"],o),t}function DC(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const r=s(e,["computerUse"]);r!=null&&a(t,["computerUse"],r);const i=s(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],lC(u));const c=s(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],aC(c));const d=s(e,["urlContext"]);return d!=null&&a(t,["urlContext"],d),t}function mm(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>bw(p))),a(t,["functionDeclarations"],m)}const o=s(e,["retrieval"]);o!=null&&a(t,["retrieval"],o);const r=s(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const i=s(e,["computerUse"]);if(i!=null&&a(t,["computerUse"],i),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(e,["codeExecution"]);l!=null&&a(t,["codeExecution"],l);const u=s(e,["enterpriseWebSearch"]);u!=null&&a(t,["enterpriseWebSearch"],u);const c=s(e,["googleMaps"]);c!=null&&a(t,["googleMaps"],c);const d=s(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],d);const f=s(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function LC(e){const t={},n=s(e,["baseModel"]);n!=null&&a(t,["baseModel"],n);const o=s(e,["createTime"]);o!=null&&a(t,["createTime"],o);const r=s(e,["updateTime"]);return r!=null&&a(t,["updateTime"],r),t}function bC(e){const t={},n=s(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&a(t,["baseModel"],n);const o=s(e,["createTime"]);o!=null&&a(t,["createTime"],o);const r=s(e,["updateTime"]);return r!=null&&a(t,["updateTime"],r),t}function UC(e,t){const n={},o=s(e,["displayName"]);t!==void 0&&o!=null&&a(t,["displayName"],o);const r=s(e,["description"]);t!==void 0&&r!=null&&a(t,["description"],r);const i=s(e,["defaultCheckpointId"]);return t!==void 0&&i!=null&&a(t,["defaultCheckpointId"],i),n}function FC(e,t){const n={},o=s(e,["displayName"]);t!==void 0&&o!=null&&a(t,["displayName"],o);const r=s(e,["description"]);t!==void 0&&r!=null&&a(t,["description"],r);const i=s(e,["defaultCheckpointId"]);return t!==void 0&&i!=null&&a(t,["defaultCheckpointId"],i),n}function VC(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","name"],he(e,o));const r=s(t,["config"]);return r!=null&&UC(r,n),n}function HC(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],he(e,o));const r=s(t,["config"]);return r!=null&&FC(r,n),n}function GC(e,t){const n={},o=s(e,["outputGcsUri"]);t!==void 0&&o!=null&&a(t,["parameters","storageUri"],o);const r=s(e,["safetyFilterLevel"]);t!==void 0&&r!=null&&a(t,["parameters","safetySetting"],r);const i=s(e,["personGeneration"]);t!==void 0&&i!=null&&a(t,["parameters","personGeneration"],i);const l=s(e,["includeRaiReason"]);t!==void 0&&l!=null&&a(t,["parameters","includeRaiReason"],l);const u=s(e,["outputMimeType"]);t!==void 0&&u!=null&&a(t,["parameters","outputOptions","mimeType"],u);const c=s(e,["outputCompressionQuality"]);t!==void 0&&c!=null&&a(t,["parameters","outputOptions","compressionQuality"],c);const d=s(e,["enhanceInputImage"]);t!==void 0&&d!=null&&a(t,["parameters","upscaleConfig","enhanceInputImage"],d);const f=s(e,["imagePreservationFactor"]);t!==void 0&&f!=null&&a(t,["parameters","upscaleConfig","imagePreservationFactor"],f);const m=s(e,["labels"]);t!==void 0&&m!=null&&a(t,["labels"],m);const p=s(e,["numberOfImages"]);t!==void 0&&p!=null&&a(t,["parameters","sampleCount"],p);const g=s(e,["mode"]);return t!==void 0&&g!=null&&a(t,["parameters","mode"],g),n}function zC(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],he(e,o));const r=s(t,["image"]);r!=null&&a(n,["instances[0]","image"],Vt(r));const i=s(t,["upscaleFactor"]);i!=null&&a(n,["parameters","upscaleConfig","upscaleFactor"],i);const l=s(t,["config"]);return l!=null&&GC(l,n),n}function BC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>fs(i))),a(t,["generatedImages"],r)}return t}function qC(e){const t={},n=s(e,["uri"]);n!=null&&a(t,["uri"],n);const o=s(e,["encodedVideo"]);o!=null&&a(t,["videoBytes"],kn(o));const r=s(e,["encoding"]);return r!=null&&a(t,["mimeType"],r),t}function $C(e){const t={},n=s(e,["gcsUri"]);n!=null&&a(t,["uri"],n);const o=s(e,["bytesBase64Encoded"]);o!=null&&a(t,["videoBytes"],kn(o));const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function OC(e){const t={},n=s(e,["image"]);n!=null&&a(t,["_self"],Vt(n));const o=s(e,["maskMode"]);return o!=null&&a(t,["maskMode"],o),t}function WC(e){const t={},n=s(e,["image"]);n!=null&&a(t,["image"],ps(n));const o=s(e,["referenceType"]);return o!=null&&a(t,["referenceType"],o),t}function JC(e){const t={},n=s(e,["image"]);n!=null&&a(t,["image"],Vt(n));const o=s(e,["referenceType"]);return o!=null&&a(t,["referenceType"],o),t}function gm(e){const t={},n=s(e,["uri"]);n!=null&&a(t,["uri"],n);const o=s(e,["videoBytes"]);o!=null&&a(t,["encodedVideo"],kn(o));const r=s(e,["mimeType"]);return r!=null&&a(t,["encoding"],r),t}function ym(e){const t={},n=s(e,["uri"]);n!=null&&a(t,["gcsUri"],n);const o=s(e,["videoBytes"]);o!=null&&a(t,["bytesBase64Encoded"],kn(o));const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YC(e,t){const n={},o=s(e,["displayName"]);return t!==void 0&&o!=null&&a(t,["displayName"],o),n}function KC(e){const t={},n=s(e,["config"]);return n!=null&&YC(n,t),t}function XC(e,t){const n={},o=s(e,["force"]);return t!==void 0&&o!=null&&a(t,["_query","force"],o),n}function QC(e){const t={},n=s(e,["name"]);n!=null&&a(t,["_url","name"],n);const o=s(e,["config"]);return o!=null&&XC(o,t),t}function ZC(e){const t={},n=s(e,["name"]);return n!=null&&a(t,["_url","name"],n),t}function jC(e,t){const n={},o=s(e,["customMetadata"]);if(t!==void 0&&o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["customMetadata"],i)}const r=s(e,["chunkingConfig"]);return t!==void 0&&r!=null&&a(t,["chunkingConfig"],r),n}function eS(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response"]);return l!=null&&a(t,["response"],nS(l)),t}function tS(e){const t={},n=s(e,["fileSearchStoreName"]);n!=null&&a(t,["_url","file_search_store_name"],n);const o=s(e,["fileName"]);o!=null&&a(t,["fileName"],o);const r=s(e,["config"]);return r!=null&&jC(r,t),t}function nS(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["parent"]);o!=null&&a(t,["parent"],o);const r=s(e,["documentName"]);return r!=null&&a(t,["documentName"],r),t}function oS(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function rS(e){const t={},n=s(e,["config"]);return n!=null&&oS(n,t),t}function iS(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["fileSearchStores"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["fileSearchStores"],i)}return t}function vm(e,t){const n={},o=s(e,["mimeType"]);t!==void 0&&o!=null&&a(t,["mimeType"],o);const r=s(e,["displayName"]);t!==void 0&&r!=null&&a(t,["displayName"],r);const i=s(e,["customMetadata"]);if(t!==void 0&&i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>c)),a(t,["customMetadata"],u)}const l=s(e,["chunkingConfig"]);return t!==void 0&&l!=null&&a(t,["chunkingConfig"],l),n}function sS(e){const t={},n=s(e,["fileSearchStoreName"]);n!=null&&a(t,["_url","file_search_store_name"],n);const o=s(e,["config"]);return o!=null&&vm(o,t),t}function lS(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aS="Content-Type",uS="X-Server-Timeout",cS="User-Agent",na="x-goog-api-client",dS="1.34.0",fS=`google-genai-sdk/${dS}`,pS="v1beta1",hS="v1beta";class mS{constructor(t){var n,o;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:pS,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:hS,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&o.push(t.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,o){const r=[this.getRequestUrlInternal(n)];return o&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,n,o);if(t.queryParams)for(const[l,u]of Object.entries(t.queryParams))r.searchParams.append(l,String(u));let i={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=t.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),t.abortSignal),this.unaryApiCall(r,i,t.httpMethod)}patchHttpOptions(t,n){const o=JSON.parse(JSON.stringify(t));for(const[r,i]of Object.entries(n))typeof i=="object"?o[r]=Object.assign(Object.assign({},o[r]),i):i!==void 0&&(o[r]=i);return o}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,n,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=t.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),t.abortSignal),this.streamApiCall(r,i,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,o,r){if(n&&n.timeout||r){const i=new AbortController,l=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>i.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),t.signal=l}return n&&n.extraBody!==null&&gS(t,n.extraBody),t.headers=await this.getHeadersInternal(n,o),t}async unaryApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await gf(r),new Ql(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await gf(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return bt(this,arguments,function*(){var o;const r=(o=t==null?void 0:t.body)===null||o===void 0?void 0:o.getReader(),i=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let l="";const u="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:f}=yield se(r.read());if(d){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=i.decode(f,{stream:!0});try{const E=JSON.parse(m);if("error"in E){const C=JSON.parse(JSON.stringify(E.error)),S=C.status,v=C.code,y=`got status: ${S}. ${JSON.stringify(E)}`;if(v>=400&&v<600)throw new cs({message:y,status:v})}}catch(E){if(E.name==="ApiError")throw E}l+=m;let p=-1,g=0;for(;;){p=-1,g=0;for(const S of c){const v=l.indexOf(S);v!==-1&&(p===-1||v<p)&&(p=v,g=S.length)}if(p===-1)break;const E=l.substring(0,p);l=l.substring(p+g);const C=E.trim();if(C.startsWith(u)){const S=C.substring(u.length).trim();try{const v=new Response(S,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield se(new Ql(v))}catch(v){throw new Error(`exception parsing stream chunk ${S}. ${v}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const t={},n=fS+" "+this.clientOptions.userAgentExtra;return t[cS]=n,t[na]=n,t[aS]="application/json",t}async getHeadersInternal(t,n){const o=new Headers;if(t&&t.headers){for(const[r,i]of Object.entries(t.headers))o.append(r,i);t.timeout&&t.timeout>0&&o.append(uS,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(t){var n;let o="";return typeof t=="string"&&(o=t.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(t,n){var o;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const i=this.clientOptions.uploader,l=await i.stat(t);r.sizeBytes=String(l.size);const u=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=u;const c={file:r},d=this.getFileName(t),f=G("upload/v1beta/files",c._url),m=await this.fetchUploadUrl(f,r.sizeBytes,r.mimeType,d,c,n==null?void 0:n.httpOptions);return i.upload(t,m,this)}async uploadFileToFileSearchStore(t,n,o){var r;const i=this.clientOptions.uploader,l=await i.stat(n),u=String(l.size),c=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${t}:uploadToFileSearchStore`,f=this.getFileName(n),m={};o!=null&&vm(o,m);const p=await this.fetchUploadUrl(d,u,c,f,m,o==null?void 0:o.httpOptions);return i.uploadToFileSearchStore(n,p,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,o,r,i,l){var u;let c={};l?c=l:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const d=await this.request({path:t,body:JSON.stringify(i),httpMethod:"POST",httpOptions:c});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(u=d==null?void 0:d.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function gf(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let o;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await e.json():o={error:{message:await e.text(),code:e.status,status:e.statusText}};const r=JSON.stringify(o);throw n>=400&&n<600?new cs({message:r,status:n}):new Error(r)}}function gS(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const i=JSON.parse(e.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(i,l){const u=Object.assign({},i);for(const c in l)if(Object.prototype.hasOwnProperty.call(l,c)){const d=l[c],f=u[c];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?u[c]=o(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),u[c]=d)}return u}const r=o(n,t);e.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yS="mcp_used/unknown";let vS=!1;function xm(e){for(const t of e)if(xS(t)||typeof t=="object"&&"inputSchema"in t)return!0;return vS}function Em(e){var t;const n=(t=e[na])!==null&&t!==void 0?t:"";e[na]=(n+` ${yS}`).trimStart()}function xS(e){return e!==null&&typeof e=="object"&&e instanceof hu}function ES(e){return bt(this,arguments,function*(n,o=100){let r,i=0;for(;i<o;){const l=yield se(n.listTools({cursor:r}));for(const u of l.tools)yield yield se(u),i++;if(!l.nextCursor)break;r=l.nextCursor}})}class hu{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new hu(t,n)}async initialize(){var t,n,o,r;if(this.mcpTools.length>0)return;const i={},l=[];for(const f of this.mcpClients)try{for(var u=!0,c=(n=void 0,Ut(ES(f))),d;d=await c.next(),t=d.done,!t;u=!0){r=d.value,u=!1;const m=r;l.push(m);const p=m.name;if(i[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);i[p]=f}}catch(m){n={error:m}}finally{try{!u&&!t&&(o=c.return)&&await o.call(c)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),Zv(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const o of t)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const l=await r.callTool({name:o.name,arguments:o.args},void 0,i);n.push({functionResponse:{name:o.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function wS(e,t,n){const o=new $v;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(o,r),t(o)}class CS{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o}async connect(t){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),l=_S(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const f=new Promise(x=>{d=x}),m=t.callbacks,p=function(){d({})},g=this.apiClient,E={onopen:p,onmessage:x=>{wS(g,m.onmessage,x)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(x){},onclose:(o=m==null?void 0:m.onclose)!==null&&o!==void 0?o:function(x){}},C=this.webSocketFactory.create(c,TS(l),E);C.connect(),await f;const y={setup:{model:he(this.apiClient,t.model)}};return C.send(JSON.stringify(y)),new SS(C,this.apiClient)}}class SS{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=KE(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=YE(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(lo.PLAY)}pause(){this.sendPlaybackControl(lo.PAUSE)}stop(){this.sendPlaybackControl(lo.STOP)}resetContext(){this.sendPlaybackControl(lo.RESET_CONTEXT)}close(){this.conn.close()}}function TS(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function _S(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IS="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function AS(e,t,n){const o=new qv;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const i=JSON.parse(r);if(e.isVertexAI()){const l=ZE(i);Object.assign(o,l)}else Object.assign(o,i);t(o)}class kS{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o,this.music=new CS(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,o,r,i,l,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let f;const m=this.apiClient.getHeaders();t.config&&t.config.tools&&xm(t.config.tools)&&Em(m);const p=MS(m);if(this.apiClient.isVertexAI())f=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,f);else{const P=this.apiClient.getApiKey();let M="BidiGenerateContent",K="key";P!=null&&P.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),M="BidiGenerateContentConstrained",K="access_token"),f=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${M}?${K}=${P}`}let g=()=>{};const E=new Promise(P=>{g=P}),C=t.callbacks,S=function(){var P;(P=C==null?void 0:C.onopen)===null||P===void 0||P.call(C),g({})},v=this.apiClient,y={onopen:S,onmessage:P=>{AS(v,C.onmessage,P)},onerror:(n=C==null?void 0:C.onerror)!==null&&n!==void 0?n:function(P){},onclose:(o=C==null?void 0:C.onclose)!==null&&o!==void 0?o:function(P){}},x=this.webSocketFactory.create(f,PS(p),y);x.connect(),await E;let w=he(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&w.startsWith("publishers/")){const P=this.apiClient.getProject(),M=this.apiClient.getLocation();w=`projects/${P}/locations/${M}/`+w}let T={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Vi.AUDIO]}:t.config.responseModalities=[Vi.AUDIO]),!((i=t.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const A=(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],k=[];for(const P of A)if(this.isCallableTool(P)){const M=P;k.push(await M.tool())}else k.push(P);k.length>0&&(t.config.tools=k);const R={model:w,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?T=JE(this.apiClient,R):T=WE(this.apiClient,R),delete T.config,x.send(JSON.stringify(T)),new RS(x,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const NS={turnComplete:!0};class RS{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=_t(n.turns),t.isVertexAI()||(o=o.map(r=>ds(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const i of o){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!t.isVertexAI()&&!("id"in i))throw new Error(IS)}return{toolResponse:{functionResponses:o}}}sendClientContent(t){t=Object.assign(Object.assign({},NS),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:QE(t)}:n={realtimeInput:XE(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function PS(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function MS(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yf=10;function vf(e){var t,n,o;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const l of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(yo(l)){r=!0;break}if(!r)return!0;const i=(o=e==null?void 0:e.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function yo(e){return"callTool"in e&&typeof e.callTool=="function"}function DS(e){var t,n,o;return(o=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(r=>yo(r)))!==null&&o!==void 0?o:!1}function xf(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((o,r)=>{if(yo(o))return;const i=o;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(r)}),n}function Ef(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LS extends on{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var o,r,i,l,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!DS(n)||vf(n.config))return await this.generateContentInternal(c);const d=xf(n);if(d.length>0){const C=d.map(S=>`tools[${S}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${C}.`)}let f,m;const p=_t(c.contents),g=(i=(r=(o=c.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:yf;let E=0;for(;E<g&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const C=f.candidates[0].content,S=[];for(const v of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(yo(v)){const x=await v.callTool(f.functionCalls);S.push(...x)}E++,m={role:"user",parts:S},c.contents=_t(c.contents),c.contents.push(C),c.contents.push(m),Ef(c.config)&&(p.push(C),p.push(m))}return Ef(c.config)&&(f.automaticFunctionCallingHistory=p),f},this.generateContentStream=async n=>{var o,r,i,l,u;if(this.maybeMoveToResponseJsonSchem(n),vf(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const c=xf(n);if(c.length>0){const m=c.map(p=>`tools[${p}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(i=(r=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,f=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var r;let i;const l=[];if(o!=null&&o.generatedImages)for(const c of o.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((r=c==null?void 0:c.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?i=c==null?void 0:c.safetyAttributes:l.push(c);let u;return i?u={generatedImages:l,positivePromptSafetyAttributes:i,sdkHttpResponse:o.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:o.sdkHttpResponse},u}),this.list=async n=>{var o;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((o=l.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new $n(tn.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var o,r,i,l,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(i=n.source)===null||i===void 0?void 0:i.video)===null||l===void 0)&&l.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,o,r;const i=(n=t.config)===null||n===void 0?void 0:n.tools;if(!i)return t;const l=await Promise.all(i.map(async c=>yo(c)?await c.tool():c)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(u.config.tools=l,t.config&&t.config.tools&&xm(t.config.tools)){const c=(r=(o=t.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),Em(d),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(t){var n,o,r;const i=new Map;for(const l of(o=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(yo(l)){const u=l,c=await u.tool();for(const d of(r=c.functionDeclarations)!==null&&r!==void 0?r:[]){if(!d.name)throw new Error("Function declaration name is required.");if(i.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);i.set(d.name,u)}}return i}async processAfcStream(t){var n,o,r;const i=(r=(o=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:yf;let l=!1,u=0;const c=await this.initAfcToolsMap(t);return function(d,f,m){return bt(this,arguments,function*(){for(var p,g,E,C,S,v;u<i;){l&&(u++,l=!1);const T=yield se(d.processParamsMaybeAddMcpUsage(m)),A=yield se(d.generateContentStreamInternal(T)),k=[],R=[];try{for(var y=!0,x=(g=void 0,Ut(A)),w;w=yield se(x.next()),p=w.done,!p;y=!0){C=w.value,y=!1;const P=C;if(yield yield se(P),P.candidates&&(!((S=P.candidates[0])===null||S===void 0)&&S.content)){R.push(P.candidates[0].content);for(const M of(v=P.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(u<i&&M.functionCall){if(!M.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(M.functionCall.name)){const K=yield se(f.get(M.functionCall.name).callTool([M.functionCall]));k.push(...K)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${M.functionCall.name}`)}}}}catch(P){g={error:P}}finally{try{!y&&!p&&(E=x.return)&&(yield se(E.call(x)))}finally{if(g)throw g.error}}if(k.length>0){l=!0;const P=new qo;P.candidates=[{content:{role:"user",parts:k}}],yield yield se(P);const M=[];M.push(...R),M.push({role:"user",parts:k});const K=_t(m.contents).concat(M);m.contents=K}else break}})}(this,c,t)}async generateContentInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=pf(this.apiClient,t);return u=G("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=mf(f),p=new qo;return Object.assign(p,m),p})}else{const d=ff(this.apiClient,t);return u=G("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=hf(f),p=new qo;return Object.assign(p,m),p})}}async generateContentStreamInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=pf(this.apiClient,t);return u=G("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(m){return bt(this,arguments,function*(){var p,g,E,C;try{for(var S=!0,v=Ut(m),y;y=yield se(v.next()),p=y.done,!p;S=!0){C=y.value,S=!1;const x=C,w=mf(yield se(x.json()));w.sdkHttpResponse={headers:x.headers};const T=new qo;Object.assign(T,w),yield yield se(T)}}catch(x){g={error:x}}finally{try{!S&&!p&&(E=v.return)&&(yield se(E.call(v)))}finally{if(g)throw g.error}}})})}else{const d=ff(this.apiClient,t);return u=G("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(m){return bt(this,arguments,function*(){var p,g,E,C;try{for(var S=!0,v=Ut(m),y;y=yield se(v.next()),p=y.done,!p;S=!0){C=y.value,S=!1;const x=C,w=hf(yield se(x.json()));w.sdkHttpResponse={headers:x.headers};const T=new qo;Object.assign(T,w),yield yield se(T)}}catch(x){g={error:x}}finally{try{!S&&!p&&(E=v.return)&&(yield se(E.call(v)))}finally{if(g)throw g.error}}})})}}async embedContent(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=kw(this.apiClient,t);return u=G("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Rw(f),p=new Yd;return Object.assign(p,m),p})}else{const d=Aw(this.apiClient,t);return u=G("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Nw(f),p=new Yd;return Object.assign(p,m),p})}}async generateImagesInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=zw(this.apiClient,t);return u=G("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=qw(f),p=new Kd;return Object.assign(p,m),p})}else{const d=Gw(this.apiClient,t);return u=G("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Bw(f),p=new Kd;return Object.assign(p,m),p})}}async editImageInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=Sw(this.apiClient,t);return i=G("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=Tw(c),f=new Mv;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=zC(this.apiClient,t);return i=G("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=BC(c),f=new Dv;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=CC(this.apiClient,t);return i=G("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=SC(c),f=new Lv;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=NC(this.apiClient,t);return i=G("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=RC(c),f=new bv;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=sC(this.apiClient,t);return u=G("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>ta(f))}else{const d=iC(this.apiClient,t);return u=G("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>ea(f))}}async listInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=mC(this.apiClient,t);return u=G("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=yC(f),p=new Xd;return Object.assign(p,m),p})}else{const d=hC(this.apiClient,t);return u=G("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=gC(f),p=new Xd;return Object.assign(p,m),p})}}async update(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=HC(this.apiClient,t);return u=G("{model}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>ta(f))}else{const d=VC(this.apiClient,t);return u=G("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>ea(f))}}async delete(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=xw(this.apiClient,t);return u=G("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=ww(f),p=new Qd;return Object.assign(p,m),p})}else{const d=vw(this.apiClient,t);return u=G("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Ew(f),p=new Qd;return Object.assign(p,m),p})}}async countTokens(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=mw(this.apiClient,t);return u=G("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=yw(f),p=new Zd;return Object.assign(p,m),p})}else{const d=hw(this.apiClient,t);return u=G("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=gw(f),p=new Zd;return Object.assign(p,m),p})}}async computeTokens(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=lw(this.apiClient,t);return i=G("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=aw(c),f=new Uv;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Kw(this.apiClient,t);return u=G("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>{const m=Jw(f),p=new Hi;return Object.assign(p,m),p})}else{const d=Yw(this.apiClient,t);return u=G("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>{const m=Ww(f),p=new Hi;return Object.assign(p,m),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bS extends on{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Iv(t);return u=G("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l}else{const d=_v(t);return u=G("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l}}async fetchPredictVideosOperationInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=vv(t);return i=G("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function US(e){const t={},n=s(e,["data"]);if(n!=null&&a(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function FS(e){const t={},n=s(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>WS(i))),a(t,["parts"],r)}const o=s(e,["role"]);return o!=null&&a(t,["role"],o),t}function VS(e,t,n){const o={},r=s(t,["expireTime"]);n!==void 0&&r!=null&&a(n,["expireTime"],r);const i=s(t,["newSessionExpireTime"]);n!==void 0&&i!=null&&a(n,["newSessionExpireTime"],i);const l=s(t,["uses"]);n!==void 0&&l!=null&&a(n,["uses"],l);const u=s(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&a(n,["bidiGenerateContentSetup"],OS(e,u));const c=s(t,["lockAdditionalFields"]);return n!==void 0&&c!=null&&a(n,["fieldMask"],c),o}function HS(e,t){const n={},o=s(t,["config"]);return o!=null&&a(n,["config"],VS(e,o,n)),n}function GS(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function zS(e){const t={},n=s(e,["id"]);n!=null&&a(t,["id"],n);const o=s(e,["args"]);o!=null&&a(t,["args"],o);const r=s(e,["name"]);if(r!=null&&a(t,["name"],r),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function BS(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function qS(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function $S(e,t){const n={},o=s(e,["generationConfig"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig"],o);const r=s(e,["responseModalities"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","responseModalities"],r);const i=s(e,["temperature"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","temperature"],i);const l=s(e,["topP"]);t!==void 0&&l!=null&&a(t,["setup","generationConfig","topP"],l);const u=s(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const c=s(e,["maxOutputTokens"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","maxOutputTokens"],c);const d=s(e,["mediaResolution"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","mediaResolution"],d);const f=s(e,["seed"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","seed"],f);const m=s(e,["speechConfig"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","speechConfig"],pu(m));const p=s(e,["thinkingConfig"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","thinkingConfig"],p);const g=s(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],g);const E=s(e,["systemInstruction"]);t!==void 0&&E!=null&&a(t,["setup","systemInstruction"],FS(tt(E)));const C=s(e,["tools"]);if(t!==void 0&&C!=null){let A=No(C);Array.isArray(A)&&(A=A.map(k=>YS(ko(k)))),a(t,["setup","tools"],A)}const S=s(e,["sessionResumption"]);t!==void 0&&S!=null&&a(t,["setup","sessionResumption"],JS(S));const v=s(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&a(t,["setup","inputAudioTranscription"],v);const y=s(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&a(t,["setup","outputAudioTranscription"],y);const x=s(e,["realtimeInputConfig"]);t!==void 0&&x!=null&&a(t,["setup","realtimeInputConfig"],x);const w=s(e,["contextWindowCompression"]);t!==void 0&&w!=null&&a(t,["setup","contextWindowCompression"],w);const T=s(e,["proactivity"]);if(t!==void 0&&T!=null&&a(t,["setup","proactivity"],T),s(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function OS(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["setup","model"],he(e,o));const r=s(t,["config"]);return r!=null&&a(n,["config"],$S(r,n)),n}function WS(e){const t={},n=s(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=s(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=s(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=s(e,["fileData"]);i!=null&&a(t,["fileData"],GS(i));const l=s(e,["functionCall"]);l!=null&&a(t,["functionCall"],zS(l));const u=s(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=s(e,["inlineData"]);c!=null&&a(t,["inlineData"],US(c));const d=s(e,["text"]);d!=null&&a(t,["text"],d);const f=s(e,["thought"]);f!=null&&a(t,["thought"],f);const m=s(e,["thoughtSignature"]);m!=null&&a(t,["thoughtSignature"],m);const p=s(e,["videoMetadata"]);return p!=null&&a(t,["videoMetadata"],p),t}function JS(e){const t={},n=s(e,["handle"]);if(n!=null&&a(t,["handle"],n),s(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function YS(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const r=s(e,["computerUse"]);r!=null&&a(t,["computerUse"],r);const i=s(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],BS(u));const c=s(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],qS(c));const d=s(e,["urlContext"]);return d!=null&&a(t,["urlContext"],d),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KS(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const o=e[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(i=>`${n}.${i}`);t.push(...r)}else t.push(n)}return t.join(",")}function XS(e,t){let n=null;const o=e.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const i=o.setup;typeof i=="object"&&i!==null?(e.bidiGenerateContentSetup=i,n=i):delete e.bidiGenerateContentSetup}else o!==void 0&&delete e.bidiGenerateContentSetup;const r=e.fieldMask;if(n){const i=KS(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)i?e.fieldMask=i:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];r.length>0&&(u=r.map(d=>l.includes(d)?`generationConfig.${d}`:d));const c=[];i&&c.push(i),u.length>0&&c.push(...u),c.length>0?e.fieldMask=c.join(","):delete e.fieldMask}else delete e.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?e.fieldMask=r.join(","):delete e.fieldMask;return e}class QS extends on{constructor(t){super(),this.apiClient=t}async create(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=HS(this.apiClient,t);i=G("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const c=XS(u,t.config);return r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZS(e,t){const n={},o=s(e,["force"]);return t!==void 0&&o!=null&&a(t,["_query","force"],o),n}function jS(e){const t={},n=s(e,["name"]);n!=null&&a(t,["_url","name"],n);const o=s(e,["config"]);return o!=null&&ZS(o,t),t}function eT(e){const t={},n=s(e,["name"]);return n!=null&&a(t,["_url","name"],n),t}function tT(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function nT(e){const t={},n=s(e,["parent"]);n!=null&&a(t,["_url","parent"],n);const o=s(e,["config"]);return o!=null&&tT(o,t),t}function oT(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["documents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["documents"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rT extends on{constructor(t){super(),this.apiClient=t,this.list=async n=>new $n(tn.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=eT(t);return i=G("{name}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(t){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=jS(t);r=G("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=nT(t);return i=G("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=oT(c),f=new Fv;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iT extends on{constructor(t,n=new rT(t)){super(),this.apiClient=t,this.documents=n,this.list=async(o={})=>new $n(tn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=KC(t);return i=G("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async get(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ZC(t);return i=G("{name}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(t){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=QC(t);r=G("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=rS(t);return i=G("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=iS(c),f=new Vv;return Object.assign(f,d),f})}}async uploadToFileSearchStoreInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=sS(t);return i=G("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=lS(c),f=new Hv;return Object.assign(f,d),f})}}async importFile(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=tS(t);return i=G("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=eS(c),f=new au;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let wm=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return wm=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))};const sT=()=>wm();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oa(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const ra=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kt extends Error{}class st extends kt{constructor(t,n,o,r){super(`${st.makeMessage(t,n,o)}`),this.status=t,this.headers=r,this.error=n}static makeMessage(t,n,o){const r=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,n,o,r){if(!t||!r)return new hs({message:o,cause:ra(n)});const i=n;return t===400?new Sm(t,i,o,r):t===401?new Tm(t,i,o,r):t===403?new _m(t,i,o,r):t===404?new Im(t,i,o,r):t===409?new Am(t,i,o,r):t===422?new km(t,i,o,r):t===429?new Nm(t,i,o,r):t>=500?new Rm(t,i,o,r):new st(t,i,o,r)}}class ia extends st{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class hs extends st{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class Cm extends hs{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Sm extends st{}class Tm extends st{}class _m extends st{}class Im extends st{}class Am extends st{}class km extends st{}class Nm extends st{}class Rm extends st{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lT=/^[a-z][a-z0-9+.-]*:/i,aT=e=>lT.test(e);let sa=e=>(sa=Array.isArray,sa(e));const uT=sa;let cT=uT;const wf=cT;function dT(e){if(!e)return!0;for(const t in e)return!1;return!0}function fT(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const pT=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new kt(`${e} must be an integer`);if(t<0)throw new kt(`${e} must be a positive integer`);return t},hT=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mT=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jn="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gT(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const yT=()=>{var e,t,n,o,r;const i=gT();if(i==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Jn,"X-Stainless-OS":Sf(Deno.build.os),"X-Stainless-Arch":Cf(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Jn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(i==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Jn,"X-Stainless-OS":Sf((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Cf((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const l=vT();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Jn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Jn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function vT(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const o=n.exec(navigator.userAgent);if(o){const r=o[1]||0,i=o[2]||0,l=o[3]||0;return{browser:t,version:`${r}.${i}.${l}`}}}return null}const Cf=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Sf=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Jr;const xT=()=>Jr??(Jr=yT());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ET(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Pm(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function wT(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return Pm({start(){},async pull(n){const{done:o,value:r}=await t.next();o?n.close():n.enqueue(r)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function Mm(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function CT(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const o=e.getReader(),r=o.cancel();o.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ST=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dm=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Ys(e,t,n){return Dm(),new File(e,t??"unknown_file",n)}function TT(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const _T=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lm=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",IT=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&Lm(e),AT=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function kT(e,t,n){if(Dm(),e=await e,IT(e))return e instanceof File?e:Ys([await e.arrayBuffer()],e.name);if(AT(e)){const r=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Ys(await la(r),t,n)}const o=await la(e);if(t||(t=TT(e)),!(n!=null&&n.type)){const r=o.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof r=="string"&&(n=Object.assign(Object.assign({},n),{type:r}))}return Ys(o,t,n)}async function la(e){var t,n,o,r,i;let l=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)l.push(e);else if(Lm(e))l.push(e instanceof Blob?e:await e.arrayBuffer());else if(_T(e))try{for(var u=!0,c=Ut(e),d;d=await c.next(),t=d.done,!t;u=!0){r=d.value,u=!1;const f=r;l.push(...await la(f))}}catch(f){n={error:f}}finally{try{!u&&!t&&(o=c.return)&&await o.call(c)}finally{if(n)throw n.error}}else{const f=(i=e==null?void 0:e.constructor)===null||i===void 0?void 0:i.name;throw new Error(`Unexpected data type: ${typeof e}${f?`; constructor: ${f}`:""}${NT(e)}`)}return l}function NT(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bm{constructor(t){this._client=t}}bm._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Um(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Tf=Object.freeze(Object.create(null)),RT=(e=Um)=>function(n,...o){if(n.length===1)return n[0];let r=!1;const i=[],l=n.reduce((f,m,p)=>{var g,E,C;/[?#]/.test(m)&&(r=!0);const S=o[p];let v=(r?encodeURIComponent:e)(""+S);return p!==o.length&&(S==null||typeof S=="object"&&S.toString===((C=Object.getPrototypeOf((E=Object.getPrototypeOf((g=S.hasOwnProperty)!==null&&g!==void 0?g:Tf))!==null&&E!==void 0?E:Tf))===null||C===void 0?void 0:C.toString))&&(v=S+"",i.push({start:f.length+m.length,length:v.length,error:`Value of type ${Object.prototype.toString.call(S).slice(8,-1)} is not a valid path parameter`})),f+m+(p===o.length?"":v)},""),u=l.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=c.exec(u))!==null;)i.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(i.sort((f,m)=>f.start-m.start),i.length>0){let f=0;const m=i.reduce((p,g)=>{const E=" ".repeat(g.start-f),C="^".repeat(g.length);return f=g.start+g.length,p+E+C},"");throw new kt(`Path parameters result in path with invalid segments:
${i.map(p=>p.error).join(`
`)}
${l}
${m}`)}return l},Yr=RT(Um);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fm extends bm{create(t,n){var o;const{api_version:r=this._client.apiVersion}=t,i=zi(t,["api_version"]);if("model"in i&&"agent_config"in i)throw new kt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in i&&"generation_config"in i)throw new kt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Yr`/${r}/interactions`,Object.assign(Object.assign({body:i},n),{stream:(o=t.stream)!==null&&o!==void 0?o:!1}))}delete(t,n={},o){const{api_version:r=this._client.apiVersion}=n??{};return this._client.delete(Yr`/${r}/interactions/${t}`,o)}cancel(t,n={},o){const{api_version:r=this._client.apiVersion}=n??{};return this._client.post(Yr`/${r}/interactions/${t}/cancel`,o)}get(t,n={},o){var r;const i=n??{},{api_version:l=this._client.apiVersion}=i,u=zi(i,["api_version"]);return this._client.get(Yr`/${l}/interactions/${t}`,Object.assign(Object.assign({query:u},o),{stream:(r=n==null?void 0:n.stream)!==null&&r!==void 0?r:!1}))}}Fm._key=Object.freeze(["interactions"]);class Vm extends Fm{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PT(e){let t=0;for(const r of e)t+=r.length;const n=new Uint8Array(t);let o=0;for(const r of e)n.set(r,o),o+=r.length;return n}let Kr;function mu(e){let t;return(Kr??(t=new globalThis.TextEncoder,Kr=t.encode.bind(t)))(e)}let Xr;function _f(e){let t;return(Xr??(t=new globalThis.TextDecoder,Xr=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ms{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?mu(t):t;this.buffer=PT([this.buffer,n]);const o=[];let r;for(;(r=MT(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){o.push(_f(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const i=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,l=_f(this.buffer.subarray(0,i));o.push(l),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}}ms.NEWLINE_CHARS=new Set([`
`,"\r"]);ms.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function MT(e,t){for(let r=t??0;r<e.length;r++){if(e[r]===10)return{preceding:r,index:r+1,carriage:!1};if(e[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function DT(e){for(let o=0;o<e.length-1;o++){if(e[o]===10&&e[o+1]===10||e[o]===13&&e[o+1]===13)return o+2;if(e[o]===13&&e[o+1]===10&&o+3<e.length&&e[o+2]===13&&e[o+3]===10)return o+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bi={off:0,error:200,warn:300,info:400,debug:500},If=(e,t,n)=>{if(e){if(fT(Bi,e))return e;ot(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Bi))}`)}};function Xo(){}function Qr(e,t,n){return!t||Bi[e]>Bi[n]?Xo:t[e].bind(t)}const LT={error:Xo,warn:Xo,info:Xo,debug:Xo};let Af=new WeakMap;function ot(e){var t;const n=e.logger,o=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return LT;const r=Af.get(n);if(r&&r[0]===o)return r[1];const i={error:Qr("error",n,o),warn:Qr("warn",n,o),info:Qr("info",n,o),debug:Qr("debug",n,o)};return Af.set(n,[o,i]),i}const Pn=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ao{constructor(t,n,o){this.iterator=t,this.controller=n,this.client=o}static fromSSEResponse(t,n,o){let r=!1;const i=o?ot(o):console;function l(){return bt(this,arguments,function*(){var c,d,f,m;if(r)throw new kt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let p=!1;try{try{for(var g=!0,E=Ut(bT(t,n)),C;C=yield se(E.next()),c=C.done,!c;g=!0){m=C.value,g=!1;const S=m;if(!p)if(S.data.startsWith("[DONE]")){p=!0;continue}else try{yield yield se(JSON.parse(S.data))}catch(v){throw i.error("Could not parse message into JSON:",S.data),i.error("From chunk:",S.raw),v}}}catch(S){d={error:S}}finally{try{!g&&!c&&(f=E.return)&&(yield se(f.call(E)))}finally{if(d)throw d.error}}p=!0}catch(S){if(oa(S))return yield se(void 0);throw S}finally{p||n.abort()}})}return new ao(l,n,o)}static fromReadableStream(t,n,o){let r=!1;function i(){return bt(this,arguments,function*(){var c,d,f,m;const p=new ms,g=Mm(t);try{for(var E=!0,C=Ut(g),S;S=yield se(C.next()),c=S.done,!c;E=!0){m=S.value,E=!1;const v=m;for(const y of p.decode(v))yield yield se(y)}}catch(v){d={error:v}}finally{try{!E&&!c&&(f=C.return)&&(yield se(f.call(C)))}finally{if(d)throw d.error}}for(const v of p.flush())yield yield se(v)})}function l(){return bt(this,arguments,function*(){var c,d,f,m;if(r)throw new kt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let p=!1;try{try{for(var g=!0,E=Ut(i()),C;C=yield se(E.next()),c=C.done,!c;g=!0){m=C.value,g=!1;const S=m;p||S&&(yield yield se(JSON.parse(S)))}}catch(S){d={error:S}}finally{try{!g&&!c&&(f=E.return)&&(yield se(f.call(E)))}finally{if(d)throw d.error}}p=!0}catch(S){if(oa(S))return yield se(void 0);throw S}finally{p||n.abort()}})}return new ao(l,n,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],o=this.iterator(),r=i=>({next:()=>{if(i.length===0){const l=o.next();t.push(l),n.push(l)}return i.shift()}});return[new ao(()=>r(t),this.controller,this.client),new ao(()=>r(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return Pm({async start(){n=t[Symbol.asyncIterator]()},async pull(o){try{const{value:r,done:i}=await n.next();if(i)return o.close();const l=mu(JSON.stringify(r)+`
`);o.enqueue(l)}catch(r){o.error(r)}},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}}function bT(e,t){return bt(this,arguments,function*(){var o,r,i,l;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new kt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new kt("Attempted to iterate over a response with no body");const u=new FT,c=new ms,d=Mm(e.body);try{for(var f=!0,m=Ut(UT(d)),p;p=yield se(m.next()),o=p.done,!o;f=!0){l=p.value,f=!1;const g=l;for(const E of c.decode(g)){const C=u.decode(E);C&&(yield yield se(C))}}}catch(g){r={error:g}}finally{try{!f&&!o&&(i=m.return)&&(yield se(i.call(m)))}finally{if(r)throw r.error}}for(const g of c.flush()){const E=u.decode(g);E&&(yield yield se(E))}})}function UT(e){return bt(this,arguments,function*(){var n,o,r,i;let l=new Uint8Array;try{for(var u=!0,c=Ut(e),d;d=yield se(c.next()),n=d.done,!n;u=!0){i=d.value,u=!1;const f=i;if(f==null)continue;const m=f instanceof ArrayBuffer?new Uint8Array(f):typeof f=="string"?mu(f):f;let p=new Uint8Array(l.length+m.length);p.set(l),p.set(m,l.length),l=p;let g;for(;(g=DT(l))!==-1;)yield yield se(l.slice(0,g)),l=l.slice(g)}}catch(f){o={error:f}}finally{try{!u&&!n&&(r=c.return)&&(yield se(r.call(c)))}finally{if(o)throw o.error}}l.length>0&&(yield yield se(l))})}class FT{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,o,r]=VT(t,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}function VT(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function HT(e,t){const{response:n,requestLogID:o,retryOfRequestLogID:r,startTime:i}=t,l=await(async()=>{var u;if(t.options.stream)return ot(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):ao.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const c=n.headers.get("content-type"),d=(u=c==null?void 0:c.split(";")[0])===null||u===void 0?void 0:u.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?await n.json():await n.text()})();return ot(e).debug(`[${o}] response parsed`,Pn({retryOfRequestLogID:r,url:n.url,status:n.status,body:l,durationMs:Date.now()-i})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gu extends Promise{constructor(t,n,o=HT){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=o,this.client=t}_thenUnwrap(t){return new gu(this.client,this.responsePromise,async(n,o)=>t(await this.parseResponse(n,o),o))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hm=Symbol("brand.privateNullableHeaders");function*GT(e){if(!e)return;if(Hm in e){const{values:o,nulls:r}=e;yield*o.entries();for(const i of r)yield[i,null];return}let t=!1,n;e instanceof Headers?n=e.entries():wf(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let o of n){const r=o[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const i=wf(o[1])?o[1]:[o[1]];let l=!1;for(const u of i)u!==void 0&&(t&&!l&&(l=!0,yield[r,null]),yield[r,u])}}const $o=e=>{const t=new Headers,n=new Set;for(const o of e){const r=new Set;for(const[i,l]of GT(o)){const u=i.toLowerCase();r.has(u)||(t.delete(i),r.add(u)),l===null?(t.delete(i),n.add(u)):(t.append(i,l),n.delete(u))}}return{[Hm]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ks=e=>{var t,n,o,r,i,l;if(typeof globalThis.process<"u")return(o=(n=(t=fv)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(l=(i=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||i===void 0?void 0:i.call(r,e))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Gm;class gs{constructor(t){var n,o,r,i,l,u,c,{baseURL:d=Ks("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:f=(n=Ks("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:m="v1beta"}=t,p=zi(t,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:f,apiVersion:m},p),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(o=g.timeout)!==null&&o!==void 0?o:gs.DEFAULT_TIMEOUT,this.logger=(r=g.logger)!==null&&r!==void 0?r:console;const E="warn";this.logLevel=E,this.logLevel=(l=(i=If(g.logLevel,"ClientOptions.logLevel",this))!==null&&i!==void 0?i:If(Ks("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:E,this.fetchOptions=g.fetchOptions,this.maxRetries=(u=g.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(c=g.fetch)!==null&&c!==void 0?c:ET(),this.encoder=ST,this._options=g,this.apiKey=f,this.apiVersion=m,this.clientAdapter=g.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=$o([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return $o([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return $o([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,o])=>typeof o<"u").map(([n,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(n)}=`;throw new kt(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Jn}`}defaultIdempotencyKey(){return`stainless-node-retry-${sT()}`}makeStatusError(t,n,o,r){return st.generate(t,n,o,r)}buildURL(t,n,o){const r=!this.baseURLOverridden()&&o||this.baseURL,i=aT(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),l=this.defaultQuery();return dT(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(i.search=this.stringifyQuery(n)),i.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:o}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,o){return this.request(Promise.resolve(o).then(r=>Object.assign({method:t,path:n},r)))}request(t,n=null){return new gu(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,o){var r,i,l;const u=await t,c=(r=u.maxRetries)!==null&&r!==void 0?r:this.maxRetries;n==null&&(n=c),await this.prepareOptions(u);const{req:d,url:f,timeout:m}=await this.buildRequest(u,{retryCount:c-n});await this.prepareRequest(d,{url:f,options:u});const p="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=o===void 0?"":`, retryOf: ${o}`,E=Date.now();if(ot(this).debug(`[${p}] sending request`,Pn({retryOfRequestLogID:o,method:u.method,url:f,options:u,headers:d.headers})),!((i=u.signal)===null||i===void 0)&&i.aborted)throw new ia;const C=new AbortController,S=await this.fetchWithTimeout(f,d,m,C).catch(ra),v=Date.now();if(S instanceof globalThis.Error){const x=`retrying, ${n} attempts remaining`;if(!((l=u.signal)===null||l===void 0)&&l.aborted)throw new ia;const w=oa(S)||/timed? ?out/i.test(String(S)+("cause"in S?String(S.cause):""));if(n)return ot(this).info(`[${p}] connection ${w?"timed out":"failed"} - ${x}`),ot(this).debug(`[${p}] connection ${w?"timed out":"failed"} (${x})`,Pn({retryOfRequestLogID:o,url:f,durationMs:v-E,message:S.message})),this.retryRequest(u,n,o??p);throw ot(this).info(`[${p}] connection ${w?"timed out":"failed"} - error; no more retries left`),ot(this).debug(`[${p}] connection ${w?"timed out":"failed"} (error; no more retries left)`,Pn({retryOfRequestLogID:o,url:f,durationMs:v-E,message:S.message})),w?new Cm:new hs({cause:S})}const y=`[${p}${g}] ${d.method} ${f} ${S.ok?"succeeded":"failed"} with status ${S.status} in ${v-E}ms`;if(!S.ok){const x=await this.shouldRetry(S);if(n&&x){const P=`retrying, ${n} attempts remaining`;return await CT(S.body),ot(this).info(`${y} - ${P}`),ot(this).debug(`[${p}] response error (${P})`,Pn({retryOfRequestLogID:o,url:S.url,status:S.status,headers:S.headers,durationMs:v-E})),this.retryRequest(u,n,o??p,S.headers)}const w=x?"error; no more retries left":"error; not retryable";ot(this).info(`${y} - ${w}`);const T=await S.text().catch(P=>ra(P).message),A=hT(T),k=A?void 0:T;throw ot(this).debug(`[${p}] response error (${w})`,Pn({retryOfRequestLogID:o,url:S.url,status:S.status,headers:S.headers,message:k,durationMs:Date.now()-E})),this.makeStatusError(S.status,A,k,S.headers)}return ot(this).info(y),ot(this).debug(`[${p}] response start`,Pn({retryOfRequestLogID:o,url:S.url,status:S.status,headers:S.headers,durationMs:v-E})),{response:S,options:u,controller:C,requestLogID:p,retryOfRequestLogID:o,startTime:E}}async fetchWithTimeout(t,n,o,r){const i=n||{},{signal:l,method:u}=i,c=zi(i,["signal","method"]);l&&l.addEventListener("abort",()=>r.abort());const d=setTimeout(()=>r.abort(),o),f=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,m=Object.assign(Object.assign(Object.assign({signal:r.signal},f?{duplex:"half"}:{}),{method:"GET"}),c);u&&(m.method=u.toUpperCase());try{return await this.fetch.call(void 0,t,m)}finally{clearTimeout(d)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,o,r){var i;let l;const u=r==null?void 0:r.get("retry-after-ms");if(u){const d=parseFloat(u);Number.isNaN(d)||(l=d)}const c=r==null?void 0:r.get("retry-after");if(c&&!l){const d=parseFloat(c);Number.isNaN(d)?l=Date.parse(c)-Date.now():l=d*1e3}if(!(l&&0<=l&&l<60*1e3)){const d=(i=t.maxRetries)!==null&&i!==void 0?i:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,d)}return await mT(l),this.makeRequest(t,n-1,o)}calculateDefaultRetryTimeoutMillis(t,n){const i=n-t,l=Math.min(.5*Math.pow(2,i),8),u=1-Math.random()*.25;return l*u*1e3}async buildRequest(t,{retryCount:n=0}={}){var o,r,i;const l=Object.assign({},t),{method:u,path:c,query:d,defaultBaseURL:f}=l,m=this.buildURL(c,d,f);"timeout"in l&&pT("timeout",l.timeout),l.timeout=(o=l.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:p,body:g}=this.buildBody({options:l}),E=await this.buildHeaders({options:t,method:u,bodyHeaders:p,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:E},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(i=l.fetchOptions)!==null&&i!==void 0?i:{}),url:m,timeout:l.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:o,retryCount:r}){let i={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=t.idempotencyKey);const l=await this.authHeaders(t);let u=$o([i,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),xT()),this._options.defaultHeaders,o,t.headers,l]);return this.validateHeaders(u),u.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const o=$o([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&o.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:wT(t)}:this.encoder({body:t,headers:o})}}gs.DEFAULT_TIMEOUT=6e4;class Je extends gs{constructor(){super(...arguments),this.interactions=new Vm(this)}}Gm=Je;Je.GeminiNextGenAPIClient=Gm;Je.GeminiNextGenAPIClientError=kt;Je.APIError=st;Je.APIConnectionError=hs;Je.APIConnectionTimeoutError=Cm;Je.APIUserAbortError=ia;Je.NotFoundError=Im;Je.ConflictError=Am;Je.RateLimitError=Nm;Je.BadRequestError=Sm;Je.AuthenticationError=Tm;Je.InternalServerError=Rm;Je.PermissionDeniedError=_m;Je.UnprocessableEntityError=km;Je.toFile=kT;Je.Interactions=Vm;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zT(e,t){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function BT(e,t){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function qT(e,t){const n={},o=s(e,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function $T(e,t){const n={},o=s(e,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function OT(e,t,n){const o={};if(s(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=s(e,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&a(t,["displayName"],r),s(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=s(e,["epochCount"]);t!==void 0&&i!=null&&a(t,["tuningTask","hyperparameters","epochCount"],i);const l=s(e,["learningRateMultiplier"]);if(l!=null&&a(o,["tuningTask","hyperparameters","learningRateMultiplier"],l),s(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=s(e,["batchSize"]);t!==void 0&&u!=null&&a(t,["tuningTask","hyperparameters","batchSize"],u);const c=s(e,["learningRate"]);if(t!==void 0&&c!=null&&a(t,["tuningTask","hyperparameters","learningRate"],c),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(s(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function WT(e,t,n){const o={};let r=s(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const g=s(e,["validationDataset"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec"],kf(g))}else if(r==="PREFERENCE_TUNING"){const g=s(e,["validationDataset"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec"],kf(g))}const i=s(e,["tunedModelDisplayName"]);t!==void 0&&i!=null&&a(t,["tunedModelDisplayName"],i);const l=s(e,["description"]);t!==void 0&&l!=null&&a(t,["description"],l);let u=s(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=s(e,["epochCount"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(u==="PREFERENCE_TUNING"){const g=s(e,["epochCount"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let c=s(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const g=s(e,["learningRateMultiplier"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(c==="PREFERENCE_TUNING"){const g=s(e,["learningRateMultiplier"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let d=s(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const g=s(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(d==="PREFERENCE_TUNING"){const g=s(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let f=s(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const g=s(e,["adapterSize"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(f==="PREFERENCE_TUNING"){const g=s(e,["adapterSize"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(s(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=s(e,["labels"]);t!==void 0&&m!=null&&a(t,["labels"],m);const p=s(e,["beta"]);return t!==void 0&&p!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","beta"],p),o}function JT(e,t){const n={},o=s(e,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=s(e,["preTunedModel"]);r!=null&&a(n,["preTunedModel"],r);const i=s(e,["trainingDataset"]);i!=null&&r_(i);const l=s(e,["config"]);return l!=null&&OT(l,n),n}function YT(e,t){const n={},o=s(e,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=s(e,["preTunedModel"]);r!=null&&a(n,["preTunedModel"],r);const i=s(e,["trainingDataset"]);i!=null&&i_(i,n,t);const l=s(e,["config"]);return l!=null&&WT(l,n,t),n}function KT(e,t){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function XT(e,t){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function QT(e,t,n){const o={},r=s(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const i=s(e,["pageToken"]);t!==void 0&&i!=null&&a(t,["_query","pageToken"],i);const l=s(e,["filter"]);return t!==void 0&&l!=null&&a(t,["_query","filter"],l),o}function ZT(e,t,n){const o={},r=s(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const i=s(e,["pageToken"]);t!==void 0&&i!=null&&a(t,["_query","pageToken"],i);const l=s(e,["filter"]);return t!==void 0&&l!=null&&a(t,["_query","filter"],l),o}function jT(e,t){const n={},o=s(e,["config"]);return o!=null&&QT(o,n),n}function e_(e,t){const n={},o=s(e,["config"]);return o!=null&&ZT(o,n),n}function t_(e,t){const n={},o=s(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=s(e,["tunedModels"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>zm(u))),a(n,["tuningJobs"],l)}return n}function n_(e,t){const n={},o=s(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=s(e,["tuningJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>aa(u))),a(n,["tuningJobs"],l)}return n}function o_(e,t){const n={},o=s(e,["name"]);o!=null&&a(n,["model"],o);const r=s(e,["name"]);return r!=null&&a(n,["endpoint"],r),n}function r_(e,t){const n={};if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=s(e,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(n,["examples","examples"],r)}return n}function i_(e,t,n){const o={};let r=s(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const l=s(e,["gcsUri"]);t!==void 0&&l!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(r==="PREFERENCE_TUNING"){const l=s(e,["gcsUri"]);t!==void 0&&l!=null&&a(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let i=s(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=s(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=s(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&a(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(s(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function zm(e,t){const n={},o=s(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(e,["name"]);r!=null&&a(n,["name"],r);const i=s(e,["state"]);i!=null&&a(n,["state"],om(i));const l=s(e,["createTime"]);l!=null&&a(n,["createTime"],l);const u=s(e,["tuningTask","startTime"]);u!=null&&a(n,["startTime"],u);const c=s(e,["tuningTask","completeTime"]);c!=null&&a(n,["endTime"],c);const d=s(e,["updateTime"]);d!=null&&a(n,["updateTime"],d);const f=s(e,["description"]);f!=null&&a(n,["description"],f);const m=s(e,["baseModel"]);m!=null&&a(n,["baseModel"],m);const p=s(e,["_self"]);return p!=null&&a(n,["tunedModel"],o_(p)),n}function aa(e,t){const n={},o=s(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(e,["name"]);r!=null&&a(n,["name"],r);const i=s(e,["state"]);i!=null&&a(n,["state"],om(i));const l=s(e,["createTime"]);l!=null&&a(n,["createTime"],l);const u=s(e,["startTime"]);u!=null&&a(n,["startTime"],u);const c=s(e,["endTime"]);c!=null&&a(n,["endTime"],c);const d=s(e,["updateTime"]);d!=null&&a(n,["updateTime"],d);const f=s(e,["error"]);f!=null&&a(n,["error"],f);const m=s(e,["description"]);m!=null&&a(n,["description"],m);const p=s(e,["baseModel"]);p!=null&&a(n,["baseModel"],p);const g=s(e,["tunedModel"]);g!=null&&a(n,["tunedModel"],g);const E=s(e,["preTunedModel"]);E!=null&&a(n,["preTunedModel"],E);const C=s(e,["supervisedTuningSpec"]);C!=null&&a(n,["supervisedTuningSpec"],C);const S=s(e,["preferenceOptimizationSpec"]);S!=null&&a(n,["preferenceOptimizationSpec"],S);const v=s(e,["tuningDataStats"]);v!=null&&a(n,["tuningDataStats"],v);const y=s(e,["encryptionSpec"]);y!=null&&a(n,["encryptionSpec"],y);const x=s(e,["partnerModelTuningSpec"]);x!=null&&a(n,["partnerModelTuningSpec"],x);const w=s(e,["customBaseModel"]);w!=null&&a(n,["customBaseModel"],w);const T=s(e,["experiment"]);T!=null&&a(n,["experiment"],T);const A=s(e,["labels"]);A!=null&&a(n,["labels"],A);const k=s(e,["outputUri"]);k!=null&&a(n,["outputUri"],k);const R=s(e,["pipelineJob"]);R!=null&&a(n,["pipelineJob"],R);const P=s(e,["serviceAccount"]);P!=null&&a(n,["serviceAccount"],P);const M=s(e,["tunedModelDisplayName"]);M!=null&&a(n,["tunedModelDisplayName"],M);const K=s(e,["veoTuningSpec"]);return K!=null&&a(n,["veoTuningSpec"],K),n}function s_(e,t){const n={},o=s(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(e,["name"]);r!=null&&a(n,["name"],r);const i=s(e,["metadata"]);i!=null&&a(n,["metadata"],i);const l=s(e,["done"]);l!=null&&a(n,["done"],l);const u=s(e,["error"]);return u!=null&&a(n,["error"],u),n}function kf(e,t){const n={},o=s(e,["gcsUri"]);o!=null&&a(n,["validationDatasetUri"],o);const r=s(e,["vertexDatasetResource"]);return r!=null&&a(n,["validationDatasetUri"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class l_ extends on{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new $n(tn.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),i=await this.tuneMldevInternal(r);let l="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?l=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(l=i.name.split("/operations/")[0]),{name:l,state:Xl.JOB_STATE_QUEUED}}}}async getInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=XT(t);return u=G("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>aa(f))}else{const d=KT(t);return u=G("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>zm(f))}}async listInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=e_(t);return u=G("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=n_(f),p=new jd;return Object.assign(p,m),p})}else{const d=jT(t);return u=G("tunedModels",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=t_(f),p=new jd;return Object.assign(p,m),p})}}async cancel(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=BT(t);return u=G("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=$T(f),p=new ef;return Object.assign(p,m),p})}else{const d=zT(t);return u=G("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=qT(f),p=new ef;return Object.assign(p,m),p})}}async tuneInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=YT(t,t);return i=G("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>aa(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=JT(t);return i=G("tunedModels",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>s_(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class a_{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const u_=1024*1024*8,c_=3,d_=1e3,f_=2,qi="x-goog-upload-status";async function p_(e,t,n){var o;const r=await Bm(e,t,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[qi])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function h_(e,t,n){var o;const r=await Bm(e,t,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[qi])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=Qh(i),u=new uu;return Object.assign(u,l),u}async function Bm(e,t,n){var o,r;let i=0,l=0,u=new Ql(new Response),c="upload";for(i=e.size;l<i;){const d=Math.min(u_,i-l),f=e.slice(l,l+d);l+d>=i&&(c+=", finalize");let m=0,p=d_;for(;m<c_&&(u=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((o=u==null?void 0:u.headers)===null||o===void 0)&&o[qi]));)m++,await g_(p),p=p*f_;if(l+=d,((r=u==null?void 0:u.headers)===null||r===void 0?void 0:r[qi])!=="active")break;if(i<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function m_(e){return{size:e.size,type:e.type}}function g_(e){return new Promise(t=>setTimeout(t,e))}class y_{async upload(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await p_(t,n,o)}async uploadToFileSearchStore(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await h_(t,n,o)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await m_(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class v_{create(t,n,o){return new x_(t,n,o)}}class x_{constructor(t,n,o){this.url=t,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nf="x-goog-api-key";class E_{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(Nf)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Nf,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const w_="gl-node/";class C_{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Je({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const o=gv(t.httpOptions,t.vertexai,void 0,void 0);o&&(t.httpOptions?t.httpOptions.baseUrl=o:t.httpOptions={baseUrl:o}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new E_(this.apiKey);this.apiClient=new mS({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:w_+"web",uploader:new y_,downloader:new a_}),this.models=new LS(this.apiClient),this.live=new kS(this.apiClient,r,new v_),this.batches=new Ox(this.apiClient),this.chats=new IE(this.models,this.apiClient),this.caches=new SE(this.apiClient),this.files=new UE(this.apiClient),this.operations=new bS(this.apiClient),this.authTokens=new QS(this.apiClient),this.tunings=new l_(this.apiClient),this.fileSearchStores=new iT(this.apiClient)}}const S_=async e=>{var t,n,o,r;try{const u=(r=(o=(n=(t=(await new C_({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{text:e}]},config:{imageConfig:{aspectRatio:"1:1"}}})).candidates)==null?void 0:t[0])==null?void 0:n.content)==null?void 0:o.parts)==null?void 0:r.find(c=>c.inlineData);if(u&&u.inlineData)return`data:${u.inlineData.mimeType};base64,${u.inlineData.data}`;throw new Error("No image data returned from API")}catch(i){throw console.error("Image generation failed:",i),i}},$i=1080,T_=["Roboto","Open Sans","Montserrat","Poppins","Lato","Oswald","Raleway","Nunito","Quicksand","Josefin Sans","Ubuntu","Dosis","Titillium Web","Barlow","Heebo","Cabin","Exo 2","Didact Gothic","Varela Round","Merriweather","Playfair Display","Lora","Roboto Slab","Cinzel","Vollkorn","Old Standard TT","Dm Serif Display","Alice","Alike","Anton","Bebas Neue","Fjalla One","Abril Fatface","Alfa Slab One","Bangers","Russo One","Luckiest Guy","Black Ops One","Passion One","Audiowide","Orbitron","Press Start 2P","Monoton","Righteous","Fredoka One","Changa One","Lilita One","Concert One","Carter One","Bowlby One SC","Sigmar One","Ultra","Lobster","Pacifico","Dancing Script","Caveat","Satisfy","Great Vibes","Shadows Into Light","Indie Flower","Amatic SC","Permanent Marker","Sacramento","Cookie","Yellowtail","Courgette","Allura","Parisienne","Kaushan Script","Marck Script","Tangerine","Mr Dafoe","Berkshire Swash","Playball","Yesteryear","Zeyada","League Script","Cedarville Cursive","Comic Neue","Chewy","Handlee","Coming Soon","Patrick Hand","Architects Daughter","Kalam","Gloria Hallelujah","Covered By Your Grace","Annie Use Your Telescope","Nothing You Could Do","Reenie Beanie","Rock Salt","Special Elite","Boogaloo","Neucha","Amita","Creepster","Comfortaa","Signika","Abel","Acme","El Messiri","Merienda","Voltaire","Unkempt","Nanum Pen Script","Lobster Two"].sort(),__=["#ffffff","#000000","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#a855f7","transparent"],Oi=(e,t)=>Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2)),Wi=(e,t)=>Math.atan2(t.clientY-e.clientY,t.clientX-e.clientX)*180/Math.PI,Ji=(e,t)=>({x:(e.clientX+t.clientX)/2,y:(e.clientY+t.clientY)/2}),Rf=e=>new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}).format(new Date(e));function Se({icon:e,label:t,onClick:n,active:o,danger:r}){return h.jsxs("button",{onClick:n,className:`min-w-[64px] flex flex-col items-center gap-1.5 p-2 rounded-xl transition-all duration-200 select-none snap-center active:scale-90 hover:bg-white/5 ${o?"bg-brand-500 text-white shadow-lg shadow-brand-500/30 scale-105":r?"text-red-400 hover:text-red-300":"text-gray-400 hover:text-white"}`,children:[h.jsx("div",{className:`transition-transform duration-300 ${o?"scale-110 rotate-3":"group-active:scale-90"}`,children:e}),h.jsx("span",{className:"text-[10px] font-bold whitespace-nowrap uppercase tracking-tighter opacity-90",children:t})]})}function I_({title:e,onClose:t}){return h.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-700/50 bg-workspace-800/80 backdrop-blur-md sticky top-0 z-10",children:[h.jsx("h3",{className:"text-xs font-bold text-white uppercase tracking-wider flex items-center gap-2",children:e}),h.jsx("button",{onClick:t,className:"p-1.5 hover:bg-white/10 active:scale-90 transition-transform rounded-full text-gray-400 hover:text-white bg-gray-700/50",children:h.jsx(Yl,{size:16})})]})}const qm=({isOpen:e,title:t,message:n,onConfirm:o,onCancel:r,confirmLabel:i="Excluir",cancelLabel:l="Cancelar"})=>e?h.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-200 px-4",children:h.jsxs("div",{className:"bg-workspace-800/80 backdrop-blur-xl border border-gray-600/50 rounded-xl p-6 shadow-2xl max-sm w-full animate-in zoom-in-95 duration-200",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4 text-amber-500",children:[h.jsx(zy,{size:24}),h.jsx("h3",{className:"text-lg font-bold text-white",children:t})]}),h.jsx("p",{className:"text-gray-200 mb-6 text-sm leading-relaxed",children:n}),h.jsxs("div",{className:"flex gap-3 justify-end",children:[h.jsx("button",{onClick:r,className:"px-4 py-2 rounded-lg bg-gray-700/80 text-white hover:bg-gray-600 active:scale-95 transition-transform font-medium text-sm border border-gray-600",children:l}),h.jsx("button",{onClick:o,className:"px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-500 active:scale-95 transition-transform font-bold text-sm shadow-lg",children:i})]})]})}):null,Xs=({color:e,isActive:t,onClick:n,onContextMenu:o})=>{const r=e==="transparent";return h.jsxs("button",{onClick:n,onContextMenu:o,className:`relative w-10 h-10 rounded-full transition-all duration-200 active:scale-90 border-2 ${t?"border-white ring-2 ring-brand-500 scale-110 z-10":"border-gray-700/50 hover:scale-105 hover:border-gray-500"}`,style:{backgroundColor:r?"transparent":e,backgroundImage:r?"linear-gradient(45deg, #eee 25%, transparent 25%, transparent 75%, #eee 75%, #eee), linear-gradient(45deg, #eee 25%, white 25%, white 75%, #eee 75%, #eee)":"none",backgroundSize:r?"8px 8px":"auto",backgroundPosition:r?"0 0, 4px 4px":"auto"},children:[r&&h.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:h.jsx("div",{className:"w-full h-0.5 bg-red-500 rotate-45"})}),t&&h.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-brand-500 rounded-full border-2 border-workspace-800 flex items-center justify-center",children:h.jsx(ou,{size:8,className:"text-white",strokeWidth:4})})]})},A_=({imageUrl:e,onCancel:t,onSave:n})=>{const[o,r]=D.useState({width:0,height:0,naturalWidth:0,naturalHeight:0}),[i,l]=D.useState({x:10,y:10,width:80,height:80}),u=D.useRef(null),c=D.useRef(null),d=p=>{const g=p.currentTarget;r({width:g.width,height:g.height,naturalWidth:g.naturalWidth,naturalHeight:g.naturalHeight})},f=(p,g)=>{p.preventDefault(),p.stopPropagation();const E=u.current;if(!E)return;const C=E.getBoundingClientRect(),S=T=>{const A="touches"in T?T.touches[0].clientX:T.clientX,k="touches"in T?T.touches[0].clientY:T.clientY;return{x:(A-C.left)/C.width*100,y:(k-C.top)/C.height*100}},v=S(p.nativeEvent),y={...i},x=T=>{T.preventDefault();const A=S(T),k=A.x-v.x,R=A.y-v.y;let P={...y};if(g==="move")P.x=Math.min(Math.max(0,y.x+k),100-y.width),P.y=Math.min(Math.max(0,y.y+R),100-y.height);else{if(g.includes("w")){const M=Math.min(Math.max(0,y.x+k),y.x+y.width-5);P.width=y.width+(y.x-M),P.x=M}if(g.includes("e")&&(P.width=Math.min(Math.max(5,y.width+k),100-y.x)),g.includes("n")){const M=Math.min(Math.max(0,y.y+R),y.y+y.height-5);P.height=y.height+(y.y-M),P.y=M}g.includes("s")&&(P.height=Math.min(Math.max(5,y.height+R),100-y.y))}l(P)},w=()=>{document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",w),document.removeEventListener("touchmove",x),document.removeEventListener("touchend",w)};document.addEventListener("mousemove",x),document.addEventListener("mouseup",w),document.addEventListener("touchmove",x,{passive:!1}),document.addEventListener("touchend",w)},m=()=>{if(!o.naturalWidth)return;const p=document.createElement("canvas"),g=o.naturalWidth/100,E=o.naturalHeight/100,C=i.x*g,S=i.y*E,v=i.width*g,y=i.height*E;p.width=v,p.height=y;const x=p.getContext("2d");!x||!c.current||(x.drawImage(c.current,C,S,v,y,0,0,v,y),n(p.toDataURL(),v,y))};return h.jsxs("div",{className:"fixed inset-0 z-50 bg-black flex flex-col animate-in fade-in duration-200",children:[h.jsxs("div",{className:"h-14 flex items-center justify-between px-4 bg-workspace-800",children:[h.jsx("button",{onClick:t,className:"text-white text-sm font-medium active:scale-90 transition-transform",children:"Cancelar"}),h.jsx("span",{className:"text-white font-bold uppercase text-sm",children:"Recortar Imagem"}),h.jsxs("button",{onClick:m,className:"bg-brand-600 px-4 py-1.5 rounded-full text-white text-sm font-bold flex items-center gap-1 active:scale-95 transition-transform",children:[h.jsx(ou,{size:14})," Pronto"]})]}),h.jsx("div",{className:"flex-1 relative flex items-center justify-center p-8 bg-workspace-900 overflow-hidden touch-none",children:h.jsxs("div",{ref:u,className:"relative inline-block shadow-2xl",children:[h.jsx("img",{ref:c,src:e,onLoad:d,className:"max-w-full max-h-[70vh] object-contain pointer-events-none select-none block",alt:""}),o.width>0&&h.jsxs("div",{className:"absolute border-2 border-white cursor-move touch-none",style:{left:`${i.x}%`,top:`${i.y}%`,width:`${i.width}%`,height:`${i.height}%`,boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.6)"},onMouseDown:p=>f(p,"move"),onTouchStart:p=>f(p,"move"),children:[h.jsxs("div",{className:"absolute inset-0 flex flex-col pointer-events-none opacity-30",children:[h.jsx("div",{className:"flex-1 border-b border-white"}),h.jsx("div",{className:"flex-1 border-b border-white"}),h.jsx("div",{className:"flex-1"})]}),h.jsxs("div",{className:"absolute inset-0 flex pointer-events-none opacity-30",children:[h.jsx("div",{className:"flex-1 border-r border-white"}),h.jsx("div",{className:"flex-1 border-r border-white"}),h.jsx("div",{className:"flex-1"})]}),h.jsx("div",{className:"absolute -top-3 -left-3 w-6 h-6 border-t-4 border-l-4 border-white rounded-tl-sm cursor-nw-resize pointer-events-auto touch-none",onMouseDown:p=>f(p,"nw"),onTouchStart:p=>f(p,"nw")}),h.jsx("div",{className:"absolute -top-3 -right-3 w-6 h-6 border-t-4 border-r-4 border-white rounded-tr-sm cursor-ne-resize pointer-events-auto touch-none",onMouseDown:p=>f(p,"ne"),onTouchStart:p=>f(p,"ne")}),h.jsx("div",{className:"absolute -bottom-3 -left-3 w-6 h-6 border-b-4 border-l-4 border-white rounded-bl-sm cursor-sw-resize pointer-events-auto touch-none",onMouseDown:p=>f(p,"sw"),onTouchStart:p=>f(p,"sw")}),h.jsx("div",{className:"absolute -bottom-3 -right-3 w-6 h-6 border-b-4 border-r-4 border-white rounded-br-sm cursor-se-resize pointer-events-auto touch-none",onMouseDown:p=>f(p,"se"),onTouchStart:p=>f(p,"se")})]})]})})]})},k_=({imageUrl:e,initialMaskUrl:t,onCancel:n,onSave:o})=>{var fe,$e;const[r,i]=D.useState("erase"),[l,u]=D.useState(30),[c,d]=D.useState(80),[f,m]=D.useState(40),[p,g]=D.useState(!1),E=D.useRef(null),C=D.useRef(null),S=D.useRef(null),[v,y]=D.useState({x:window.innerWidth/2,y:window.innerHeight/2,scale:.85,rotation:0}),x=D.useRef(v),[w,T]=D.useState([]),[A,k]=D.useState(-1);D.useEffect(()=>{x.current=v},[v]);const R=()=>{const H=E.current;if(!H)return;const W=H.getContext("2d",{willReadFrequently:!0});if(!W)return;const O=W.getImageData(0,0,H.width,H.height);T(Z=>{const me=Z.slice(0,A+1);return me.push(O),me.length>30&&me.shift(),me}),k(Z=>Math.min(29,Z+1))},P=()=>{if(A>0){const H=E.current;if(!H)return;const W=H.getContext("2d");if(!W)return;const O=A-1;W.putImageData(w[O],0,0),k(O)}},M=()=>{if(A<w.length-1){const H=E.current;if(!H)return;const W=H.getContext("2d");if(!W)return;const O=A+1;W.putImageData(w[O],0,0),k(O)}},K=()=>{const H=E.current;if(!H||!C.current)return;const W=H.getContext("2d");W&&(W.clearRect(0,0,H.width,H.height),W.drawImage(C.current,0,0),R())};D.useEffect(()=>{const H=new Image;H.crossOrigin="Anonymous",H.src=e,H.onload=()=>{C.current=H;const W=E.current;if(!W)return;W.width=H.width,W.height=H.height;const O=W.getContext("2d",{willReadFrequently:!0});if(!O)return;if(O.drawImage(H,0,0),t){const ve=new Image;ve.crossOrigin="Anonymous",ve.src=t,ve.onload=()=>{O.globalCompositeOperation="destination-in",O.drawImage(ve,0,0,W.width,W.height),O.globalCompositeOperation="source-over",R()}}else R();const Z=(window.innerWidth-40)/H.width,me=(window.innerHeight-200)/H.height,ce=Math.min(Z,me,1);y({x:window.innerWidth/2,y:window.innerHeight/2-50,scale:ce,rotation:0})}},[e,t]),D.useEffect(()=>{const H=S.current;if(!H)return;let W=!1,O={...x.current},Z=0,me=0,ce={x:0,y:0},ve=!1;const we=ee=>{if(ee.preventDefault(),ee.ctrlKey){const ge=ee.deltaY>0?.9:1.1;y(Le=>({...Le,scale:Math.min(5,Math.max(.1,Le.scale*ge))}))}else y(ge=>({...ge,x:ge.x-ee.deltaX,y:ge.y-ee.deltaY}))},Re=ee=>{if(ee.touches.length===2)W=!0,ve=!1,O={...x.current},Z=Oi(ee.touches[0],ee.touches[1]),me=Wi(ee.touches[0],ee.touches[1]),ce=Ji(ee.touches[0],ee.touches[1]);else if(ee.touches.length===1&&!W){ve=!0;const{x:ge,y:Le}=oe(ee.touches[0].clientX,ee.touches[0].clientY);ne(ge,Le)}},Pe=ee=>{if(W&&ee.touches.length===2){ee.preventDefault(),ee.stopPropagation();const ge=Oi(ee.touches[0],ee.touches[1]),Le=Wi(ee.touches[0],ee.touches[1]),be=Ji(ee.touches[0],ee.touches[1]),Ve=ge/Z;let Qe=Le-me;Qe>180&&(Qe-=360),Qe<-180&&(Qe+=360);const $t=Math.min(10,Math.max(.1,O.scale*Ve)),Ue=be.x+(O.x-ce.x)*Ve,ut=be.y+(O.y-ce.y)*Ve;y({x:Ue,y:ut,scale:$t,rotation:O.rotation+Qe})}else if(ve&&ee.touches.length===1){ee.preventDefault();const{x:ge,y:Le}=oe(ee.touches[0].clientX,ee.touches[0].clientY);F(ge,Le)}},Me=ee=>{ee.touches.length<2&&(W=!1),ee.touches.length===0&&ve&&(ve=!1,R())};return H.addEventListener("wheel",we,{passive:!1}),H.addEventListener("touchstart",Re,{passive:!1}),H.addEventListener("touchmove",Pe,{passive:!1}),H.addEventListener("touchend",Me),()=>{H.removeEventListener("wheel",we),H.removeEventListener("touchstart",Re),H.removeEventListener("touchmove",Pe),H.removeEventListener("touchend",Me)}},[r,l,c,f,p,A,w]);const oe=(H,W)=>{if(!E.current)return{x:0,y:0};const O=H-x.current.x,Z=W-x.current.y,me=-x.current.rotation*(Math.PI/180),ce=Math.cos(me),ve=Math.sin(me),we=O*ce-Z*ve,Re=O*ve+Z*ce,Pe=we/x.current.scale,Me=Re/x.current.scale,ee=Pe+E.current.width/2,ge=Me+E.current.height/2;return{x:ee,y:ge}},X=(H,W)=>{const O=E.current;if(!O||!C.current)return;const Z=O.getContext("2d");Z&&(r==="erase"?(Z.globalCompositeOperation="destination-out",Z.beginPath(),Z.arc(H,W,l/2,0,Math.PI*2),c<100?(Z.shadowBlur=l/2*(1-c/100),Z.shadowColor="black"):(Z.shadowBlur=0,Z.filter="none"),Z.fill(),Z.shadowBlur=0):r==="restore"&&(Z.globalCompositeOperation="source-over",Z.save(),Z.beginPath(),Z.arc(H,W,l/2,0,Math.PI*2),c<100&&(Z.shadowBlur=l/2*(1-c/100),Z.shadowColor="black"),Z.clip(),Z.drawImage(C.current,0,0),Z.restore(),Z.shadowBlur=0))},ne=(H,W)=>{r==="erase"||r==="restore"?X(H,W):r==="wand"?(J(H,W),R()):r==="smart"&&(Q(H,W),R())},F=(H,W)=>{(r==="erase"||r==="restore")&&X(H,W)},B=H=>{const{x:W,y:O}=oe(H.clientX,H.clientY);ne(W,O)},re=H=>{if(H.buttons===1){const{x:W,y:O}=oe(H.clientX,H.clientY);F(W,O)}},b=()=>{(r==="erase"||r==="restore")&&R()},J=(H,W)=>{const O=E.current;if(!O)return;const Z=O.getContext("2d",{willReadFrequently:!0});if(!Z)return;const me=Z.getImageData(0,0,O.width,O.height),ce=me.data,ve=Math.floor(H),we=Math.floor(W);if(ve<0||ve>=O.width||we<0||we>=O.height)return;const Re=(we*O.width+ve)*4,Pe=ce[Re],Me=ce[Re+1],ee=ce[Re+2],ge=ce[Re+3];if(!p&&ge===0)return;const Le=f*2.55;for(let be=0;be<ce.length;be+=4){if(ce[be+3]===0&&!p)continue;const Ve=ce[be],Qe=ce[be+1],$t=ce[be+2];Math.abs(Ve-Pe)+Math.abs(Qe-Me)+Math.abs($t-ee)<Le&&(p?ce[be+3]=255:ce[be+3]=0)}Z.putImageData(me,0,0)},Q=(H,W)=>{const O=E.current;if(!O)return;const Z=O.getContext("2d",{willReadFrequently:!0});if(!Z)return;const me=O.width,ce=O.height,ve=Z.getImageData(0,0,me,ce),we=ve.data,Re=Math.floor(H),Pe=Math.floor(W);if(Re<0||Re>=me||Pe<0||Pe>=ce)return;const Me=[[Re,Pe]],ee=new Uint8Array(me*ce),ge=(Pe*me+Re)*4,Le=we[ge],be=we[ge+1],Ve=we[ge+2],Qe=we[ge+3],$t=f*2.55;if(!(!p&&Qe===0)){for(;Me.length;){const[Ue,ut]=Me.pop(),sn=ut*me+Ue;if(ee[sn])continue;ee[sn]=1;const Ie=sn*4,ys=we[Ie],vs=we[Ie+1],xs=we[Ie+2];Math.abs(ys-Le)+Math.abs(vs-be)+Math.abs(xs-Ve)>$t||(Ue>0&&Me.push([Ue-1,ut]),Ue<me-1&&Me.push([Ue+1,ut]),ut>0&&Me.push([Ue,ut-1]),ut<ce-1&&Me.push([Ue,ut+1]))}for(let Ue=0;Ue<me*ce;Ue++)p?ee[Ue]||(we[Ue*4+3]=0):ee[Ue]&&(we[Ue*4+3]=0);Z.putImageData(ve,0,0)}},V=()=>{E.current&&o(E.current.toDataURL())};return h.jsxs("div",{className:"fixed inset-0 z-50 bg-workspace-900 flex flex-col animate-in fade-in duration-200",children:[h.jsxs("div",{className:"h-14 flex items-center justify-between px-4 bg-workspace-800 border-b border-gray-700 z-10",children:[h.jsx("button",{onClick:n,className:"text-white text-xs font-bold uppercase hover:bg-white/10 px-3 py-1.5 rounded-lg active:scale-90 transition-transform",children:"Cancelar"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:P,disabled:A<=0,className:"p-2 hover:bg-white/10 rounded-full disabled:opacity-30 disabled:pointer-events-none text-white transition-all active:scale-90",children:h.jsx(su,{size:18})}),h.jsx("button",{onClick:M,disabled:A>=w.length-1,className:"p-2 hover:bg-white/10 rounded-full disabled:opacity-30 disabled:pointer-events-none text-white transition-all active:scale-90",children:h.jsx(Kh,{size:18})}),h.jsx("div",{className:"w-px h-6 bg-gray-700 mx-1"}),h.jsx("button",{onClick:K,className:"p-2 hover:bg-red-500/20 text-red-400 rounded-full transition-all active:scale-90",title:"Reiniciar",children:h.jsx(nv,{size:18})})]}),h.jsxs("button",{onClick:V,className:"bg-brand-600 px-4 py-1.5 rounded-full text-white text-xs font-bold flex items-center gap-1 active:scale-95 transition-transform shadow-lg shadow-brand-600/20",children:[h.jsx(ou,{size:14})," Salvar"]})]}),h.jsx("div",{ref:S,className:"flex-1 relative overflow-hidden cursor-crosshair touch-none checkerboard",onMouseDown:B,onMouseMove:re,onMouseUp:b,children:h.jsx("div",{style:{transform:`translate(${v.x}px, ${v.y}px) scale(${v.scale}) rotate(${v.rotation}deg)`,transformOrigin:"top left",position:"absolute",top:0,left:0},className:"origin-top-left",children:h.jsxs("div",{style:{position:"relative",width:((fe=C.current)==null?void 0:fe.width)||0,height:(($e=C.current)==null?void 0:$e.height)||0,transform:"translate(-50%, -50%)"},children:[h.jsx("img",{src:e,className:"absolute inset-0 opacity-20 pointer-events-none grayscale",alt:"Ghost"}),h.jsx("canvas",{ref:E,className:"absolute inset-0"})]})})}),h.jsxs("div",{className:"bg-workspace-800 border-t border-gray-700 p-4 safe-area-pb z-10",children:[h.jsxs("div",{className:"flex items-center justify-center gap-6 mb-4 overflow-x-auto custom-scrollbar pb-2",children:[(r==="erase"||r==="restore")&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex flex-col items-center gap-1 shrink-0",children:[h.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-tighter",children:"Tamanho"}),h.jsx("input",{type:"range",min:"5",max:"200",value:l,onChange:H=>u(Number(H.target.value)),className:"w-24 h-1.5 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-brand-500"})]}),h.jsxs("div",{className:"flex flex-col items-center gap-1 shrink-0",children:[h.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-tighter",children:"Dureza"}),h.jsx("input",{type:"range",min:"0",max:"100",value:c,onChange:H=>d(Number(H.target.value)),className:"w-24 h-1.5 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-brand-500"})]})]}),(r==="wand"||r==="smart")&&h.jsxs("div",{className:"flex flex-col items-center gap-1 shrink-0",children:[h.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-tighter",children:"Tolerncia"}),h.jsx("input",{type:"range",min:"0",max:"100",value:f,onChange:H=>m(Number(H.target.value)),className:"w-24 h-1.5 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-brand-500"})]})]}),h.jsxs("div",{className:"flex items-center justify-center gap-2 overflow-x-auto pb-2 custom-scrollbar",children:[h.jsx(Se,{icon:h.jsx(Oh,{size:20}),label:"Apagar",active:r==="erase",onClick:()=>i("erase")}),h.jsx(Se,{icon:h.jsx(Wy,{size:20}),label:"Restaurar",active:r==="restore",onClick:()=>i("restore")}),h.jsx("div",{className:"w-px h-8 bg-gray-700 mx-2"}),h.jsx(Se,{icon:h.jsx(Xh,{size:20}),label:"Varinha",active:r==="wand",onClick:()=>i("wand")}),h.jsx(Se,{icon:h.jsx(Jh,{size:20}),label:"Objeto",active:r==="smart",onClick:()=>i("smart")}),h.jsx("div",{className:"w-px h-8 bg-gray-700 mx-2"}),h.jsxs("button",{onClick:()=>g(!p),className:`flex flex-col items-center gap-1.5 p-2 rounded-xl transition-all border shrink-0 active:scale-95 ${p?"bg-green-600/20 border-green-500 text-green-400":"bg-red-600/20 border-red-500 text-red-400"}`,children:[h.jsx("div",{className:"p-1",children:h.jsx(di,{size:18})}),h.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tighter",children:p?"Manter":"Apagar"})]})]})]})]})},N_=({isOpen:e,onClose:t,onCreate:n})=>{const[o,r]=D.useState("Novo Projeto"),[i,l]=D.useState(1080),[u,c]=D.useState(1080);return e?h.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70 backdrop-blur-sm animate-in fade-in px-4",children:h.jsxs("div",{className:"bg-workspace-800 rounded-xl border border-gray-600 shadow-2xl w-full max-w-md p-6",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Criar Novo Projeto"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:"Nome do Projeto"}),h.jsx("input",{type:"text",value:o,onChange:d=>r(d.target.value),className:"w-full bg-workspace-900 border border-gray-600 rounded-lg p-3 text-white focus:border-brand-500 outline-none"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:"Largura (px)"}),h.jsx("input",{type:"number",value:i,onChange:d=>l(Number(d.target.value)),className:"w-full bg-workspace-900 border border-gray-600 rounded-lg p-3 text-white focus:border-brand-500 outline-none"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:"Altura (px)"}),h.jsx("input",{type:"number",value:u,onChange:d=>c(Number(d.target.value)),className:"w-full bg-workspace-900 border border-gray-600 rounded-lg p-3 text-white focus:border-brand-500 outline-none"})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[h.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-300 hover:text-white active:scale-95 transition-transform font-medium",children:"Cancelar"}),h.jsx("button",{onClick:()=>n(o,i,u),className:"px-6 py-2 bg-brand-600 hover:bg-brand-500 active:scale-95 transition-transform text-white rounded-lg font-bold shadow-lg",children:"Criar Projeto"})]})]})}):null},R_=({isOpen:e,initialName:t,onClose:n,onSave:o})=>{const[r,i]=D.useState(t);return D.useEffect(()=>{e&&i(t)},[e,t]),e?h.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center bg-black/70 backdrop-blur-sm animate-in fade-in px-4",children:h.jsxs("div",{className:"bg-workspace-800 rounded-xl border border-gray-600 shadow-2xl w-full max-w-md p-6",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Renomear Projeto"}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:"Novo Nome"}),h.jsx("input",{type:"text",value:r,onChange:l=>i(l.target.value),className:"w-full bg-workspace-900 border border-gray-600 rounded-lg p-3 text-white focus:border-brand-500 outline-none",autoFocus:!0})]}),h.jsxs("div",{className:"flex justify-end gap-3",children:[h.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-300 hover:text-white active:scale-95 transition-transform font-medium",children:"Cancelar"}),h.jsx("button",{onClick:()=>o(r),className:"px-6 py-2 bg-brand-600 hover:bg-brand-500 active:scale-95 transition-transform text-white rounded-lg font-bold shadow-lg",children:"Salvar"})]})]})}):null},P_=()=>{const[e,t]=D.useState(0),[n,o]=D.useState([]),[r,i]=D.useState(null),[l,u]=D.useState(null);D.useEffect(()=>{const p=[...[{title:"Bem-vindo ao Kanva",text:"Crie designs incrveis para suas redes sociais com facilidade.",icon:h.jsx(Wl,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-blue-600 to-purple-600"},{title:"Novas Fontes Disponveis",text:"Mais de 80 fontes para deixar seu texto com a cara do seu projeto.",icon:h.jsx(Ko,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-emerald-500 to-teal-700"},{title:"Remova Fundo com IA",text:"Use a ferramenta de varinha mgica para recortar fotos instantaneamente.",icon:h.jsx(Xh,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-pink-500 to-rose-600"},{title:"Dica Pro: Camadas",text:"Segure o dedo em uma camada para ver opes avanadas.",icon:h.jsx(Wh,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-amber-500 to-orange-600"},{title:"Resetar Visualizao",text:"Toque com dois dedos na tela para resetar o zoom e rotao.",icon:h.jsx(Jh,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-indigo-500 to-blue-600"},{title:"Organize seus Projetos",text:"Crie diferentes projetos para Stories, Posts ou Capas.",icon:h.jsx(jy,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-violet-600 to-fuchsia-600"},{title:"Contorno em Texto",text:"Adicione bordas coloridas aos seus textos para destacar.",icon:h.jsx(so,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-cyan-500 to-blue-500"},{title:"Formas Geomtricas",text:"Adicione estrelas, coraes e tringulos para decorar.",icon:h.jsx(Ol,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-red-500 to-orange-500"},{title:"Travar Camadas",text:"Bloqueie o fundo para no mover sem querer enquanto edita.",icon:h.jsx($l,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-slate-600 to-slate-800"},{title:"Histrico de Edio",text:"Errou? Use os botes de desfazer e refazer no topo.",icon:h.jsx(su,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-green-500 to-emerald-600"},{title:"Exportar em Alta",text:"Baixe seus designs em alta qualidade para postar.",icon:h.jsx(iu,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-rose-500 to-pink-600"},{title:"Opacidade Criativa",text:"Brinque com transparncia para criar marcas d'gua.",icon:h.jsx(ci,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-sky-500 to-indigo-500"},{title:"Gerao de Imagem IA",text:"Descreva o que voc imagina e a IA cria para voc.",icon:h.jsx(Wl,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-purple-500 to-pink-500"},{title:"Duplicar Elementos",text:"Segure em uma camada e escolha 'Duplicar' para copiar.",icon:h.jsx(ru,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-teal-500 to-cyan-600"},{title:"Recorte de Imagem",text:"Ajuste o enquadramento de suas fotos facilmente.",icon:h.jsx($h,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-orange-500 to-red-500"}]].sort(()=>.5-Math.random()).slice(0,10);o(p)},[]),D.useEffect(()=>{if(n.length===0)return;const m=setInterval(()=>{t(p=>(p+1)%n.length)},5e3);return()=>clearInterval(m)},[n.length,e]);const c=m=>{i(m.targetTouches[0].clientX)},d=m=>{u(m.targetTouches[0].clientX)},f=()=>{if(!r||!l)return;const m=r-l,p=50;m>p?t(g=>(g+1)%n.length):m<-p&&t(g=>(g-1+n.length)%n.length),i(null),u(null)};return n.length===0?null:h.jsxs("div",{className:"relative w-full h-32 md:h-40 rounded-2xl overflow-hidden mb-8 shadow-2xl group touch-pan-y",onTouchStart:c,onTouchMove:d,onTouchEnd:f,children:[h.jsx("div",{className:"flex h-full transition-transform duration-500 ease-out",style:{transform:`translateX(-${e*100}%)`},children:n.map((m,p)=>h.jsxs("div",{className:`min-w-full h-full ${m.bg} flex items-center px-6 md:px-10`,children:[h.jsx("div",{className:"mr-6 p-3 bg-white/20 rounded-full backdrop-blur-sm",children:m.icon}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg md:text-2xl font-bold text-white mb-1",children:m.title}),h.jsx("p",{className:"text-white/90 text-xs md:text-sm font-medium",children:m.text})]})]},p))}),h.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-2",children:n.map((m,p)=>h.jsx("button",{onClick:()=>t(p),className:`w-2 h-2 rounded-full transition-all ${p===e?"bg-white w-4":"bg-white/40"}`},p))})]})},M_=({onFinish:e})=>{const[t,n]=D.useState(0);return D.useEffect(()=>{const o=setTimeout(()=>n(1),300),r=setTimeout(()=>n(2),1e3),i=setTimeout(()=>e(),3e3);return()=>{clearTimeout(o),clearTimeout(r),clearTimeout(i)}},[e]),h.jsx("div",{className:"fixed inset-0 z-[100] bg-workspace-900 flex items-center justify-center",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:`w-24 h-24 bg-gradient-to-br from-brand-500 to-purple-600 rounded-3xl flex items-center justify-center shadow-2xl shadow-brand-500/40 relative z-10 transition-all duration-700 cubic-bezier(0.34, 1.56, 0.64, 1) ${t>=1?"scale-100 opacity-100 rotate-0":"scale-50 opacity-0 -rotate-45"}`,children:h.jsx("span",{className:"font-bold text-white text-6xl",children:"K"})}),h.jsx("div",{className:`overflow-hidden transition-all duration-1000 ease-out flex items-center ${t>=2?"max-w-[200px] opacity-100 translate-x-0":"max-w-0 opacity-0 -translate-x-10"}`,children:h.jsx("span",{className:"text-6xl font-bold text-white pl-2 tracking-tighter",children:"anva"})})]})})},D_=({onOpenProject:e})=>{var ne;const[t,n]=D.useState([]),[o,r]=D.useState(null),[i,l]=D.useState(null),[u,c]=D.useState(null),[d,f]=D.useState(!1),[m,p]=D.useState(!1),[g,E]=D.useState(null),[C,S]=D.useState("home"),v=D.useRef(null);D.useEffect(()=>{const F=B=>{B.preventDefault(),E(B)};return window.addEventListener("beforeinstallprompt",F),()=>window.removeEventListener("beforeinstallprompt",F)},[]);const y=async()=>{if(!g)return;g.prompt();const{outcome:F}=await g.userChoice;F==="accepted"&&E(null)},x=()=>{const F=localStorage.getItem("kanva_projects");if(F)try{n(JSON.parse(F).sort((B,re)=>re.lastModified-B.lastModified))}catch(B){console.error("Error loading projects",B)}};D.useEffect(()=>{x(),(async()=>{const B=localStorage.getItem("kanva_custom_fonts");if(B)try{const re=JSON.parse(B);for(const b of re){const J=new FontFace(b.name,`url(${b.data})`);try{await J.load(),document.fonts.add(J)}catch{}}p(!0)}catch{}})()},[]);const w=F=>{localStorage.setItem("kanva_projects",JSON.stringify(F)),n(F)},T=(F,B,re)=>{const b=B>0?B:1080,J=re>0?re:1080,Q={id:Date.now().toString(),name:F||"Projeto Sem Ttulo",width:b,height:J,lastModified:Date.now(),elements:[{id:"background-layer",type:z.SHAPE_RECT,x:0,y:0,width:b,height:J,rotation:0,locked:!0,visible:!0,style:{backgroundColor:"#ffffff",borderWidth:0,borderColor:"transparent",borderRadius:0}}]},V=[Q,...t];w(V),f(!1),e(Q)},A=F=>{const B=t.filter(re=>re.id!==F);w(B),l(null),r(null)},k=F=>{const B=t.find(J=>J.id===F);if(!B)return;const b=[{...JSON.parse(JSON.stringify(B)),id:Date.now().toString(),name:`${B.name} (Cpia)`,lastModified:Date.now()},...t];w(b),r(null)},R=F=>{if(!u)return;const B=t.map(re=>re.id===u?{...re,name:F||re.name,lastModified:Date.now()}:re);w(B),c(null),r(null)},P=F=>{v.current=setTimeout(()=>{r(F)},600)},M=()=>{v.current&&(clearTimeout(v.current),v.current=null)},K=(F,B)=>{F.preventDefault(),r(B)},oe=F=>{const B=F.width||$i,re=F.height||$i,Q=Math.min(180/B,240/re)*.85;return h.jsx("div",{style:{width:B,height:re,transform:`translate(-50%, -50%) scale(${Q})`,transformOrigin:"center center",position:"absolute",left:"50%",top:"50%",backgroundColor:"#fff",overflow:"hidden",boxShadow:"0 0 20px rgba(0,0,0,0.1)"},children:F.elements.map(V=>{var O;const fe=V.type===z.TEXT,$e=V.type===z.IMAGE,H=!fe&&!$e,W=V.type===z.SHAPE_RECT||V.type===z.SHAPE_CIRCLE;return h.jsxs("div",{style:{position:"absolute",left:V.x,top:V.y,width:V.width,height:V.height,transform:`rotate(${V.rotation}deg)`,opacity:V.style.opacity,zIndex:V.id==="background-layer"?0:1,backgroundColor:W?V.style.backgroundColor:"transparent",borderRadius:V.type===z.SHAPE_CIRCLE?"50%":V.style.borderRadius,borderWidth:W?V.style.borderWidth:0,borderColor:W?V.style.borderColor:"transparent",borderStyle:W&&V.style.borderWidth?"solid":"none",display:"flex",alignItems:"center",justifyContent:V.style.textAlign==="left"?"flex-start":V.style.textAlign==="right"?"flex-end":"center"},children:[fe&&h.jsx("div",{style:{fontSize:V.style.fontSize,color:V.style.color,fontFamily:(O=V.style.fontFamily)==null?void 0:O.replace(/\+/g," "),fontWeight:V.style.fontWeight,textAlign:V.style.textAlign||"center",width:"100%",whiteSpace:"pre-wrap",lineHeight:1.2},children:V.content}),$e&&h.jsx("div",{style:{width:"100%",height:"100%",borderRadius:`${V.style.borderRadius}px`,overflow:"hidden"},children:h.jsx("img",{src:V.content,className:"w-full h-full object-cover"})}),!W&&H&&h.jsxs("svg",{viewBox:V.type===z.SHAPE_HEART?"0 0 24 24":"0 0 100 100",preserveAspectRatio:"none",style:{width:"100%",height:"100%",overflow:"visible"},children:[V.type===z.SHAPE_TRIANGLE&&h.jsx("polygon",{points:"50,0 0,100 100,100",fill:V.style.backgroundColor,stroke:V.style.borderColor,strokeWidth:V.style.borderWidth?V.style.borderWidth/2:0}),V.type===z.SHAPE_DIAMOND&&h.jsx("polygon",{points:"50,0 100,50 50,100 0,50",fill:V.style.backgroundColor,stroke:V.style.borderColor,strokeWidth:V.style.borderWidth?V.style.borderWidth/2:0}),V.type===z.SHAPE_STAR&&h.jsx("polygon",{points:"50,0 61,35 98,35 68,57 79,91 50,70 21,91 32,57 2,35 39,35",fill:V.style.backgroundColor,stroke:V.style.borderColor,strokeWidth:V.style.borderWidth?V.style.borderWidth/2:0}),V.type===z.SHAPE_HEART&&h.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z",fill:V.style.backgroundColor,stroke:V.style.borderColor,strokeWidth:V.style.borderWidth?V.style.borderWidth/2:0})]})]},V.id)})},m?"loaded":"loading")},X=()=>{switch(C){case"home":return h.jsxs("div",{className:"p-4 md:p-8 space-y-6 pb-24",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-brand-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg shadow-brand-500/20",children:h.jsx("span",{className:"font-bold text-white text-xl",children:"K"})}),h.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Kanva"})]}),h.jsx(P_,{}),h.jsxs("div",{children:[h.jsxs("h2",{className:"text-lg font-bold mb-4 text-gray-200 flex items-center gap-2",children:[h.jsx(Bc,{size:20})," Recentes"]}),h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:t.slice(0,4).map(F=>h.jsxs("div",{onClick:()=>e(F),onContextMenu:B=>K(B,F.id),onPointerDown:()=>P(F.id),onPointerUp:M,onPointerLeave:M,className:"aspect-[3/4] bg-workspace-800 rounded-2xl overflow-hidden border border-gray-700 relative cursor-pointer shadow-lg active:scale-95 transition-all select-none touch-none",children:[h.jsx("div",{className:"absolute inset-0 bg-white/5 checkerboard flex items-center justify-center overflow-hidden",children:h.jsx("div",{className:"relative w-full h-full overflow-hidden",children:oe(F)})}),h.jsxs("div",{className:"absolute bottom-0 inset-x-0 p-3 bg-gradient-to-t from-black/90 to-transparent pt-8",children:[h.jsx("h3",{className:"text-xs font-bold text-white truncate",children:F.name}),h.jsx("p",{className:"text-[9px] text-gray-400 mt-0.5",children:Rf(F.lastModified)})]}),o===F.id&&h.jsx(Pf,{id:F.id,onRename:()=>c(F.id),onDuplicate:()=>k(F.id),onDelete:()=>l(F.id),onClose:()=>r(null)})]},F.id))})]})]});case"projects":return h.jsxs("div",{className:"p-4 md:p-8 pt-6 pb-24",children:[h.jsxs("h2",{className:"text-xl font-bold mb-4 text-white flex items-center gap-2",children:[h.jsx(Oc,{size:24})," Todos os Projetos"]}),h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:t.map(F=>h.jsxs("div",{onContextMenu:B=>K(B,F.id),onPointerDown:()=>P(F.id),onPointerUp:M,onPointerLeave:M,className:"relative aspect-[3/4] group bg-workspace-800 rounded-2xl overflow-hidden border border-gray-700 hover:border-gray-500 active:scale-95 transition-all shadow-lg flex flex-col select-none touch-none",children:[h.jsx("div",{onClick:()=>e(F),className:"flex-1 bg-white/5 cursor-pointer relative overflow-hidden checkerboard flex items-center justify-center",children:h.jsx("div",{className:"relative w-full h-full overflow-hidden",children:oe(F)})}),h.jsxs("div",{className:"p-3 bg-workspace-800 border-t border-gray-700 flex items-center justify-between",children:[h.jsxs("div",{className:"flex-1 min-w-0 mr-2",children:[h.jsx("h3",{className:"font-bold text-sm text-white truncate",children:F.name}),h.jsxs("p",{className:"text-[10px] text-gray-500 flex items-center gap-1",children:[h.jsx(Bc,{size:10})," ",Rf(F.lastModified)]})]}),h.jsx("button",{onClick:B=>{B.stopPropagation(),r(F.id)},className:"p-1 text-gray-500 hover:text-white active:scale-90 transition-transform",children:h.jsx(tv,{size:16})})]}),o===F.id&&h.jsx(Pf,{id:F.id,onRename:()=>c(F.id),onDuplicate:()=>k(F.id),onDelete:()=>l(F.id),onClose:()=>r(null)})]},F.id))})]});case"templates":return h.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 p-8 text-center pb-20",children:[h.jsx(Wc,{size:64,className:"mb-4 text-gray-600 animate-pulse"}),h.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Templates"}),h.jsx("p",{className:"text-sm",children:"Em breve voc encontrar modelos incrveis aqui para comear seus designs."})]});case"settings":return h.jsxs("div",{className:"p-6 md:p-8 pt-6 pb-24",children:[h.jsxs("h2",{className:"text-xl font-bold mb-6 text-white flex items-center gap-2",children:[h.jsx(Yc,{size:24})," Configuraes"]}),h.jsxs("div",{className:"bg-workspace-800 rounded-xl border border-gray-700 overflow-hidden shadow-2xl",children:[h.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center gap-4",children:[h.jsx("div",{className:"w-12 h-12 bg-brand-600 rounded-full flex items-center justify-center text-white font-bold text-xl shadow-inner",children:"K"}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-white",children:"Kanva Editor"}),h.jsx("p",{className:"text-xs text-gray-400",children:"Verso 1.0.0 (Beta)"})]})]}),h.jsxs("div",{className:"p-4 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase block mb-1",children:"Desenvolvedor"}),h.jsx("p",{className:"text-white",children:"Erik Henrique"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase block mb-1",children:"Status"}),h.jsx("span",{className:"text-xs bg-brand-900 text-brand-300 px-2 py-1 rounded-full font-bold",children:"Verso de Testes"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase block mb-1",children:"Redes Sociais"}),h.jsx("a",{href:"https://instagram.com/erikhenriquesm",target:"_blank",rel:"noopener noreferrer",className:"text-brand-500 font-bold hover:underline",children:"@erikhenriquesm"})]}),g&&h.jsx("div",{className:"pt-4 border-t border-gray-700",children:h.jsxs("button",{onClick:y,className:"w-full py-3 bg-brand-600 hover:bg-brand-500 active:scale-95 rounded-lg text-white font-bold text-sm flex items-center justify-center gap-2 transition-all shadow-lg",children:[h.jsx(iu,{size:18})," Instalar Aplicativo"]})})]})]})]});default:return null}};return h.jsxs("div",{className:"fixed inset-0 w-full h-full bg-workspace-900 text-white font-sans flex flex-col overflow-hidden",children:[h.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-workspace-900 relative",children:X()}),h.jsxs("div",{className:"shrink-0 h-16 bg-workspace-800 border-t border-gray-700 flex items-center justify-between px-2 md:px-6 relative z-[90] safe-area-pb",children:[h.jsxs("button",{onClick:()=>S("home"),className:`flex-1 flex flex-col items-center justify-center gap-1 h-full transition-all duration-300 active:scale-90 ${C==="home"?"text-brand-500 scale-110":"text-gray-400 hover:text-white"}`,children:[h.jsx(Zy,{size:20}),h.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tighter",children:"Incio"})]}),h.jsxs("button",{onClick:()=>S("projects"),className:`flex-1 flex-1 flex flex-col items-center justify-center gap-1 h-full transition-all duration-300 active:scale-90 ${C==="projects"?"text-brand-500 scale-110":"text-gray-400 hover:text-white"}`,children:[h.jsx(Oc,{size:20}),h.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tighter",children:"Projetos"})]}),h.jsx("div",{className:"relative -top-6",children:h.jsx("button",{onClick:()=>f(!0),className:"w-14 h-14 rounded-full bg-gradient-to-br from-brand-500 to-brand-600 text-white shadow-xl shadow-brand-500/40 flex items-center justify-center transform transition-all duration-300 hover:scale-110 active:scale-90 active:rotate-45 border-4 border-workspace-900 group",children:h.jsx(Yh,{size:28,className:"group-hover:rotate-90 transition-transform duration-300"})})}),h.jsxs("button",{onClick:()=>S("templates"),className:`flex-1 flex flex-col items-center justify-center gap-1 h-full transition-all duration-300 active:scale-90 ${C==="templates"?"text-brand-500 scale-110":"text-gray-400 hover:text-white"}`,children:[h.jsx(Wc,{size:20}),h.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tighter",children:"Modelos"})]}),h.jsxs("button",{onClick:()=>S("settings"),className:`flex-1 flex flex-col items-center justify-center gap-1 h-full transition-all duration-300 active:scale-90 ${C==="settings"?"text-brand-500 scale-110":"text-gray-400 hover:text-white"}`,children:[h.jsx(Yc,{size:20}),h.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tighter",children:"Ajustes"})]})]}),h.jsx(N_,{isOpen:d,onClose:()=>f(!1),onCreate:T}),h.jsx(R_,{isOpen:!!u,initialName:((ne=t.find(F=>F.id===u))==null?void 0:ne.name)||"",onClose:()=>c(null),onSave:R}),h.jsx(qm,{isOpen:!!i,title:"Excluir Projeto?",message:"Tem certeza que deseja excluir este projeto permanentemente? Esta ao no pode ser desfeita.",onConfirm:()=>A(i),onCancel:()=>l(null)})]})},Pf=({id:e,onRename:t,onDuplicate:n,onDelete:o,onClose:r})=>h.jsx("div",{className:"absolute inset-0 z-50 bg-black/60 backdrop-blur-sm animate-in fade-in flex flex-col items-center justify-center p-4",children:h.jsxs("div",{className:"bg-workspace-800 border border-gray-600 rounded-xl shadow-2xl w-full max-w-[160px] overflow-hidden animate-in zoom-in-95 duration-200",children:[h.jsxs("button",{onClick:i=>{i.stopPropagation(),t()},className:"w-full flex items-center gap-3 p-3 text-sm text-white hover:bg-white/10 active:bg-white/20 transition-all border-b border-gray-700",children:[h.jsx(so,{size:16,className:"text-brand-400"})," Renomear"]}),h.jsxs("button",{onClick:i=>{i.stopPropagation(),n()},className:"w-full flex items-center gap-3 p-3 text-sm text-white hover:bg-white/10 active:bg-white/20 transition-all border-b border-gray-700",children:[h.jsx(ru,{size:16,className:"text-emerald-400"})," Duplicar"]}),h.jsxs("button",{onClick:i=>{i.stopPropagation(),o()},className:"w-full flex items-center gap-3 p-3 text-sm text-red-400 hover:bg-red-500/10 active:bg-red-500/20 transition-all",children:[h.jsx(Jl,{size:16})," Excluir"]}),h.jsx("button",{onClick:i=>{i.stopPropagation(),r()},className:"w-full p-2 text-[10px] uppercase font-bold text-gray-500 bg-gray-900/50 hover:text-white active:scale-95 transition-all",children:"Fechar"})]})}),L_=({project:e,onBack:t})=>{var Su,Tu,_u,Iu,Au,ku,Nu;const n=e.width||$i,o=e.height||$i,r={id:"background-layer",type:z.SHAPE_RECT,x:0,y:0,width:n,height:o,rotation:0,locked:!0,visible:!0,style:{backgroundColor:"#ffffff",borderWidth:0,borderColor:"transparent",borderRadius:0}},[i,l]=D.useState(e.elements&&e.elements.length>0?e.elements:[r]),[u,c]=D.useState(null),[d,f]=D.useState(null),[m,p]=D.useState(null),[g,E]=D.useState(null),[C,S]=D.useState([]),[v,y]=D.useState(!1),[x,w]=D.useState([]),[T,A]=D.useState(!1),[k,R]=D.useState(null),[P,M]=D.useState([]),[K,oe]=D.useState(-1),X=D.useRef(!1),[ne,F]=D.useState({x:0,y:0,scale:1,rotation:0}),B=D.useRef(ne),re=D.useRef(null),b=D.useRef(null),[J,Q]=D.useState(!1),[V,fe]=D.useState(!1),[$e,H]=D.useState(""),[W,O]=D.useState(""),[Z,me]=D.useState(!1),[ce,ve]=D.useState(!1),[we,Re]=D.useState({isOpen:!1,elementId:null}),[Pe,Me]=D.useState(null),[ee,ge]=D.useState(null),[Le,be]=D.useState(!1),Ve=D.useRef(null),Qe=D.useRef({x:0,y:0}),$t=D.useRef(0),Ue=D.useRef(null),ut=D.useRef(null),sn=D.useRef(null);D.useEffect(()=>{(async()=>{const Y=localStorage.getItem("kanva_custom_fonts");if(Y)try{const $=JSON.parse(Y),N=[];for(const le of $){const ae=new FontFace(le.name,`url(${le.data})`);try{await ae.load(),document.fonts.add(ae),N.push(le.name)}catch(ie){console.error(`Failed to load saved font: ${le.name}`,ie)}}S(N)}catch($){console.error("Error parsing saved fonts",$)}})();const I=localStorage.getItem("kanva_saved_colors");if(I)try{w(JSON.parse(I))}catch{}},[]),D.useEffect(()=>{(()=>{const I=localStorage.getItem("kanva_projects");if(I){const Y=JSON.parse(I),$=Y.findIndex(N=>N.id===e.id);$!==-1&&(Y[$]={...Y[$],elements:i,lastModified:Date.now()},localStorage.setItem("kanva_projects",JSON.stringify(Y)))}})()},[i,e.id]),D.useEffect(()=>{B.current=ne},[ne]),D.useEffect(()=>{const _=()=>{const I=window.innerWidth,Y=window.innerHeight-80,$=Math.min(I/(n+100),Y/(o+100));F({x:window.innerWidth/2,y:(window.innerHeight-80)/2,scale:$,rotation:0})};return _(),window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)},[n,o]),D.useEffect(()=>{const _=I=>{if(ce&&Ue.current&&!Ue.current.contains(I.target)){const Y=document.getElementById("layer-context-menu");if(Y&&Y.contains(I.target))return;ve(!1)}};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[ce]);const Ie=D.useCallback(_=>{if(X.current)return;const I=P.slice(0,K+1);I.push(JSON.parse(JSON.stringify(_))),I.length>20&&I.shift(),M(I),oe(I.length-1)},[P,K]);D.useEffect(()=>{P.length===0&&(M([[...i]]),oe(0))},[]),D.useEffect(()=>{f(null)},[u]);const ys=()=>{if(K>0){X.current=!0;const _=P[K-1];l(JSON.parse(JSON.stringify(_))),oe(K-1),setTimeout(()=>{X.current=!1},0)}},vs=()=>{if(K<P.length-1){X.current=!0;const _=P[K+1];l(JSON.parse(JSON.stringify(_))),oe(K+1),setTimeout(()=>{X.current=!1},0)}},xs=async()=>{be(!0);try{const _=document.createElement("canvas");_.width=n,_.height=o;const I=_.getContext("2d");if(!I)return;const Y=N=>new Promise((le,ae)=>{const ie=new Image;ie.crossOrigin="Anonymous",ie.src=N,ie.onload=()=>le(ie),ie.onerror=ae});for(const N of i)if(N.visible!==!1){if(I.save(),I.translate(N.x+N.width/2,N.y+N.height/2),I.rotate(N.rotation*Math.PI/180),I.translate(-N.width/2,-N.height/2),I.globalAlpha=N.style.opacity??1,N.type===z.TEXT){if(I.fillStyle=N.style.color||"#000000",I.font=`${N.style.fontSize}px ${N.style.fontFamily||"Arial"}`,I.textAlign=N.style.textAlign||"center",I.textBaseline="middle",N.style.textStrokeWidth&&N.style.textStrokeColor){I.strokeStyle=N.style.textStrokeColor,I.lineWidth=N.style.textStrokeWidth;const ae=N.style.textAlign==="left"?0:N.style.textAlign==="right"?N.width:N.width/2;I.strokeText(N.content||"",ae,N.height/2)}const le=N.style.textAlign==="left"?0:N.style.textAlign==="right"?N.width:N.width/2;I.fillText(N.content||"",le,N.height/2)}else if(N.type===z.IMAGE)try{const le=await Y(N.content||"");if(N.maskEnabled&&N.maskImage){const ae=await Y(N.maskImage),ie=document.createElement("canvas");ie.width=N.width,ie.height=N.height;const U=ie.getContext("2d");U&&(U.drawImage(le,0,0,N.width,N.height),U.globalCompositeOperation="destination-in",U.drawImage(ae,0,0,N.width,N.height),I.drawImage(ie,0,0))}else I.drawImage(le,0,0,N.width,N.height)}catch(le){console.error("Failed to load image for export",le)}else if(I.fillStyle=N.style.backgroundColor||"transparent",I.strokeStyle=N.style.borderColor||"transparent",I.lineWidth=N.style.borderWidth||0,N.type===z.SHAPE_RECT)I.fillRect(0,0,N.width,N.height),I.lineWidth>0&&I.strokeRect(0,0,N.width,N.height);else if(N.type===z.SHAPE_CIRCLE)I.beginPath(),I.arc(N.width/2,N.height/2,Math.min(N.width,N.height)/2,0,Math.PI*2),I.fill(),I.lineWidth>0&&I.stroke();else if(N.type===z.SHAPE_TRIANGLE)I.beginPath(),I.moveTo(N.width/2,0),I.lineTo(0,N.height),I.lineTo(N.width,N.height),I.closePath(),I.fill(),I.lineWidth>0&&I.stroke();else if(N.type===z.SHAPE_DIAMOND)I.beginPath(),I.moveTo(N.width/2,0),I.lineTo(N.width,N.height/2),I.lineTo(N.width/2,N.height),I.lineTo(0,N.height/2),I.closePath(),I.fill(),I.lineWidth>0&&I.stroke();else if(N.type===z.SHAPE_STAR){I.beginPath();for(let le=0;le<10;le++){const ae=Math.PI/5*le-Math.PI/2,ie=le%2===0?N.width/2:N.width/4;I.lineTo(N.width/2+Math.cos(ae)*ie,N.height/2+Math.sin(ae)*ie)}I.closePath(),I.fill(),I.lineWidth>0&&I.stroke()}else if(N.type===z.SHAPE_HEART){const ie=N.width,U=N.height;I.beginPath(),I.moveTo(0+ie/2,0+U*.2),I.bezierCurveTo(0+ie/2,0,0,0,0,0+U*.35),I.bezierCurveTo(0,0+U*.7,0+ie/2,0+U,0+ie/2,0+U),I.bezierCurveTo(0+ie/2,0+U,0+ie,0+U*.7,0+ie,0+U*.35),I.bezierCurveTo(0+ie,0,0+ie/2,0,0+ie/2,0+U*.2),I.fill(),I.lineWidth>0&&I.stroke()}I.restore()}const $=document.createElement("a");$.download=`${e.name||"design"}.png`,$.href=_.toDataURL("image/png"),$.click()}catch(_){console.error("Export failed",_),alert("Falha ao exportar imagem.")}finally{be(!1)}},Po=(_,I,Y,$)=>{const N=Date.now().toString(),le=400,ae=400;let ie=le,U=ae;if(Y&&$){const Ge=le/Y;ie=le,U=$*Ge}const xe={id:N,type:_,x:n/2-ie/2,y:o/2-U/2,width:ie,height:U,rotation:0,visible:!0,content:I||(_===z.TEXT?"Kanva":""),style:{backgroundColor:_===z.TEXT||_===z.IMAGE?"transparent":"#0ea5e9",color:_===z.TEXT?"#000000":"#ffffff",fontSize:48,borderRadius:0,borderColor:_===z.TEXT?"transparent":"#ffffff",borderWidth:0,fontFamily:"Roboto",textAlign:"center",objectFit:"contain"}},pe=[...i,xe];l(pe),c(N),Ie(pe)},He=(_,I)=>{const Y=i.map($=>$.id===_?{...$,...I,style:{...$.style,...I.style}}:$);return l(Y),Y},Om=_=>{const I=i.find(le=>le.id===_);if(!I)return;const Y=Date.now().toString(),$={...I,id:Y,x:I.x+40,y:I.y+40},N=[...i,$];l(N),c(Y),Ie(N),E(null)},Ot=()=>{Ie(i)},yu=()=>{u&&Re({isOpen:!0,elementId:u})},Wm=_=>{Re({isOpen:!0,elementId:_}),E(null)},Jm=()=>{if(we.elementId){const _=i.filter(I=>I.id!==we.elementId);l(_),c(null),Ie(_)}Re({isOpen:!1,elementId:null})},vu=(_,I)=>{I&&I.stopPropagation();const Y=i.find($=>$.id===_);if(Y){const $=He(_,{locked:!Y.locked});!Y.locked&&u===_&&c(null),Ie($),g===_&&E(null)}},xu=(_,I)=>{I&&I.stopPropagation();const Y=i.find($=>$.id===_);if(Y){const $=He(_,{visible:!(Y.visible??!0)});Ie($),g===_&&E(null)}},Ym=(_,I)=>{I.preventDefault(),I.stopPropagation(),I.button===0&&(p(_),I.target.setPointerCapture(I.pointerId))},Km=_=>{if(!m)return;_.preventDefault();const I=document.elementFromPoint(_.clientX,_.clientY),Y=I==null?void 0:I.closest("[data-layer-id]");if(Y){const $=Y.getAttribute("data-layer-id");$&&$!==m&&l(N=>{const le=N.findIndex(xe=>xe.id===m),ae=N.findIndex(xe=>xe.id===$);if(le===-1||ae===-1)return N;const ie=[...N],[U]=ie.splice(le,1);return ie.splice(ae,0,U),ie})}},Es=_=>{if(m){_.preventDefault(),p(null),Ie(i);try{_.target.releasePointerCapture(_.pointerId)}catch{}}},Xm=(_,I)=>{I.target.closest(".drag-handle")||I.target.closest("button")||(Qe.current={x:I.clientX,y:I.clientY},Ve.current=setTimeout(()=>{E(_)},500))},Eu=()=>{Ve.current&&(clearTimeout(Ve.current),Ve.current=null)},Qm=_=>{if(Ve.current){const I=Math.abs(_.clientX-Qe.current.x),Y=Math.abs(_.clientY-Qe.current.y);(I>10||Y>10)&&(clearTimeout(Ve.current),Ve.current=null)}},Zm=async _=>{var N;const I=(N=_.target.files)==null?void 0:N[0];if(!I)return;const Y=I.name.replace(/\.[^/.]+$/,"").replace(/[^a-zA-Z0-9]/g,""),$=new FileReader;$.onload=async le=>{var U;const ae=(U=le.target)==null?void 0:U.result;if(!ae)return;const ie=new FontFace(Y,`url(${ae})`);try{await ie.load(),document.fonts.add(ie),C.includes(Y)||S(Ge=>[Y,...Ge]);const xe=localStorage.getItem("kanva_custom_fonts"),pe=xe?JSON.parse(xe):[];if(!pe.some(Ge=>Ge.name===Y)){const Ge=[...pe,{name:Y,data:ae}];localStorage.setItem("kanva_custom_fonts",JSON.stringify(Ge))}if(u){const Ge=He(u,{style:{fontFamily:Y}});Ie(Ge)}}catch(xe){console.error("Failed to load font",xe),alert("Erro ao carregar a fonte. Verifique se o arquivo  vlido (.ttf, .otf, .woff).")}},$.readAsDataURL(I),sn.current&&(sn.current.value="")};D.useEffect(()=>{const _=re.current;if(!_)return;let I=!1,Y=0,$=0,N={x:0,y:0},le={...B.current};const ae=pe=>{if(pe.preventDefault(),pe.ctrlKey){const Ge=pe.deltaY>0?.9:1.1;F(On=>({...On,scale:Math.min(5,Math.max(.1,On.scale*Ge))}))}else F(Ge=>({...Ge,x:Ge.x-pe.deltaX,y:Ge.y-pe.deltaY}))},ie=pe=>{if(pe.touches.length===2){const Ge=Date.now();if(Ge-$t.current<300){const On=window.innerWidth,kr=window.innerHeight-80,Mo=Math.min(On/(n+100),kr/(o+100));F({x:window.innerWidth/2,y:(window.innerHeight-80)/2,scale:Mo,rotation:0}),$t.current=0;return}else $t.current=Ge;I=!0,le={...B.current},Y=Oi(pe.touches[0],pe.touches[1]),$=Wi(pe.touches[0],pe.touches[1]),N=Ji(pe.touches[0],pe.touches[1])}},U=pe=>{if(I&&pe.touches.length===2){pe.preventDefault();const Ge=Oi(pe.touches[0],pe.touches[1]),On=Wi(pe.touches[0],pe.touches[1]),kr=Ji(pe.touches[0],pe.touches[1]),Mo=Ge/Y;let Do=On-$;Do>180&&(Do-=360),Do<-180&&(Do+=360);let ws=le.rotation+Do;const Ru=(Nr=>{let Lo=Nr%360;return Lo<0&&(Lo+=360),Lo})(ws);[0,90,180,270,360].forEach(Nr=>{if(Math.abs(Ru-Nr)<5){const Lo=Nr-Ru;ws+=Lo}});const ag=Math.min(5,Math.max(.1,le.scale*Mo)),ug=kr.x+(le.x-N.x)*Mo,cg=kr.y+(le.y-N.y)*Mo;F({x:ug,y:cg,scale:ag,rotation:ws})}},xe=pe=>{pe.touches.length<2&&(I=!1)};return _.addEventListener("wheel",ae,{passive:!1}),_.addEventListener("touchstart",ie,{passive:!1}),_.addEventListener("touchmove",U,{passive:!1}),_.addEventListener("touchend",xe),()=>{_.removeEventListener("wheel",ae),_.removeEventListener("touchstart",ie),_.removeEventListener("touchmove",U),_.removeEventListener("touchend",xe)}},[n,o]);const jm=async()=>{me(!0);try{const _=await S_(W),I=new Image;I.src=_,I.onload=()=>{Po(z.IMAGE,_,I.naturalWidth,I.naturalHeight)},Q(!1),O("")}catch{alert("Falha ao gerar imagem.")}finally{me(!1)}},eg=_=>{var Y;const I=(Y=_.target.files)==null?void 0:Y[0];if(I){const $=new FileReader;$.onload=N=>{var ie;const le=(ie=N.target)==null?void 0:ie.result,ae=new Image;ae.src=le,ae.onload=()=>{Po(z.IMAGE,le,ae.naturalWidth,ae.naturalHeight)}},$.readAsDataURL(I)}ut.current&&(ut.current.value="")},tg=(_,I,Y)=>{if(Pe){const $=i.find(N=>N.id===Pe);if($){const N=I/Y,le=$.width/N,ae=He(Pe,{content:_,height:le,width:$.width});Ie(ae)}Me(null)}},ng=_=>{if(ee){const I=He(ee,{maskImage:_,maskEnabled:!0});Ie(I),ge(null)}},og=()=>{const _=new Set;return i.forEach(I=>{I.style.color&&I.style.color!=="transparent"&&_.add(I.style.color.toLowerCase()),I.style.backgroundColor&&I.style.backgroundColor!=="transparent"&&_.add(I.style.backgroundColor.toLowerCase()),I.style.borderColor&&I.style.borderColor!=="transparent"&&_.add(I.style.borderColor.toLowerCase()),I.style.textStrokeColor&&I.style.textStrokeColor!=="transparent"&&_.add(I.style.textStrokeColor.toLowerCase())}),Array.from(_)},wu=_=>{if(!x.includes(_.toLowerCase())){const I=[_.toLowerCase(),...x];w(I),localStorage.setItem("kanva_saved_colors",JSON.stringify(I))}},rg=_=>{const I=x.filter(Y=>Y!==_.toLowerCase());w(I),localStorage.setItem("kanva_saved_colors",JSON.stringify(I))},ig=async()=>{if(!window.EyeDropper){alert("Seu navegador no suporta a ferramenta de conta-gotas.");return}A(!0),setTimeout(async()=>{try{const I=await new window.EyeDropper().open();R(I.sRGBHex)}catch{A(!1)}},100)},te=i.find(_=>_.id===u),sg=()=>{if(!te||!d)return null;const _="absolute bottom-[74px] left-2 right-2 bg-workspace-800/90 backdrop-blur-xl border border-gray-600/50 rounded-2xl p-4 shadow-2xl animate-in slide-in-from-bottom-5 z-30 max-h-[65vh] overflow-y-auto custom-scrollbar select-none";switch(d){case"font":return h.jsxs("div",{className:_,children:[h.jsx("input",{type:"file",ref:sn,className:"hidden",accept:".ttf,.otf,.woff,.woff2",onChange:Zm}),h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("h4",{className:"text-white text-xs font-bold uppercase sticky left-0 tracking-widest opacity-60",children:"Fontes"}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsx("button",{onClick:()=>y(!v),className:`text-[10px] px-2 py-1 rounded-full font-bold border active:scale-95 transition-all ${v?"bg-brand-500 border-brand-500 text-white":"bg-transparent border-gray-500 text-gray-400"}`,children:v?"Minhas":"Todas"})})]}),h.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 custom-scrollbar px-1 snap-x",children:[h.jsxs("button",{onClick:()=>{var U;return(U=sn.current)==null?void 0:U.click()},className:"shrink-0 px-3 py-2 rounded-xl border flex flex-col items-center justify-center gap-1 transition-all w-[110px] h-[70px] snap-center bg-gray-800/50 border-dashed border-gray-500 hover:bg-gray-700 active:scale-90 hover:border-white text-gray-400 hover:text-white",children:[h.jsx(Ky,{size:24}),h.jsx("span",{className:"text-[9px] font-bold uppercase tracking-tighter",children:"Upload"})]}),(v?C:[...C,...T_]).map(U=>h.jsxs("button",{onClick:()=>{He(te.id,{style:{fontFamily:U}}),Ie(i)},className:`shrink-0 px-3 py-2 rounded-xl border flex flex-col items-center justify-between transition-all w-[110px] h-[70px] snap-center active:scale-90
                      ${te.style.fontFamily===U?"bg-brand-500/20 border-brand-500 ring-1 ring-brand-500 scale-105":"bg-gray-800/50 border-gray-700 hover:bg-gray-700 hover:border-gray-500"}`,children:[h.jsx("span",{style:{fontFamily:U},className:"text-2xl text-white whitespace-nowrap leading-none mt-1",children:"Ag"}),h.jsx("span",{className:"text-[9px] text-gray-400 truncate w-full text-center font-medium mt-auto tracking-tighter",children:U})]},U))]})]});case"size":return h.jsxs("div",{className:_,children:[h.jsxs("div",{className:"flex justify-between mb-4",children:[h.jsx("h4",{className:"text-white text-xs font-bold uppercase tracking-widest opacity-60",children:"Tamanho"}),h.jsxs("span",{className:"text-brand-400 text-xs font-bold",children:[te.style.fontSize,"px"]})]}),h.jsx("input",{type:"range",min:"10",max:"200",value:te.style.fontSize,onChange:U=>He(te.id,{style:{fontSize:Number(U.target.value)}}),onMouseUp:Ot,onTouchEnd:Ot,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-brand-500"})]});case"opacity":return h.jsxs("div",{className:_,children:[h.jsxs("div",{className:"flex justify-between mb-4",children:[h.jsx("h4",{className:"text-white text-xs font-bold uppercase tracking-widest opacity-60",children:"Opacidade"}),h.jsxs("span",{className:"text-brand-400 text-xs font-bold",children:[Math.round((te.style.opacity??1)*100),"%"]})]}),h.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:te.style.opacity??1,onChange:U=>He(te.id,{style:{opacity:Number(U.target.value)}}),onMouseUp:Ot,onTouchEnd:Ot,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-brand-500"})]});case"color":case"stroke":const I=d==="color",Y=I?te.type===z.TEXT?"Cor do Texto":"Preenchimento":"Contorno",$=I?te.type===z.TEXT?"color":"backgroundColor":te.type===z.TEXT?"textStrokeColor":"borderColor",N=te.style[$]||(I?"#000000":"transparent"),le=U=>{He(te.id,{style:{[$]:U}})},ae=U=>{const xe=He(te.id,{style:{[$]:U}});Ie(xe)},ie=og();return h.jsxs("div",{className:_,children:[h.jsxs("div",{className:"flex items-center justify-between mb-6 sticky top-0 bg-workspace-800/95 backdrop-blur z-10 -m-4 p-4 border-b border-gray-700/50",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 rounded-xl shadow-lg border border-white/20",style:{backgroundColor:N}}),h.jsx("h4",{className:"text-white text-[10px] font-bold uppercase tracking-[0.2em]",children:Y})]}),h.jsxs("div",{className:"relative",children:[h.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 font-bold text-xs uppercase",children:"Hex"}),h.jsx("input",{type:"text",value:N.replace("#",""),onChange:U=>{const xe=U.target.value;xe.length<=6&&le("#"+xe)},onBlur:()=>ae(N),className:"bg-gray-900 text-white text-xs pl-12 pr-4 py-2 rounded-xl border border-gray-600 focus:border-brand-500 outline-none w-32 font-mono uppercase text-right"})]})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-8",children:[h.jsxs("button",{onClick:ig,className:"flex flex-col items-center gap-1.5 p-3 rounded-2xl bg-gray-700/50 hover:bg-gray-700 active:scale-95 transition-all text-white border border-gray-600/50",children:[h.jsx(Jc,{size:20,className:"text-brand-400"}),h.jsx("span",{className:"text-[8px] font-bold uppercase tracking-widest opacity-80",children:"Gotas"})]}),h.jsxs("div",{className:"relative group",children:[h.jsx("input",{type:"color",value:N==="transparent"?"#ffffff":N,onChange:U=>le(U.target.value),onBlur:U=>ae(U.target.value),className:"absolute inset-0 opacity-0 w-full h-full cursor-pointer z-20"}),h.jsxs("div",{className:"flex flex-col items-center gap-1.5 p-3 rounded-2xl bg-gradient-to-br from-gray-700/50 to-gray-800/50 text-white border border-gray-600/50 relative overflow-hidden group-active:scale-95 transition-all",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/20 via-green-500/20 to-blue-500/20 opacity-0 group-hover:opacity-100 transition-opacity"}),h.jsx(di,{size:20,className:"text-brand-300 relative z-10"}),h.jsx("span",{className:"text-[8px] font-bold uppercase tracking-widest opacity-80 relative z-10",children:"Espectro"})]})]}),h.jsxs("button",{onClick:()=>wu(N),className:"flex flex-col items-center gap-1.5 p-3 rounded-2xl bg-gray-700/50 hover:bg-gray-700 active:scale-95 transition-all text-white border border-gray-600/50",children:[h.jsx(rv,{size:20,className:"text-emerald-400"}),h.jsx("span",{className:"text-[8px] font-bold uppercase tracking-widest opacity-80",children:"Salvar"})]})]}),!I&&h.jsxs("div",{className:"mb-8 p-4 bg-gray-900/50 rounded-2xl border border-gray-700/30",children:[h.jsxs("div",{className:"flex justify-between mb-3",children:[h.jsx("label",{className:"text-[9px] text-gray-500 font-bold uppercase tracking-widest",children:"Espessura da Borda"}),h.jsxs("span",{className:"text-brand-400 text-xs font-bold",children:[te.style[te.type===z.TEXT?"textStrokeWidth":"borderWidth"]||0,"px"]})]}),h.jsx("input",{type:"range",min:"0",max:"20",value:te.style[te.type===z.TEXT?"textStrokeWidth":"borderWidth"]||0,onChange:U=>{const xe=te.type===z.TEXT?"textStrokeWidth":"borderWidth";He(te.id,{style:{[xe]:Number(U.target.value)}})},onMouseUp:Ot,onTouchEnd:Ot,className:"w-full h-1.5 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-brand-500"})]}),h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{children:[h.jsxs("h5",{className:"text-[9px] font-bold text-gray-500 uppercase tracking-[0.2em] mb-4 flex items-center gap-2",children:[h.jsx("div",{className:"w-1 h-1 bg-brand-500 rounded-full"})," Cores do Documento"]}),h.jsxs("div",{className:"grid grid-cols-6 gap-3",children:[ie.map((U,xe)=>h.jsx(Xs,{color:U,isActive:N.toLowerCase()===U.toLowerCase(),onClick:()=>ae(U)},xe)),ie.length===0&&h.jsx("p",{className:"col-span-6 text-[10px] text-gray-500 italic",children:"Nenhuma cor detectada ainda..."})]})]}),h.jsxs("div",{children:[h.jsx("div",{className:"flex justify-between items-center mb-4",children:h.jsxs("h5",{className:"text-[9px] font-bold text-gray-500 uppercase tracking-[0.2em] flex items-center gap-2",children:[h.jsx("div",{className:"w-1 h-1 bg-emerald-500 rounded-full"})," Minha Paleta"]})}),h.jsxs("div",{className:"grid grid-cols-6 gap-3",children:[x.map((U,xe)=>h.jsx(Xs,{color:U,isActive:N.toLowerCase()===U.toLowerCase(),onClick:()=>ae(U),onContextMenu:pe=>{pe.preventDefault(),rg(U)}},xe)),h.jsx("button",{className:"w-10 h-10 rounded-full border-2 border-dashed border-gray-600 flex items-center justify-center text-gray-500 hover:text-white hover:border-white transition-all active:scale-90",onClick:()=>wu(N),children:h.jsx(Yh,{size:16})})]})]}),h.jsxs("div",{className:"pb-4",children:[h.jsxs("h5",{className:"text-[9px] font-bold text-gray-500 uppercase tracking-[0.2em] mb-4 flex items-center gap-2",children:[h.jsx("div",{className:"w-1 h-1 bg-amber-500 rounded-full"})," Padro"]}),h.jsx("div",{className:"grid grid-cols-6 gap-3",children:__.map(U=>h.jsx(Xs,{color:U,isActive:N.toLowerCase()===U.toLowerCase(),onClick:()=>ae(U)},U))})]})]})]});case"align":return h.jsxs("div",{className:_,children:[h.jsx("h4",{className:"text-white text-xs font-bold uppercase mb-4 tracking-widest opacity-60",children:"Alinhamento"}),h.jsx("div",{className:"flex bg-gray-900/50 rounded-2xl p-1.5 border border-gray-700/50",children:[{val:"left",icon:h.jsx(Gc,{size:20})},{val:"center",icon:h.jsx(By,{size:20})},{val:"right",icon:h.jsx($y,{size:20})},{val:"justify",icon:h.jsx(qy,{size:20})}].map(U=>h.jsx("button",{onClick:()=>{const xe=He(te.id,{style:{textAlign:U.val}});Ie(xe)},className:`flex-1 p-3 active:scale-90 transition-all rounded-xl flex justify-center ${te.style.textAlign===U.val?"bg-brand-500 text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:U.icon},U.val))})]});case"radius":return h.jsxs("div",{className:_,children:[h.jsxs("div",{className:"flex justify-between mb-4",children:[h.jsx("h4",{className:"text-white text-xs font-bold uppercase tracking-widest opacity-60",children:"Arredondar"}),h.jsxs("span",{className:"text-brand-400 text-xs font-bold",children:[te.style.borderRadius,"px"]})]}),h.jsx("input",{type:"range",min:"0",max:"200",value:te.style.borderRadius||0,onChange:U=>He(te.id,{style:{borderRadius:Number(U.target.value)}}),onMouseUp:Ot,onTouchEnd:Ot,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-brand-500"})]});case"crop":return h.jsxs("div",{className:_,children:[h.jsx("h4",{className:"text-white text-xs font-bold uppercase mb-4 tracking-widest opacity-60",children:"Ajuste de Imagem"}),h.jsxs("div",{className:"flex bg-gray-900/50 rounded-2xl p-1.5 border border-gray-700/50",children:[h.jsx("button",{onClick:()=>{const U=He(te.id,{style:{objectFit:"cover"}});Ie(U)},className:`flex-1 py-3 active:scale-95 transition-all px-4 rounded-xl text-[10px] font-bold uppercase tracking-widest ${te.style.objectFit==="cover"?"bg-brand-500 text-white shadow-lg":"text-gray-400"}`,children:"Preencher"}),h.jsx("button",{onClick:()=>{const U=He(te.id,{style:{objectFit:"contain"}});Ie(U)},className:`flex-1 py-3 active:scale-95 transition-all px-4 rounded-xl text-[10px] font-bold uppercase tracking-widest ${te.style.objectFit==="contain"?"bg-brand-500 text-white shadow-lg":"text-gray-400"}`,children:"Ajustar"}),h.jsx("button",{onClick:()=>{const U=He(te.id,{style:{objectFit:"fill"}});Ie(U)},className:`flex-1 py-3 active:scale-95 transition-all px-4 rounded-xl text-[10px] font-bold uppercase tracking-widest ${te.style.objectFit==="fill"?"bg-brand-500 text-white shadow-lg":"text-gray-400"}`,children:"Esticar"})]})]});case"shape-type":return h.jsxs("div",{className:_,children:[h.jsx("h4",{className:"text-white text-xs font-bold uppercase mb-4 tracking-widest opacity-60",children:"Tipo de Forma"}),h.jsx("div",{className:"grid grid-cols-4 gap-3",children:[{type:z.SHAPE_RECT,icon:h.jsx(lv,{size:20}),label:"Quad"},{type:z.SHAPE_CIRCLE,icon:h.jsx(zc,{size:20}),label:"Circ"},{type:z.SHAPE_TRIANGLE,icon:h.jsx(uv,{size:20}),label:"Tri"},{type:z.SHAPE_DIAMOND,icon:h.jsx(Yy,{size:20}),label:"Diam"},{type:z.SHAPE_STAR,icon:h.jsx(av,{size:20}),label:"Est"},{type:z.SHAPE_HEART,icon:h.jsx(Qy,{size:20}),label:"Cora"}].map(U=>h.jsxs("button",{onClick:()=>{const xe=He(te.id,{type:U.type});Ie(xe)},className:`p-3 active:scale-90 transition-all rounded-2xl flex flex-col items-center gap-1.5 ${te.type===U.type?"bg-brand-500 text-white scale-105 shadow-lg shadow-brand-500/20":"bg-gray-700/50 text-gray-400 hover:text-white border border-gray-600/30"}`,children:[U.icon,h.jsx("span",{className:"text-[9px] font-bold uppercase tracking-tighter",children:U.label})]},U.type))})]});default:return null}},lg=()=>{if(k&&te&&d){const _=d==="color"?te.type===z.TEXT?"color":"backgroundColor":te.type===z.TEXT?"textStrokeColor":"borderColor",I=He(te.id,{style:{[_]:k}});Ie(I)}R(null),A(!1)},Cu=()=>{R(null),A(!1)};return h.jsxs("div",{className:`fixed inset-0 w-full h-full bg-workspace-900 overflow-hidden flex flex-col font-sans select-none text-gray-100 ${T?"cursor-crosshair":""}`,children:[h.jsx("input",{type:"file",ref:ut,onChange:eg,accept:"image/*",className:"hidden"}),!T&&h.jsxs("header",{className:"h-14 shrink-0 bg-workspace-800 border-b border-gray-700 flex items-center justify-between px-4 z-20 shadow-lg",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 active:scale-90 transition-transform rounded-full text-gray-300",children:h.jsx(Oy,{size:20})}),h.jsx("span",{className:"font-bold text-sm text-gray-300 truncate max-w-[120px]",children:e.name})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:ys,className:"p-2 text-gray-400 hover:text-white active:scale-90 transition-all hover:bg-white/5 rounded-full",children:h.jsx(su,{size:18})}),h.jsx("button",{onClick:vs,className:"p-2 text-gray-400 hover:text-white active:scale-90 transition-all hover:bg-white/5 rounded-full",children:h.jsx(Kh,{size:18})}),h.jsx("div",{className:"w-px h-6 bg-gray-700 mx-1"}),h.jsxs("button",{onClick:()=>ve(!0),className:"p-2 text-gray-400 hover:text-white active:scale-90 transition-all hover:bg-white/5 rounded-full relative",children:[h.jsx(Wh,{size:18}),h.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-brand-500 rounded-full animate-pulse"})]}),h.jsxs("button",{onClick:xs,disabled:Le,className:"bg-white text-workspace-900 active:scale-95 transition-all px-4 py-1.5 rounded-full text-sm font-bold flex items-center gap-2 hover:bg-gray-100 shadow-lg disabled:opacity-50",children:[Le?h.jsx(ev,{size:16,className:"animate-spin"}):h.jsx(iu,{size:16}),h.jsx("span",{className:"hidden sm:inline",children:Le?"Exportando...":"Exportar PNG"})]})]})]}),h.jsxs("main",{ref:re,className:"flex-1 relative overflow-hidden bg-workspace-900 touch-none",onMouseDown:_=>{_.target===re.current&&u&&!T&&c(null)},onTouchStart:_=>{_.target===re.current&&u&&!T&&c(null)},children:[h.jsx("div",{ref:b,style:{transform:`translate(${ne.x-n/2}px, ${ne.y-o/2}px) scale(${ne.scale}) rotate(${ne.rotation}deg)`,transformOrigin:`${n/2}px ${o/2}px`,width:n,height:o,position:"absolute",top:0,left:0,willChange:"transform"},className:"checkerboard shadow-2xl relative overflow-hidden",children:i.map(_=>h.jsx(dv,{element:_,isSelected:u===_.id&&!T,canvasScale:ne.scale,canvasRotation:ne.rotation,onSelect:T?()=>{}:c,onUpdate:He,onInteractionEnd:Ot,onDelete:yu},_.id))}),T&&h.jsxs("div",{className:"absolute inset-0 z-[200] pointer-events-none flex flex-col items-center justify-between p-8 bg-black/10 animate-in fade-in duration-300",children:[h.jsxs("div",{className:"bg-workspace-800/90 backdrop-blur-xl border border-gray-600 p-4 rounded-2xl shadow-2xl pointer-events-auto flex items-center gap-4 animate-in slide-in-from-top-4",children:[h.jsx("div",{className:"w-10 h-10 rounded-full bg-brand-500 flex items-center justify-center text-white",children:h.jsx(Jc,{size:20})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-white font-bold text-sm",children:"Modo Conta-gotas"}),h.jsx("p",{className:"text-gray-400 text-[10px] uppercase font-bold tracking-widest",children:"Clique em qualquer lugar do canvas"})]}),h.jsx("button",{onClick:Cu,className:"ml-4 p-2 hover:bg-white/10 rounded-full text-gray-400 hover:text-white transition-colors",children:h.jsx(Yl,{size:20})})]}),k&&h.jsxs("div",{className:"bg-workspace-800/95 backdrop-blur-xl border border-white/20 p-6 rounded-3xl shadow-[0_32px_64px_rgba(0,0,0,0.5)] pointer-events-auto w-full max-w-xs flex flex-col items-center animate-in zoom-in-95 duration-300",children:[h.jsx("div",{className:"w-24 h-24 rounded-full shadow-inner border-4 border-workspace-900 mb-4 transition-colors duration-300",style:{backgroundColor:k}}),h.jsx("span",{className:"text-2xl font-mono font-bold text-white mb-2 uppercase tracking-tight",children:k}),h.jsx("p",{className:"text-xs text-gray-400 font-medium mb-6 uppercase tracking-widest",children:"Confirmar esta cor?"}),h.jsxs("div",{className:"flex gap-3 w-full",children:[h.jsx("button",{onClick:Cu,className:"flex-1 py-3 rounded-xl bg-gray-700/50 hover:bg-gray-700 text-white font-bold text-xs uppercase tracking-widest active:scale-95 transition-all",children:"Cancelar"}),h.jsx("button",{onClick:lg,className:"flex-1 py-3 rounded-xl bg-brand-600 hover:bg-brand-500 text-white font-bold text-xs uppercase tracking-widest shadow-lg shadow-brand-600/20 active:scale-95 transition-all",children:"Coletar"})]})]})]}),!T&&h.jsxs("div",{ref:Ue,className:`absolute top-4 right-4 w-72 bg-workspace-800/85 backdrop-blur-xl border border-gray-600/50 rounded-xl shadow-2xl flex flex-col transition-all duration-300 transform origin-top-right z-[150] max-h-[60vh] ${ce?"scale-100 opacity-100":"scale-90 opacity-0 pointer-events-none"}`,children:[h.jsx(I_,{title:"Camadas",onClose:()=>ve(!1)}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-1 custom-scrollbar",children:[h.jsx("div",{className:"text-[10px] text-gray-500 px-2 py-1 italic text-center uppercase font-bold tracking-widest opacity-60",children:"Pressione para opes"}),[...i].reverse().map((_,I)=>{var Y;return h.jsxs("div",{"data-layer-id":_.id,onClick:$=>{$.stopPropagation(),c(_.id)},onPointerDown:$=>Xm(_.id,$),onPointerUp:Eu,onPointerLeave:Eu,onPointerMove:Qm,className:`relative flex items-center gap-2 p-2 active:scale-[0.98] rounded-lg cursor-pointer group border transition-all select-none ${m===_.id?"opacity-50 scale-95 bg-brand-500/10 border-brand-500 border-dashed":u===_.id?"bg-brand-500/20 border-brand-500/50 shadow-sm":"bg-transparent border-transparent hover:bg-white/5"}`,onContextMenu:$=>$.preventDefault(),children:[h.jsx("div",{className:"drag-handle text-gray-500 hover:text-white cursor-grab active:cursor-grabbing p-1 touch-none",onPointerDown:$=>Ym(_.id,$),onPointerMove:Km,onPointerUp:Es,onPointerCancel:Es,onLostPointerCapture:Es,style:{touchAction:"none"},children:h.jsx(Xy,{size:14})}),h.jsx("div",{className:"flex items-center gap-1 shrink-0",children:h.jsx("div",{className:"w-8 h-8 bg-workspace-900 rounded border border-gray-600 flex items-center justify-center overflow-hidden shrink-0",children:_.type===z.IMAGE?h.jsx("img",{src:_.content,className:"w-full h-full object-cover",alt:""}):_.type===z.TEXT?h.jsx(Ko,{size:14,className:"text-gray-400"}):h.jsx("div",{className:"w-4 h-4 rounded-sm",style:{backgroundColor:_.style.backgroundColor}})})}),h.jsx("div",{className:"flex-1 min-w-0",children:h.jsx("span",{className:"text-[10px] font-bold text-gray-300 uppercase tracking-wider block truncate",children:_.type===z.TEXT?((Y=_.content)==null?void 0:Y.slice(0,15))||"Texto":_.type===z.IMAGE?"Imagem":"Forma"})}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("button",{onClick:$=>xu(_.id,$),className:`p-1.5 rounded active:scale-90 transition-transform hover:bg-white/10 ${_.visible===!1?"text-gray-500":"text-gray-400 hover:text-white"}`,children:_.visible===!1?h.jsx(qc,{size:14}):h.jsx($c,{size:14})}),h.jsx("button",{onClick:$=>vu(_.id,$),className:`p-1.5 rounded active:scale-90 transition-transform hover:bg-white/10 ${_.locked?"text-yellow-500":"text-gray-400 hover:text-white"}`,children:_.locked?h.jsx($l,{size:14}):h.jsx(Kc,{size:14})})]})]},_.id)})]}),g&&h.jsxs("div",{id:"layer-context-menu",className:"absolute inset-x-2 bottom-2 bg-workspace-900 border border-gray-600 rounded-lg shadow-2xl p-2 z-[160] animate-in slide-in-from-bottom-2 fade-in duration-200",onPointerDown:_=>_.stopPropagation(),children:[h.jsxs("div",{className:"flex items-center justify-between mb-2 pb-2 border-b border-gray-700",children:[h.jsx("span",{className:"text-xs font-bold text-white uppercase ml-1 tracking-widest",children:"Aes"}),h.jsx("button",{onClick:()=>E(null),className:"p-1 active:scale-90 transition-transform hover:bg-white/10 rounded-full",children:h.jsx(Yl,{size:14})})]}),h.jsxs("div",{className:"grid grid-cols-4 gap-1",children:[h.jsxs("button",{onClick:()=>Om(g),className:"flex flex-col items-center gap-1 p-2 active:scale-90 transition-all rounded hover:bg-white/5 text-gray-300 hover:text-white",children:[h.jsx(ru,{size:18}),h.jsx("span",{className:"text-[9px] font-bold uppercase tracking-tighter",children:"Dup"})]}),h.jsxs("button",{onClick:()=>vu(g),className:`flex flex-col items-center gap-1 p-2 active:scale-90 transition-all rounded hover:bg-white/5 ${(Su=i.find(_=>_.id===g))!=null&&Su.locked?"text-yellow-400":"text-gray-300"}`,children:[(Tu=i.find(_=>_.id===g))!=null&&Tu.locked?h.jsx($l,{size:18}):h.jsx(Kc,{size:18}),h.jsx("span",{className:"text-[9px] font-bold uppercase tracking-tighter",children:"Lock"})]}),h.jsxs("button",{onClick:()=>xu(g),className:`flex flex-col items-center gap-1 p-2 active:scale-90 transition-all rounded hover:bg-white/5 ${((_u=i.find(_=>_.id===g))==null?void 0:_u.visible)===!1?"text-gray-500":"text-gray-300"}`,children:[((Iu=i.find(_=>_.id===g))==null?void 0:Iu.visible)===!1?h.jsx(qc,{size:18}):h.jsx($c,{size:18}),h.jsx("span",{className:"text-[9px] font-bold uppercase tracking-tighter",children:"Ver"})]}),h.jsxs("button",{onClick:()=>Wm(g),className:"flex flex-col items-center gap-1 p-2 active:scale-90 transition-all rounded hover:bg-red-500/20 text-red-400 hover:text-red-300",children:[h.jsx(Jl,{size:18}),h.jsx("span",{className:"text-[9px] font-bold uppercase tracking-tighter",children:"Excluir"})]})]})]})]}),!T&&sg()]}),!T&&h.jsx("footer",{className:"h-20 shrink-0 bg-workspace-800 border-t border-gray-700 flex items-center px-4 overflow-x-auto gap-3 custom-scrollbar z-20",children:te?h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>{c(null),f(null)},className:"mr-2 p-2 active:scale-90 transition-all bg-gray-700 hover:bg-gray-600 rounded-full text-white shadow-md",children:h.jsx(Jy,{size:16})}),te.type===z.TEXT&&h.jsxs(h.Fragment,{children:[h.jsx(Se,{icon:h.jsx(so,{size:20}),label:"Editar",onClick:()=>{te&&(H(te.content||""),fe(!0))}}),h.jsx(Se,{icon:h.jsx(Ko,{size:20}),label:"Fonte",active:d==="font",onClick:()=>f(d==="font"?null:"font")}),h.jsx(Se,{icon:h.jsx(iv,{size:20}),label:"Tamanho",active:d==="size",onClick:()=>f(d==="size"?null:"size")}),h.jsx(Se,{icon:h.jsx(di,{size:20}),label:"Cor",active:d==="color",onClick:()=>f(d==="color"?null:"color")}),h.jsx(Se,{icon:h.jsx(Gc,{size:20}),label:"Alinhar",active:d==="align",onClick:()=>f(d==="align"?null:"align")}),h.jsx(Se,{icon:h.jsx(ci,{size:20}),label:"Opacity",active:d==="opacity",onClick:()=>f(d==="opacity"?null:"opacity")}),h.jsx(Se,{icon:h.jsx(so,{size:20}),label:"Borda",active:d==="stroke",onClick:()=>f(d==="stroke"?null:"stroke")})]}),te.type===z.IMAGE&&h.jsxs(h.Fragment,{children:[h.jsx(Se,{icon:h.jsx($h,{size:20}),label:"Fit",active:d==="crop",onClick:()=>f(d==="crop"?null:"crop")}),h.jsx(Se,{icon:h.jsx(sv,{size:20}),label:"Crop",onClick:()=>Me(te.id)}),h.jsx(Se,{icon:h.jsx(Oh,{size:20}),label:"BG IA",onClick:()=>ge(te.id)}),h.jsx(Se,{icon:h.jsx(zc,{size:20}),label:"Arred.",active:d==="radius",onClick:()=>f(d==="radius"?null:"radius")}),h.jsx(Se,{icon:h.jsx(so,{size:20}),label:"Borda",active:d==="stroke",onClick:()=>f(d==="stroke"?null:"stroke")}),h.jsx(Se,{icon:h.jsx(ci,{size:20}),label:"Opac.",active:d==="opacity",onClick:()=>f(d==="opacity"?null:"opacity")})]}),(te.type===z.SHAPE_RECT||te.type===z.SHAPE_CIRCLE||te.type===z.SHAPE_TRIANGLE||te.type===z.SHAPE_STAR||te.type===z.SHAPE_HEART||te.type===z.SHAPE_DIAMOND)&&h.jsxs(h.Fragment,{children:[h.jsx(Se,{icon:h.jsx(Ol,{size:20}),label:"Shape",active:d==="shape-type",onClick:()=>f(d==="shape-type"?null:"shape-type")}),h.jsx(Se,{icon:h.jsx(di,{size:20}),label:"Cor",active:d==="color",onClick:()=>f(d==="color"?null:"color")}),h.jsx(Se,{icon:h.jsx(so,{size:20}),label:"Cont.",active:d==="stroke",onClick:()=>f(d==="stroke"?null:"stroke")}),h.jsx(Se,{icon:h.jsx(ci,{size:20}),label:"Opac.",active:d==="opacity",onClick:()=>f(d==="opacity"?null:"opacity")})]}),h.jsx("div",{className:"w-px h-8 bg-gray-600 mx-2 shrink-0"}),h.jsx(Se,{icon:h.jsx(Jl,{size:20}),label:"Trash",danger:!0,onClick:yu})]}):h.jsxs("div",{className:"flex gap-4 items-center",children:[h.jsx(Se,{icon:h.jsx(Ko,{size:20}),label:"Texto",onClick:()=>Po(z.TEXT)}),h.jsx(Se,{icon:h.jsx(cv,{size:20}),label:"Foto",onClick:()=>{var _;return(_=ut.current)==null?void 0:_.click()}}),h.jsx(Se,{icon:h.jsx(Ol,{size:20}),label:"Forma",onClick:()=>Po(z.SHAPE_RECT)})]})}),V&&h.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-200 px-4",children:h.jsxs("div",{className:"bg-workspace-800/90 backdrop-blur-xl border border-gray-600/50 rounded-xl p-6 shadow-2xl max-sm w-full animate-in zoom-in-95 duration-200",children:[h.jsxs("h3",{className:"text-white font-bold text-lg mb-4 flex items-center gap-2 uppercase tracking-tighter",children:[h.jsx(Ko,{className:"text-brand-500"})," Editar Texto"]}),h.jsx("textarea",{value:$e,onChange:_=>H(_.target.value),className:"w-full bg-workspace-900 text-white p-3 rounded-lg border border-gray-600 focus:border-brand-500 outline-none mb-4 h-32 resize-none font-sans text-lg",autoFocus:!0,onFocus:_=>_.target.select()}),h.jsxs("div",{className:"flex justify-end gap-3",children:[h.jsx("button",{onClick:()=>fe(!1),className:"px-4 py-2 text-gray-400 hover:text-white active:scale-95 transition-transform uppercase font-bold text-xs tracking-widest",children:"Cancelar"}),h.jsx("button",{onClick:()=>{u&&(He(u,{content:$e}),Ie(i)),fe(!1)},className:"px-6 py-2 bg-brand-600 hover:bg-brand-500 active:scale-95 transition-transform text-white rounded-lg font-bold uppercase text-xs tracking-widest shadow-lg shadow-brand-600/20",children:"Pronto"})]})]})}),J&&h.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-200 px-4",children:h.jsxs("div",{className:"bg-workspace-800/90 backdrop-blur-xl border border-gray-600/50 rounded-xl p-6 shadow-2xl max-sm w-full animate-in zoom-in-95 duration-200",children:[h.jsxs("h3",{className:"text-white font-bold text-lg mb-4 flex items-center gap-2",children:[h.jsx(Wl,{className:"text-brand-500"})," Gerar com IA"]}),h.jsx("textarea",{value:W,onChange:_=>O(_.target.value),placeholder:"O que voc quer criar? Ex: Um gato neon...",className:"w-full bg-workspace-900 text-white p-3 rounded-lg border border-gray-600 focus:border-brand-500 outline-none mb-4 h-32 resize-none"}),h.jsxs("div",{className:"flex justify-end gap-3",children:[h.jsx("button",{onClick:()=>Q(!1),className:"px-4 py-2 text-gray-400 hover:text-white active:scale-95 transition-transform",children:"Cancelar"}),h.jsx("button",{onClick:jm,disabled:!W.trim()||Z,className:"px-6 py-2 bg-brand-600 hover:bg-brand-500 active:scale-95 transition-transform text-white rounded-lg font-bold flex items-center gap-2 disabled:opacity-50",children:Z?"Criando...":"Gerar"})]})]})}),h.jsx(qm,{isOpen:we.isOpen,title:"Excluir Elemento?",message:"Isso remover o item do seu design. Voc pode desfazer esta ao depois.",onConfirm:Jm,onCancel:()=>Re({isOpen:!1,elementId:null})}),Pe&&h.jsx(A_,{imageUrl:((Au=i.find(_=>_.id===Pe))==null?void 0:Au.content)||"",onCancel:()=>Me(null),onSave:tg}),ee&&h.jsx(k_,{imageUrl:((ku=i.find(_=>_.id===ee))==null?void 0:ku.content)||"",initialMaskUrl:(Nu=i.find(_=>_.id===ee))==null?void 0:Nu.maskImage,onCancel:()=>ge(null),onSave:ng})]})},b_=()=>{const[e,t]=D.useState(!0),[n,o]=D.useState("home"),[r,i]=D.useState(null),l=c=>{i(c),o("editor")},u=()=>{o("home"),i(null)};return h.jsx(h.Fragment,{children:e?h.jsx(M_,{onFinish:()=>t(!1)}):h.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-500 h-full w-full",children:[n==="home"&&h.jsx(D_,{onOpenProject:l}),n==="editor"&&r&&h.jsx(L_,{project:r,onBack:u})]})})},$m=document.getElementById("root");if(!$m)throw new Error("Could not find root element to mount to");const U_=Qs.createRoot($m);U_.render(h.jsx(Ag.StrictMode,{children:h.jsx(b_,{})}));
